/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@sanity";
exports.ids = ["vendor-chunks/@sanity"];
exports.modules = {

/***/ "(ssr)/./node_modules/@sanity/image-url/lib/node/builder.js":
/*!************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/builder.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __assign = this && this.__assign || function() {\n    __assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = this && this.__createBinding || (Object.create ? function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, {\n        enumerable: true,\n        get: function() {\n            return m[k];\n        }\n    });\n} : function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function(o, v) {\n    Object.defineProperty(o, \"default\", {\n        enumerable: true,\n        value: v\n    });\n} : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function(mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) {\n        for(var k in mod)if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    }\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.ImageUrlBuilder = void 0;\nvar urlForImage_1 = __importStar(__webpack_require__(/*! ./urlForImage */ \"(ssr)/./node_modules/@sanity/image-url/lib/node/urlForImage.js\"));\nvar validFits = [\n    \"clip\",\n    \"crop\",\n    \"fill\",\n    \"fillmax\",\n    \"max\",\n    \"scale\",\n    \"min\"\n];\nvar validCrops = [\n    \"top\",\n    \"bottom\",\n    \"left\",\n    \"right\",\n    \"center\",\n    \"focalpoint\",\n    \"entropy\"\n];\nvar validAutoModes = [\n    \"format\"\n];\nfunction isSanityModernClientLike(client) {\n    return client && \"config\" in client ? typeof client.config === \"function\" : false;\n}\nfunction isSanityClientLike(client) {\n    return client && \"clientConfig\" in client ? typeof client.clientConfig === \"object\" : false;\n}\nfunction rewriteSpecName(key) {\n    var specs = urlForImage_1.SPEC_NAME_TO_URL_NAME_MAPPINGS;\n    for(var _i = 0, specs_1 = specs; _i < specs_1.length; _i++){\n        var entry = specs_1[_i];\n        var specName = entry[0], param = entry[1];\n        if (key === specName || key === param) {\n            return specName;\n        }\n    }\n    return key;\n}\nfunction urlBuilder(options) {\n    // Did we get a modernish client?\n    if (isSanityModernClientLike(options)) {\n        // Inherit config from client\n        var _a = options.config(), apiUrl = _a.apiHost, projectId = _a.projectId, dataset = _a.dataset;\n        var apiHost = apiUrl || \"https://api.sanity.io\";\n        return new ImageUrlBuilder(null, {\n            baseUrl: apiHost.replace(/^https:\\/\\/api\\./, \"https://cdn.\"),\n            projectId: projectId,\n            dataset: dataset\n        });\n    }\n    // Did we get a SanityClient?\n    if (isSanityClientLike(options)) {\n        // Inherit config from client\n        var _b = options.clientConfig, apiUrl = _b.apiHost, projectId = _b.projectId, dataset = _b.dataset;\n        var apiHost = apiUrl || \"https://api.sanity.io\";\n        return new ImageUrlBuilder(null, {\n            baseUrl: apiHost.replace(/^https:\\/\\/api\\./, \"https://cdn.\"),\n            projectId: projectId,\n            dataset: dataset\n        });\n    }\n    // Or just accept the options as given\n    return new ImageUrlBuilder(null, options || {});\n}\nexports[\"default\"] = urlBuilder;\nvar ImageUrlBuilder = /** @class */ function() {\n    function ImageUrlBuilder(parent, options) {\n        this.options = parent ? __assign(__assign({}, parent.options || {}), options || {}) : __assign({}, options || {}); // Copy options\n    }\n    ImageUrlBuilder.prototype.withOptions = function(options) {\n        var baseUrl = options.baseUrl || this.options.baseUrl;\n        var newOptions = {\n            baseUrl: baseUrl\n        };\n        for(var key in options){\n            if (options.hasOwnProperty(key)) {\n                var specKey = rewriteSpecName(key);\n                newOptions[specKey] = options[key];\n            }\n        }\n        return new ImageUrlBuilder(this, __assign({\n            baseUrl: baseUrl\n        }, newOptions));\n    };\n    // The image to be represented. Accepts a Sanity 'image'-document, 'asset'-document or\n    // _id of asset. To get the benefit of automatic hot-spot/crop integration with the content\n    // studio, the 'image'-document must be provided.\n    ImageUrlBuilder.prototype.image = function(source) {\n        return this.withOptions({\n            source: source\n        });\n    };\n    // Specify the dataset\n    ImageUrlBuilder.prototype.dataset = function(dataset) {\n        return this.withOptions({\n            dataset: dataset\n        });\n    };\n    // Specify the projectId\n    ImageUrlBuilder.prototype.projectId = function(projectId) {\n        return this.withOptions({\n            projectId: projectId\n        });\n    };\n    // Specify background color\n    ImageUrlBuilder.prototype.bg = function(bg) {\n        return this.withOptions({\n            bg: bg\n        });\n    };\n    // Set DPR scaling factor\n    ImageUrlBuilder.prototype.dpr = function(dpr) {\n        // A DPR of 1 is the default - so only include it if we have a different value\n        return this.withOptions(dpr && dpr !== 1 ? {\n            dpr: dpr\n        } : {});\n    };\n    // Specify the width of the image in pixels\n    ImageUrlBuilder.prototype.width = function(width) {\n        return this.withOptions({\n            width: width\n        });\n    };\n    // Specify the height of the image in pixels\n    ImageUrlBuilder.prototype.height = function(height) {\n        return this.withOptions({\n            height: height\n        });\n    };\n    // Specify focal point in fraction of image dimensions. Each component 0.0-1.0\n    ImageUrlBuilder.prototype.focalPoint = function(x, y) {\n        return this.withOptions({\n            focalPoint: {\n                x: x,\n                y: y\n            }\n        });\n    };\n    ImageUrlBuilder.prototype.maxWidth = function(maxWidth) {\n        return this.withOptions({\n            maxWidth: maxWidth\n        });\n    };\n    ImageUrlBuilder.prototype.minWidth = function(minWidth) {\n        return this.withOptions({\n            minWidth: minWidth\n        });\n    };\n    ImageUrlBuilder.prototype.maxHeight = function(maxHeight) {\n        return this.withOptions({\n            maxHeight: maxHeight\n        });\n    };\n    ImageUrlBuilder.prototype.minHeight = function(minHeight) {\n        return this.withOptions({\n            minHeight: minHeight\n        });\n    };\n    // Specify width and height in pixels\n    ImageUrlBuilder.prototype.size = function(width, height) {\n        return this.withOptions({\n            width: width,\n            height: height\n        });\n    };\n    // Specify blur between 0 and 100\n    ImageUrlBuilder.prototype.blur = function(blur) {\n        return this.withOptions({\n            blur: blur\n        });\n    };\n    ImageUrlBuilder.prototype.sharpen = function(sharpen) {\n        return this.withOptions({\n            sharpen: sharpen\n        });\n    };\n    // Specify the desired rectangle of the image\n    ImageUrlBuilder.prototype.rect = function(left, top, width, height) {\n        return this.withOptions({\n            rect: {\n                left: left,\n                top: top,\n                width: width,\n                height: height\n            }\n        });\n    };\n    // Specify the image format of the image. 'jpg', 'pjpg', 'png', 'webp'\n    ImageUrlBuilder.prototype.format = function(format) {\n        return this.withOptions({\n            format: format\n        });\n    };\n    ImageUrlBuilder.prototype.invert = function(invert) {\n        return this.withOptions({\n            invert: invert\n        });\n    };\n    // Rotation in degrees 0, 90, 180, 270\n    ImageUrlBuilder.prototype.orientation = function(orientation) {\n        return this.withOptions({\n            orientation: orientation\n        });\n    };\n    // Compression quality 0-100\n    ImageUrlBuilder.prototype.quality = function(quality) {\n        return this.withOptions({\n            quality: quality\n        });\n    };\n    // Make it a download link. Parameter is default filename.\n    ImageUrlBuilder.prototype.forceDownload = function(download) {\n        return this.withOptions({\n            download: download\n        });\n    };\n    // Flip image horizontally\n    ImageUrlBuilder.prototype.flipHorizontal = function() {\n        return this.withOptions({\n            flipHorizontal: true\n        });\n    };\n    // Flip image vertically\n    ImageUrlBuilder.prototype.flipVertical = function() {\n        return this.withOptions({\n            flipVertical: true\n        });\n    };\n    // Ignore crop/hotspot from image record, even when present\n    ImageUrlBuilder.prototype.ignoreImageParams = function() {\n        return this.withOptions({\n            ignoreImageParams: true\n        });\n    };\n    ImageUrlBuilder.prototype.fit = function(value) {\n        if (validFits.indexOf(value) === -1) {\n            throw new Error('Invalid fit mode \"'.concat(value, '\"'));\n        }\n        return this.withOptions({\n            fit: value\n        });\n    };\n    ImageUrlBuilder.prototype.crop = function(value) {\n        if (validCrops.indexOf(value) === -1) {\n            throw new Error('Invalid crop mode \"'.concat(value, '\"'));\n        }\n        return this.withOptions({\n            crop: value\n        });\n    };\n    // Saturation\n    ImageUrlBuilder.prototype.saturation = function(saturation) {\n        return this.withOptions({\n            saturation: saturation\n        });\n    };\n    ImageUrlBuilder.prototype.auto = function(value) {\n        if (validAutoModes.indexOf(value) === -1) {\n            throw new Error('Invalid auto mode \"'.concat(value, '\"'));\n        }\n        return this.withOptions({\n            auto: value\n        });\n    };\n    // Specify the number of pixels to pad the image\n    ImageUrlBuilder.prototype.pad = function(pad) {\n        return this.withOptions({\n            pad: pad\n        });\n    };\n    // Vanity URL for more SEO friendly URLs\n    ImageUrlBuilder.prototype.vanityName = function(value) {\n        return this.withOptions({\n            vanityName: value\n        });\n    };\n    ImageUrlBuilder.prototype.frame = function(frame) {\n        if (frame !== 1) {\n            throw new Error('Invalid frame value \"'.concat(frame, '\"'));\n        }\n        return this.withOptions({\n            frame: frame\n        });\n    };\n    // Gets the url based on the submitted parameters\n    ImageUrlBuilder.prototype.url = function() {\n        return (0, urlForImage_1.default)(this.options);\n    };\n    // Alias for url()\n    ImageUrlBuilder.prototype.toString = function() {\n        return this.url();\n    };\n    return ImageUrlBuilder;\n}();\nexports.ImageUrlBuilder = ImageUrlBuilder; //# sourceMappingURL=builder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvYnVpbGRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLElBQUlBLFdBQVcsSUFBSyxJQUFJLElBQUksQ0FBQ0EsUUFBUSxJQUFLO0lBQ3RDQSxXQUFXQyxPQUFPQyxNQUFNLElBQUksU0FBU0MsQ0FBQztRQUNsQyxJQUFLLElBQUlDLEdBQUdDLElBQUksR0FBR0MsSUFBSUMsVUFBVUMsTUFBTSxFQUFFSCxJQUFJQyxHQUFHRCxJQUFLO1lBQ2pERCxJQUFJRyxTQUFTLENBQUNGLEVBQUU7WUFDaEIsSUFBSyxJQUFJSSxLQUFLTCxFQUFHLElBQUlILE9BQU9TLFNBQVMsQ0FBQ0MsY0FBYyxDQUFDQyxJQUFJLENBQUNSLEdBQUdLLElBQ3pETixDQUFDLENBQUNNLEVBQUUsR0FBR0wsQ0FBQyxDQUFDSyxFQUFFO1FBQ25CO1FBQ0EsT0FBT047SUFDWDtJQUNBLE9BQU9ILFNBQVNhLEtBQUssQ0FBQyxJQUFJLEVBQUVOO0FBQ2hDO0FBQ0EsSUFBSU8sa0JBQWtCLElBQUssSUFBSSxJQUFJLENBQUNBLGVBQWUsSUFBTWIsQ0FBQUEsT0FBT2MsTUFBTSxHQUFJLFNBQVNDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLEVBQUU7SUFDMUYsSUFBSUEsT0FBT0MsV0FBV0QsS0FBS0Q7SUFDM0JqQixPQUFPb0IsY0FBYyxDQUFDTCxHQUFHRyxJQUFJO1FBQUVHLFlBQVk7UUFBTUMsS0FBSztZQUFhLE9BQU9OLENBQUMsQ0FBQ0MsRUFBRTtRQUFFO0lBQUU7QUFDdEYsSUFBTSxTQUFTRixDQUFDLEVBQUVDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxFQUFFO0lBQ3RCLElBQUlBLE9BQU9DLFdBQVdELEtBQUtEO0lBQzNCRixDQUFDLENBQUNHLEdBQUcsR0FBR0YsQ0FBQyxDQUFDQyxFQUFFO0FBQ2hCLENBQUM7QUFDRCxJQUFJTSxxQkFBcUIsSUFBSyxJQUFJLElBQUksQ0FBQ0Es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LElBQUksQ0FBQ3NDLFdBQVcsQ0FBQztZQUFFdUMsWUFBWTdFO1FBQU07SUFDaEQ7SUFDQU0sZ0JBQWdCdEIsU0FBUyxDQUFDOEYsS0FBSyxHQUFHLFNBQVVBLEtBQUs7UUFDN0MsSUFBSUEsVUFBVSxHQUFHO1lBQ2IsTUFBTSxJQUFJUCxNQUFNLHdCQUF5QkMsTUFBTSxDQUFDTSxPQUFPO1FBQzNEO1FBQ0EsT0FBTyxJQUFJLENBQUN4QyxXQUFXLENBQUM7WUFBRXdDLE9BQU9BO1FBQU07SUFDM0M7SUFDQSxpREFBaUQ7SUFDakR4RSxnQkFBZ0J0QixTQUFTLENBQUMrRixHQUFHLEdBQUc7UUFDNUIsT0FBTyxDQUFDLEdBQUd4RSxjQUFjNkIsT0FBTyxFQUFFLElBQUksQ0FBQ1QsT0FBTztJQUNsRDtJQUNBLGtCQUFrQjtJQUNsQnJCLGdCQUFnQnRCLFNBQVMsQ0FBQ2dHLFFBQVEsR0FBRztRQUNqQyxPQUFPLElBQUksQ0FBQ0QsR0FBRztJQUNuQjtJQUNBLE9BQU96RTtBQUNYO0FBQ0FELHVCQUF1QixHQUFHQyxpQkFDMUIsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWRtaXNzaW9uLXVwbGlmdC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2ltYWdlLXVybC9saWIvbm9kZS9idWlsZGVyLmpzPzdhOTYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkltYWdlVXJsQnVpbGRlciA9IHZvaWQgMDtcbnZhciB1cmxGb3JJbWFnZV8xID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL3VybEZvckltYWdlXCIpKTtcbnZhciB2YWxpZEZpdHMgPSBbJ2NsaXAnLCAnY3JvcCcsICdmaWxsJywgJ2ZpbGxtYXgnLCAnbWF4JywgJ3NjYWxlJywgJ21pbiddO1xudmFyIHZhbGlkQ3JvcHMgPSBbJ3RvcCcsICdib3R0b20nLCAnbGVmdCcsICdyaWdodCcsICdjZW50ZXInLCAnZm9jYWxwb2ludCcsICdlbnRyb3B5J107XG52YXIgdmFsaWRBdXRvTW9kZXMgPSBbJ2Zvcm1hdCddO1xuZnVuY3Rpb24gaXNTYW5pdHlNb2Rlcm5DbGllbnRMaWtlKGNsaWVudCkge1xuICAgIHJldHVybiBjbGllbnQgJiYgJ2NvbmZpZycgaW4gY2xpZW50ID8gdHlwZW9mIGNsaWVudC5jb25maWcgPT09ICdmdW5jdGlvbicgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzU2FuaXR5Q2xpZW50TGlrZShjbGllbnQpIHtcbiAgICByZXR1cm4gY2xpZW50ICYmICdjbGllbnRDb25maWcnIGluIGNsaWVudCA/IHR5cGVvZiBjbGllbnQuY2xpZW50Q29uZmlnID09PSAnb2JqZWN0JyA6IGZhbHNlO1xufVxuZnVuY3Rpb24gcmV3cml0ZVNwZWNOYW1lKGtleSkge1xuICAgIHZhciBzcGVjcyA9IHVybEZvckltYWdlXzEuU1BFQ19OQU1FX1RPX1VSTF9OQU1FX01BUFBJTkdTO1xuICAgIGZvciAodmFyIF9pID0gMCwgc3BlY3NfMSA9IHNwZWNzOyBfaSA8IHNwZWNzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHNwZWNzXzFbX2ldO1xuICAgICAgICB2YXIgc3BlY05hbWUgPSBlbnRyeVswXSwgcGFyYW0gPSBlbnRyeVsxXTtcbiAgICAgICAgaWYgKGtleSA9PT0gc3BlY05hbWUgfHwga2V5ID09PSBwYXJhbSkge1xuICAgICAgICAgICAgcmV0dXJuIHNwZWNOYW1lO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG59XG5mdW5jdGlvbiB1cmxCdWlsZGVyKG9wdGlvbnMpIHtcbiAgICAvLyBEaWQgd2UgZ2V0IGEgbW9kZXJuaXNoIGNsaWVudD9cbiAgICBpZiAoaXNTYW5pdHlNb2Rlcm5DbGllbnRMaWtlKG9wdGlvbnMpKSB7XG4gICAgICAgIC8vIEluaGVyaXQgY29uZmlnIGZyb20gY2xpZW50XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMuY29uZmlnKCksIGFwaVVybCA9IF9hLmFwaUhvc3QsIHByb2plY3RJZCA9IF9hLnByb2plY3RJZCwgZGF0YXNldCA9IF9hLmRhdGFzZXQ7XG4gICAgICAgIHZhciBhcGlIb3N0ID0gYXBpVXJsIHx8ICdodHRwczovL2FwaS5zYW5pdHkuaW8nO1xuICAgICAgICByZXR1cm4gbmV3IEltYWdlVXJsQnVpbGRlcihudWxsLCB7XG4gICAgICAgICAgICBiYXNlVXJsOiBhcGlIb3N0LnJlcGxhY2UoL15odHRwczpcXC9cXC9hcGlcXC4vLCAnaHR0cHM6Ly9jZG4uJyksXG4gICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RJZCxcbiAgICAgICAgICAgIGRhdGFzZXQ6IGRhdGFzZXQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBEaWQgd2UgZ2V0IGEgU2FuaXR5Q2xpZW50P1xuICAgIGlmIChpc1Nhbml0eUNsaWVudExpa2Uob3B0aW9ucykpIHtcbiAgICAgICAgLy8gSW5oZXJpdCBjb25maWcgZnJvbSBjbGllbnRcbiAgICAgICAgdmFyIF9iID0gb3B0aW9ucy5jbGllbnRDb25maWcsIGFwaVVybCA9IF9iLmFwaUhvc3QsIHByb2plY3RJZCA9IF9iLnByb2plY3RJZCwgZGF0YXNldCA9IF9iLmRhdGFzZXQ7XG4gICAgICAgIHZhciBhcGlIb3N0ID0gYXBpVXJsIHx8ICdodHRwczovL2FwaS5zYW5pdHkuaW8nO1xuICAgICAgICByZXR1cm4gbmV3IEltYWdlVXJsQnVpbGRlcihudWxsLCB7XG4gICAgICAgICAgICBiYXNlVXJsOiBhcGlIb3N0LnJlcGxhY2UoL15odHRwczpcXC9cXC9hcGlcXC4vLCAnaHR0cHM6Ly9jZG4uJyksXG4gICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RJZCxcbiAgICAgICAgICAgIGRhdGFzZXQ6IGRhdGFzZXQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBPciBqdXN0IGFjY2VwdCB0aGUgb3B0aW9ucyBhcyBnaXZlblxuICAgIHJldHVybiBuZXcgSW1hZ2VVcmxCdWlsZGVyKG51bGwsIG9wdGlvbnMgfHwge30pO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gdXJsQnVpbGRlcjtcbnZhciBJbWFnZVVybEJ1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW1hZ2VVcmxCdWlsZGVyKHBhcmVudCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBwYXJlbnRcbiAgICAgICAgICAgID8gX19hc3NpZ24oX19hc3NpZ24oe30sIChwYXJlbnQub3B0aW9ucyB8fCB7fSkpLCAob3B0aW9ucyB8fCB7fSkpIDogX19hc3NpZ24oe30sIChvcHRpb25zIHx8IHt9KSk7IC8vIENvcHkgb3B0aW9uc1xuICAgIH1cbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLndpdGhPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGJhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmwgfHwgdGhpcy5vcHRpb25zLmJhc2VVcmw7XG4gICAgICAgIHZhciBuZXdPcHRpb25zID0geyBiYXNlVXJsOiBiYXNlVXJsIH07XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNwZWNLZXkgPSByZXdyaXRlU3BlY05hbWUoa2V5KTtcbiAgICAgICAgICAgICAgICBuZXdPcHRpb25zW3NwZWNLZXldID0gb3B0aW9uc1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgSW1hZ2VVcmxCdWlsZGVyKHRoaXMsIF9fYXNzaWduKHsgYmFzZVVybDogYmFzZVVybCB9LCBuZXdPcHRpb25zKSk7XG4gICAgfTtcbiAgICAvLyBUaGUgaW1hZ2UgdG8gYmUgcmVwcmVzZW50ZWQuIEFjY2VwdHMgYSBTYW5pdHkgJ2ltYWdlJy1kb2N1bWVudCwgJ2Fzc2V0Jy1kb2N1bWVudCBvclxuICAgIC8vIF9pZCBvZiBhc3NldC4gVG8gZ2V0IHRoZSBiZW5lZml0IG9mIGF1dG9tYXRpYyBob3Qtc3BvdC9jcm9wIGludGVncmF0aW9uIHdpdGggdGhlIGNvbnRlbnRcbiAgICAvLyBzdHVkaW8sIHRoZSAnaW1hZ2UnLWRvY3VtZW50IG11c3QgYmUgcHJvdmlkZWQuXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5pbWFnZSA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBzb3VyY2U6IHNvdXJjZSB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgdGhlIGRhdGFzZXRcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmRhdGFzZXQgPSBmdW5jdGlvbiAoZGF0YXNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGRhdGFzZXQ6IGRhdGFzZXQgfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IHRoZSBwcm9qZWN0SWRcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnByb2plY3RJZCA9IGZ1bmN0aW9uIChwcm9qZWN0SWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBwcm9qZWN0SWQ6IHByb2plY3RJZCB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgYmFja2dyb3VuZCBjb2xvclxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuYmcgPSBmdW5jdGlvbiAoYmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBiZzogYmcgfSk7XG4gICAgfTtcbiAgICAvLyBTZXQgRFBSIHNjYWxpbmcgZmFjdG9yXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5kcHIgPSBmdW5jdGlvbiAoZHByKSB7XG4gICAgICAgIC8vIEEgRFBSIG9mIDEgaXMgdGhlIGRlZmF1bHQgLSBzbyBvbmx5IGluY2x1ZGUgaXQgaWYgd2UgaGF2ZSBhIGRpZmZlcmVudCB2YWx1ZVxuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyhkcHIgJiYgZHByICE9PSAxID8geyBkcHI6IGRwciB9IDoge30pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSB0aGUgd2lkdGggb2YgdGhlIGltYWdlIGluIHBpeGVsc1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUud2lkdGggPSBmdW5jdGlvbiAod2lkdGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyB3aWR0aDogd2lkdGggfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IHRoZSBoZWlnaHQgb2YgdGhlIGltYWdlIGluIHBpeGVsc1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuaGVpZ2h0ID0gZnVuY3Rpb24gKGhlaWdodCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGhlaWdodDogaGVpZ2h0IH0pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSBmb2NhbCBwb2ludCBpbiBmcmFjdGlvbiBvZiBpbWFnZSBkaW1lbnNpb25zLiBFYWNoIGNvbXBvbmVudCAwLjAtMS4wXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5mb2NhbFBvaW50ID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBmb2NhbFBvaW50OiB7IHg6IHgsIHk6IHkgfSB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUubWF4V2lkdGggPSBmdW5jdGlvbiAobWF4V2lkdGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBtYXhXaWR0aDogbWF4V2lkdGggfSk7XG4gICAgfTtcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLm1pbldpZHRoID0gZnVuY3Rpb24gKG1pbldpZHRoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgbWluV2lkdGg6IG1pbldpZHRoIH0pO1xuICAgIH07XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5tYXhIZWlnaHQgPSBmdW5jdGlvbiAobWF4SGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgbWF4SGVpZ2h0OiBtYXhIZWlnaHQgfSk7XG4gICAgfTtcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLm1pbkhlaWdodCA9IGZ1bmN0aW9uIChtaW5IZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBtaW5IZWlnaHQ6IG1pbkhlaWdodCB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgd2lkdGggYW5kIGhlaWdodCBpbiBwaXhlbHNcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IGJsdXIgYmV0d2VlbiAwIGFuZCAxMDBcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmJsdXIgPSBmdW5jdGlvbiAoYmx1cikge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGJsdXI6IGJsdXIgfSk7XG4gICAgfTtcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnNoYXJwZW4gPSBmdW5jdGlvbiAoc2hhcnBlbikge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IHNoYXJwZW46IHNoYXJwZW4gfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IHRoZSBkZXNpcmVkIHJlY3RhbmdsZSBvZiB0aGUgaW1hZ2VcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnJlY3QgPSBmdW5jdGlvbiAobGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgcmVjdDogeyBsZWZ0OiBsZWZ0LCB0b3A6IHRvcCwgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9IH0pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSB0aGUgaW1hZ2UgZm9ybWF0IG9mIHRoZSBpbWFnZS4gJ2pwZycsICdwanBnJywgJ3BuZycsICd3ZWJwJ1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGZvcm1hdDogZm9ybWF0IH0pO1xuICAgIH07XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoaW52ZXJ0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgaW52ZXJ0OiBpbnZlcnQgfSk7XG4gICAgfTtcbiAgICAvLyBSb3RhdGlvbiBpbiBkZWdyZWVzIDAsIDkwLCAxODAsIDI3MFxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUub3JpZW50YXRpb24gPSBmdW5jdGlvbiAob3JpZW50YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBvcmllbnRhdGlvbjogb3JpZW50YXRpb24gfSk7XG4gICAgfTtcbiAgICAvLyBDb21wcmVzc2lvbiBxdWFsaXR5IDAtMTAwXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5xdWFsaXR5ID0gZnVuY3Rpb24gKHF1YWxpdHkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBxdWFsaXR5OiBxdWFsaXR5IH0pO1xuICAgIH07XG4gICAgLy8gTWFrZSBpdCBhIGRvd25sb2FkIGxpbmsuIFBhcmFtZXRlciBpcyBkZWZhdWx0IGZpbGVuYW1lLlxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuZm9yY2VEb3dubG9hZCA9IGZ1bmN0aW9uIChkb3dubG9hZCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGRvd25sb2FkOiBkb3dubG9hZCB9KTtcbiAgICB9O1xuICAgIC8vIEZsaXAgaW1hZ2UgaG9yaXpvbnRhbGx5XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5mbGlwSG9yaXpvbnRhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBmbGlwSG9yaXpvbnRhbDogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIC8vIEZsaXAgaW1hZ2UgdmVydGljYWxseVxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuZmxpcFZlcnRpY2FsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGZsaXBWZXJ0aWNhbDogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIC8vIElnbm9yZSBjcm9wL2hvdHNwb3QgZnJvbSBpbWFnZSByZWNvcmQsIGV2ZW4gd2hlbiBwcmVzZW50XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5pZ25vcmVJbWFnZVBhcmFtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBpZ25vcmVJbWFnZVBhcmFtczogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuZml0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWxpZEZpdHMuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGZpdCBtb2RlIFxcXCJcIi5jb25jYXQodmFsdWUsIFwiXFxcIlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBmaXQ6IHZhbHVlIH0pO1xuICAgIH07XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWxpZENyb3BzLmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjcm9wIG1vZGUgXFxcIlwiLmNvbmNhdCh2YWx1ZSwgXCJcXFwiXCIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGNyb3A6IHZhbHVlIH0pO1xuICAgIH07XG4gICAgLy8gU2F0dXJhdGlvblxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuc2F0dXJhdGlvbiA9IGZ1bmN0aW9uIChzYXR1cmF0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgc2F0dXJhdGlvbjogc2F0dXJhdGlvbiB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuYXV0byA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsaWRBdXRvTW9kZXMuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGF1dG8gbW9kZSBcXFwiXCIuY29uY2F0KHZhbHVlLCBcIlxcXCJcIikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgYXV0bzogdmFsdWUgfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IHRoZSBudW1iZXIgb2YgcGl4ZWxzIHRvIHBhZCB0aGUgaW1hZ2VcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnBhZCA9IGZ1bmN0aW9uIChwYWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBwYWQ6IHBhZCB9KTtcbiAgICB9O1xuICAgIC8vIFZhbml0eSBVUkwgZm9yIG1vcmUgU0VPIGZyaWVuZGx5IFVSTHNcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnZhbml0eU5hbWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyB2YW5pdHlOYW1lOiB2YWx1ZSB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuZnJhbWUgPSBmdW5jdGlvbiAoZnJhbWUpIHtcbiAgICAgICAgaWYgKGZyYW1lICE9PSAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGZyYW1lIHZhbHVlIFxcXCJcIi5jb25jYXQoZnJhbWUsIFwiXFxcIlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBmcmFtZTogZnJhbWUgfSk7XG4gICAgfTtcbiAgICAvLyBHZXRzIHRoZSB1cmwgYmFzZWQgb24gdGhlIHN1Ym1pdHRlZCBwYXJhbWV0ZXJzXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS51cmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAoMCwgdXJsRm9ySW1hZ2VfMS5kZWZhdWx0KSh0aGlzLm9wdGlvbnMpO1xuICAgIH07XG4gICAgLy8gQWxpYXMgZm9yIHVybCgpXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsKCk7XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VVcmxCdWlsZGVyO1xufSgpKTtcbmV4cG9ydHMuSW1hZ2VVcmxCdWlsZGVyID0gSW1hZ2VVcmxCdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVpbGRlci5qcy5tYXAiXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwiX19jcmVhdGVCaW5kaW5nIiwiY3JlYXRlIiwibyIsIm0iLCJrIiwiazIiLCJ1bmRlZmluZWQiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJfX3NldE1vZHVsZURlZmF1bHQiLCJ2IiwidmFsdWUiLCJfX2ltcG9ydFN0YXIiLCJtb2QiLCJfX2VzTW9kdWxlIiwicmVzdWx0IiwiZXhwb3J0cyIsIkltYWdlVXJsQnVpbGRlciIsInVybEZvckltYWdlXzEiLCJyZXF1aXJlIiwidmFsaWRGaXRzIiwidmFsaWRDcm9wcyIsInZhbGlkQXV0b01vZGVzIiwiaXNTYW5pdHlNb2Rlcm5DbGllbnRMaWtlIiwiY2xpZW50IiwiY29uZmlnIiwiaXNTYW5pdHlDbGllbnRMaWtlIiwiY2xpZW50Q29uZmlnIiwicmV3cml0ZVNwZWNOYW1lIiwia2V5Iiwic3BlY3MiLCJTUEVDX05BTUVfVE9fVVJMX05BTUVfTUFQUElOR1MiLCJfaSIsInNwZWNzXzEiLCJlbnRyeSIsInNwZWNOYW1lIiwicGFyYW0iLCJ1cmxCdWlsZGVyIiwib3B0aW9ucyIsIl9hIiwiYXBpVXJsIiwiYXBpSG9zdCIsInByb2plY3RJZCIsImRhdGFzZXQiLCJiYXNlVXJsIiwicmVwbGFjZSIsIl9iIiwiZGVmYXVsdCIsInBhcmVudCIsIndpdGhPcHRpb25zIiwibmV3T3B0aW9ucyIsInNwZWNLZXkiLCJpbWFnZSIsInNvdXJjZSIsImJnIiwiZHByIiwid2lkdGgiLCJoZWlnaHQiLCJmb2NhbFBvaW50IiwieCIsInkiLCJtYXhXaWR0aCIsIm1pbldpZHRoIiwibWF4SGVpZ2h0IiwibWluSGVpZ2h0Iiwic2l6ZSIsImJsdXIiLCJzaGFycGVuIiwicmVjdCIsImxlZnQiLCJ0b3AiLCJmb3JtYXQiLCJpbnZlcnQiLCJvcmllbnRhdGlvbiIsInF1YWxpdHkiLCJmb3JjZURvd25sb2FkIiwiZG93bmxvYWQiLCJmbGlwSG9yaXpvbnRhbCIsImZsaXBWZXJ0aWNhbCIsImlnbm9yZUltYWdlUGFyYW1zIiwiZml0IiwiaW5kZXhPZiIsIkVycm9yIiwiY29uY2F0IiwiY3JvcCIsInNhdHVyYXRpb24iLCJhdXRvIiwicGFkIiwidmFuaXR5TmFtZSIsImZyYW1lIiwidXJsIiwidG9TdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/image-url/lib/node/builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/image-url/lib/node/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/index.js ***!
  \**********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = this && this.__importDefault || function(mod) {\n    return mod && mod.__esModule ? mod : {\n        \"default\": mod\n    };\n};\nvar builder_1 = __importDefault(__webpack_require__(/*! ./builder */ \"(ssr)/./node_modules/@sanity/image-url/lib/node/builder.js\"));\nmodule.exports = builder_1.default; //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxrQkFBa0IsSUFBSyxJQUFJLElBQUksQ0FBQ0EsZUFBZSxJQUFLLFNBQVVDLEdBQUc7SUFDakUsT0FBTyxPQUFRQSxJQUFJQyxVQUFVLEdBQUlELE1BQU07UUFBRSxXQUFXQTtJQUFJO0FBQzVEO0FBQ0EsSUFBSUUsWUFBWUgsZ0JBQWdCSSxtQkFBT0EsQ0FBQyw2RUFBVztBQUNuREMsT0FBT0MsT0FBTyxHQUFHSCxVQUFVSSxPQUFPLEVBQ2xDLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FkbWlzc2lvbi11cGxpZnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvaW5kZXguanM/YTIyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbnZhciBidWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYnVpbGRlclwiKSk7XG5tb2R1bGUuZXhwb3J0cyA9IGJ1aWxkZXJfMS5kZWZhdWx0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbIl9faW1wb3J0RGVmYXVsdCIsIm1vZCIsIl9fZXNNb2R1bGUiLCJidWlsZGVyXzEiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/image-url/lib/node/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/image-url/lib/node/parseAssetId.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/parseAssetId.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar example = \"image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg\";\nfunction parseAssetId(ref) {\n    var _a = ref.split(\"-\"), id = _a[1], dimensionString = _a[2], format = _a[3];\n    if (!id || !dimensionString || !format) {\n        throw new Error(\"Malformed asset _ref '\".concat(ref, \"'. Expected an id like \\\"\").concat(example, '\".'));\n    }\n    var _b = dimensionString.split(\"x\"), imgWidthStr = _b[0], imgHeightStr = _b[1];\n    var width = +imgWidthStr;\n    var height = +imgHeightStr;\n    var isValidAssetId = isFinite(width) && isFinite(height);\n    if (!isValidAssetId) {\n        throw new Error(\"Malformed asset _ref '\".concat(ref, \"'. Expected an id like \\\"\").concat(example, '\".'));\n    }\n    return {\n        id: id,\n        width: width,\n        height: height,\n        format: format\n    };\n}\nexports[\"default\"] = parseAssetId; //# sourceMappingURL=parseAssetId.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvcGFyc2VBc3NldElkLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2JBLDhDQUE2QztJQUFFRyxPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdELElBQUlDLFVBQVU7QUFDZCxTQUFTQyxhQUFhQyxHQUFHO0lBQ3JCLElBQUlDLEtBQUtELElBQUlFLEtBQUssQ0FBQyxNQUFNQyxLQUFLRixFQUFFLENBQUMsRUFBRSxFQUFFRyxrQkFBa0JILEVBQUUsQ0FBQyxFQUFFLEVBQUVJLFNBQVNKLEVBQUUsQ0FBQyxFQUFFO0lBQzVFLElBQUksQ0FBQ0UsTUFBTSxDQUFDQyxtQkFBbUIsQ0FBQ0MsUUFBUTtRQUNwQyxNQUFNLElBQUlDLE1BQU0seUJBQXlCQyxNQUFNLENBQUNQLEtBQUssNkJBQTZCTyxNQUFNLENBQUNULFNBQVM7SUFDdEc7SUFDQSxJQUFJVSxLQUFLSixnQkFBZ0JGLEtBQUssQ0FBQyxNQUFNTyxjQUFjRCxFQUFFLENBQUMsRUFBRSxFQUFFRSxlQUFlRixFQUFFLENBQUMsRUFBRTtJQUM5RSxJQUFJRyxRQUFRLENBQUNGO0lBQ2IsSUFBSUcsU0FBUyxDQUFDRjtJQUNkLElBQUlHLGlCQUFpQkMsU0FBU0gsVUFBVUcsU0FBU0Y7SUFDakQsSUFBSSxDQUFDQyxnQkFBZ0I7UUFDakIsTUFBTSxJQUFJUCxNQUFNLHlCQUF5QkMsTUFBTSxDQUFDUCxLQUFLLDZCQUE2Qk8sTUFBTSxDQUFDVCxTQUFTO0lBQ3RHO0lBQ0EsT0FBTztRQUFFSyxJQUFJQTtRQUFJUSxPQUFPQTtRQUFPQyxRQUFRQTtRQUFRUCxRQUFRQTtJQUFPO0FBQ2xFO0FBQ0FULGtCQUFlLEdBQUdHLGNBQ2xCLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2FkbWlzc2lvbi11cGxpZnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvcGFyc2VBc3NldElkLmpzPzQ4NWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXhhbXBsZSA9ICdpbWFnZS1UYjlFdzhDWEl3YVk2UjFrak12STB1UlItMjAwMHgzMDAwLWpwZyc7XG5mdW5jdGlvbiBwYXJzZUFzc2V0SWQocmVmKSB7XG4gICAgdmFyIF9hID0gcmVmLnNwbGl0KCctJyksIGlkID0gX2FbMV0sIGRpbWVuc2lvblN0cmluZyA9IF9hWzJdLCBmb3JtYXQgPSBfYVszXTtcbiAgICBpZiAoIWlkIHx8ICFkaW1lbnNpb25TdHJpbmcgfHwgIWZvcm1hdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgYXNzZXQgX3JlZiAnXCIuY29uY2F0KHJlZiwgXCInLiBFeHBlY3RlZCBhbiBpZCBsaWtlIFxcXCJcIikuY29uY2F0KGV4YW1wbGUsIFwiXFxcIi5cIikpO1xuICAgIH1cbiAgICB2YXIgX2IgPSBkaW1lbnNpb25TdHJpbmcuc3BsaXQoJ3gnKSwgaW1nV2lkdGhTdHIgPSBfYlswXSwgaW1nSGVpZ2h0U3RyID0gX2JbMV07XG4gICAgdmFyIHdpZHRoID0gK2ltZ1dpZHRoU3RyO1xuICAgIHZhciBoZWlnaHQgPSAraW1nSGVpZ2h0U3RyO1xuICAgIHZhciBpc1ZhbGlkQXNzZXRJZCA9IGlzRmluaXRlKHdpZHRoKSAmJiBpc0Zpbml0ZShoZWlnaHQpO1xuICAgIGlmICghaXNWYWxpZEFzc2V0SWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWFsZm9ybWVkIGFzc2V0IF9yZWYgJ1wiLmNvbmNhdChyZWYsIFwiJy4gRXhwZWN0ZWQgYW4gaWQgbGlrZSBcXFwiXCIpLmNvbmNhdChleGFtcGxlLCBcIlxcXCIuXCIpKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgaWQ6IGlkLCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0LCBmb3JtYXQ6IGZvcm1hdCB9O1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gcGFyc2VBc3NldElkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VBc3NldElkLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImV4YW1wbGUiLCJwYXJzZUFzc2V0SWQiLCJyZWYiLCJfYSIsInNwbGl0IiwiaWQiLCJkaW1lbnNpb25TdHJpbmciLCJmb3JtYXQiLCJFcnJvciIsImNvbmNhdCIsIl9iIiwiaW1nV2lkdGhTdHIiLCJpbWdIZWlnaHRTdHIiLCJ3aWR0aCIsImhlaWdodCIsImlzVmFsaWRBc3NldElkIiwiaXNGaW5pdGUiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/image-url/lib/node/parseAssetId.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/image-url/lib/node/parseSource.js":
/*!****************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/parseSource.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports) {

"use strict";
eval("\nvar __assign = this && this.__assign || function() {\n    __assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar isRef = function(src) {\n    var source = src;\n    return source ? typeof source._ref === \"string\" : false;\n};\nvar isAsset = function(src) {\n    var source = src;\n    return source ? typeof source._id === \"string\" : false;\n};\nvar isAssetStub = function(src) {\n    var source = src;\n    return source && source.asset ? typeof source.asset.url === \"string\" : false;\n};\n// Convert an asset-id, asset or image to an image record suitable for processing\n// eslint-disable-next-line complexity\nfunction parseSource(source) {\n    if (!source) {\n        return null;\n    }\n    var image;\n    if (typeof source === \"string\" && isUrl(source)) {\n        // Someone passed an existing image url?\n        image = {\n            asset: {\n                _ref: urlToId(source)\n            }\n        };\n    } else if (typeof source === \"string\") {\n        // Just an asset id\n        image = {\n            asset: {\n                _ref: source\n            }\n        };\n    } else if (isRef(source)) {\n        // We just got passed an asset directly\n        image = {\n            asset: source\n        };\n    } else if (isAsset(source)) {\n        // If we were passed an image asset document\n        image = {\n            asset: {\n                _ref: source._id || \"\"\n            }\n        };\n    } else if (isAssetStub(source)) {\n        // If we were passed a partial asset (`url`, but no `_id`)\n        image = {\n            asset: {\n                _ref: urlToId(source.asset.url)\n            }\n        };\n    } else if (typeof source.asset === \"object\") {\n        // Probably an actual image with materialized asset\n        image = __assign({}, source);\n    } else {\n        // We got something that does not look like an image, or it is an image\n        // that currently isn't sporting an asset.\n        return null;\n    }\n    var img = source;\n    if (img.crop) {\n        image.crop = img.crop;\n    }\n    if (img.hotspot) {\n        image.hotspot = img.hotspot;\n    }\n    return applyDefaults(image);\n}\nexports[\"default\"] = parseSource;\nfunction isUrl(url) {\n    return /^https?:\\/\\//.test(\"\".concat(url));\n}\nfunction urlToId(url) {\n    var parts = url.split(\"/\").slice(-1);\n    return \"image-\".concat(parts[0]).replace(/\\.([a-z]+)$/, \"-$1\");\n}\n// Mock crop and hotspot if image lacks it\nfunction applyDefaults(image) {\n    if (image.crop && image.hotspot) {\n        return image;\n    }\n    // We need to pad in default values for crop or hotspot\n    var result = __assign({}, image);\n    if (!result.crop) {\n        result.crop = {\n            left: 0,\n            top: 0,\n            bottom: 0,\n            right: 0\n        };\n    }\n    if (!result.hotspot) {\n        result.hotspot = {\n            x: 0.5,\n            y: 0.5,\n            height: 1.0,\n            width: 1.0\n        };\n    }\n    return result;\n} //# sourceMappingURL=parseSource.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvcGFyc2VTb3VyY2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxXQUFXLElBQUssSUFBSSxJQUFJLENBQUNBLFFBQVEsSUFBSztJQUN0Q0EsV0FBV0MsT0FBT0MsTUFBTSxJQUFJLFNBQVNDLENBQUM7UUFDbEMsSUFBSyxJQUFJQyxHQUFHQyxJQUFJLEdBQUdDLElBQUlDLFVBQVVDLE1BQU0sRUFBRUgsSUFBSUMsR0FBR0QsSUFBSztZQUNqREQsSUFBSUcsU0FBUyxDQUFDRixFQUFFO1lBQ2hCLElBQUssSUFBSUksS0FBS0wsRUFBRyxJQUFJSCxPQUFPUyxTQUFTLENBQUNDLGNBQWMsQ0FBQ0MsSUFBSSxDQUFDUixHQUFHSyxJQUN6RE4sQ0FBQyxDQUFDTSxFQUFFLEdBQUdMLENBQUMsQ0FBQ0ssRUFBRTtRQUNuQjtRQUNBLE9BQU9OO0lBQ1g7SUFDQSxPQUFPSCxTQUFTYSxLQUFLLENBQUMsSUFBSSxFQUFFTjtBQUNoQztBQUNBTiw4Q0FBNkM7SUFBRWUsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3RCxJQUFJQyxRQUFRLFNBQVVDLEdBQUc7SUFDckIsSUFBSUMsU0FBU0Q7SUFDYixPQUFPQyxTQUFTLE9BQU9BLE9BQU9DLElBQUksS0FBSyxXQUFXO0FBQ3REO0FBQ0EsSUFBSUMsVUFBVSxTQUFVSCxHQUFHO0lBQ3ZCLElBQUlDLFNBQVNEO0lBQ2IsT0FBT0MsU0FBUyxPQUFPQSxPQUFPRyxHQUFHLEtBQUssV0FBVztBQUNyRDtBQUNBLElBQUlDLGNBQWMsU0FBVUwsR0FBRztJQUMzQixJQUFJQyxTQUFTRDtJQUNiLE9BQU9DLFVBQVVBLE9BQU9LLEtBQUssR0FBRyxPQUFPTCxPQUFPSyxLQUFLLENBQUNDLEdBQUcsS0FBSyxXQUFXO0FBQzNFO0FBQ0EsaUZBQWlGO0FBQ2pGLHNDQUFzQztBQUN0QyxTQUFTQyxZQUFZUCxNQUFNO0lBQ3ZCLElBQUksQ0FBQ0EsUUFBUTtRQUNULE9BQU87SUFDWDtJQUNBLElBQUlRO0lBQ0osSUFBSSxPQUFPUixXQUFXLFlBQVlTLE1BQU1ULFNBQVM7UUFDN0Msd0NBQXdDO1FBQ3hDUSxRQUFRO1lBQ0pILE9BQU87Z0JBQUVKLE1BQU1TLFFBQVFWO1lBQVE7UUFDbkM7SUFDSixPQUNLLElBQUksT0FBT0EsV0FBVyxVQUFVO1FBQ2pDLG1CQUFtQjtRQUNuQlEsUUFBUTtZQUNKSCxPQUFPO2dCQUFFSixNQUFNRDtZQUFPO1FBQzFCO0lBQ0osT0FDSyxJQUFJRixNQUFNRSxTQUFTO1FBQ3BCLHVDQUF1QztRQUN2Q1EsUUFBUTtZQUNKSCxPQUFPTDtRQUNYO0lBQ0osT0FDSyxJQUFJRSxRQUFRRixTQUFTO1FBQ3RCLDRDQUE0QztRQUM1Q1EsUUFBUTtZQUNKSCxPQUFPO2dCQUNISixNQUFNRCxPQUFPRyxHQUFHLElBQUk7WUFDeEI7UUFDSjtJQUNKLE9BQ0ssSUFBSUMsWUFBWUosU0FBUztRQUMxQiwwREFBMEQ7UUFDMURRLFFBQVE7WUFDSkgsT0FBTztnQkFDSEosTUFBTVMsUUFBUVYsT0FBT0ssS0FBSyxDQUFDQyxHQUFHO1lBQ2xDO1FBQ0o7SUFDSixPQUNLLElBQUksT0FBT04sT0FBT0ssS0FBSyxLQUFLLFVBQVU7UUFDdkMsbURBQW1EO1FBQ25ERyxRQUFRM0IsU0FBUyxDQUFDLEdBQUdtQjtJQUN6QixPQUNLO1FBQ0QsdUVBQXVFO1FBQ3ZFLDBDQUEwQztRQUMxQyxPQUFPO0lBQ1g7SUFDQSxJQUFJVyxNQUFNWDtJQUNWLElBQUlXLElBQUlDLElBQUksRUFBRTtRQUNWSixNQUFNSSxJQUFJLEdBQUdELElBQUlDLElBQUk7SUFDekI7SUFDQSxJQUFJRCxJQUFJRSxPQUFPLEVBQUU7UUFDYkwsTUFBTUssT0FBTyxHQUFHRixJQUFJRSxPQUFPO0lBQy9CO0lBQ0EsT0FBT0MsY0FBY047QUFDekI7QUFDQVosa0JBQWUsR0FBR1c7QUFDbEIsU0FBU0UsTUFBTUgsR0FBRztJQUNkLE9BQU8sZUFBZVUsSUFBSSxDQUFDLEdBQUdDLE1BQU0sQ0FBQ1g7QUFDekM7QUFDQSxTQUFTSSxRQUFRSixHQUFHO0lBQ2hCLElBQUlZLFFBQVFaLElBQUlhLEtBQUssQ0FBQyxLQUFLQyxLQUFLLENBQUMsQ0FBQztJQUNsQyxPQUFPLFNBQVNILE1BQU0sQ0FBQ0MsS0FBSyxDQUFDLEVBQUUsRUFBRUcsT0FBTyxDQUFDLGVBQWU7QUFDNUQ7QUFDQSwwQ0FBMEM7QUFDMUMsU0FBU1AsY0FBY04sS0FBSztJQUN4QixJQUFJQSxNQUFNSSxJQUFJLElBQUlKLE1BQU1LLE9BQU8sRUFBRTtRQUM3QixPQUFPTDtJQUNYO0lBQ0EsdURBQXVEO0lBQ3ZELElBQUljLFNBQVN6QyxTQUFTLENBQUMsR0FBRzJCO0lBQzFCLElBQUksQ0FBQ2MsT0FBT1YsSUFBSSxFQUFFO1FBQ2RVLE9BQU9WLElBQUksR0FBRztZQUNWVyxNQUFNO1lBQ05DLEtBQUs7WUFDTEMsUUFBUTtZQUNSQyxPQUFPO1FBQ1g7SUFDSjtJQUNBLElBQUksQ0FBQ0osT0FBT1QsT0FBTyxFQUFFO1FBQ2pCUyxPQUFPVCxPQUFPLEdBQUc7WUFDYmMsR0FBRztZQUNIQyxHQUFHO1lBQ0hDLFFBQVE7WUFDUkMsT0FBTztRQUNYO0lBQ0o7SUFDQSxPQUFPUjtBQUNYLEVBQ0EsdUNBQXVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWRtaXNzaW9uLXVwbGlmdC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2ltYWdlLXVybC9saWIvbm9kZS9wYXJzZVNvdXJjZS5qcz8yZGM3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBpc1JlZiA9IGZ1bmN0aW9uIChzcmMpIHtcbiAgICB2YXIgc291cmNlID0gc3JjO1xuICAgIHJldHVybiBzb3VyY2UgPyB0eXBlb2Ygc291cmNlLl9yZWYgPT09ICdzdHJpbmcnIDogZmFsc2U7XG59O1xudmFyIGlzQXNzZXQgPSBmdW5jdGlvbiAoc3JjKSB7XG4gICAgdmFyIHNvdXJjZSA9IHNyYztcbiAgICByZXR1cm4gc291cmNlID8gdHlwZW9mIHNvdXJjZS5faWQgPT09ICdzdHJpbmcnIDogZmFsc2U7XG59O1xudmFyIGlzQXNzZXRTdHViID0gZnVuY3Rpb24gKHNyYykge1xuICAgIHZhciBzb3VyY2UgPSBzcmM7XG4gICAgcmV0dXJuIHNvdXJjZSAmJiBzb3VyY2UuYXNzZXQgPyB0eXBlb2Ygc291cmNlLmFzc2V0LnVybCA9PT0gJ3N0cmluZycgOiBmYWxzZTtcbn07XG4vLyBDb252ZXJ0IGFuIGFzc2V0LWlkLCBhc3NldCBvciBpbWFnZSB0byBhbiBpbWFnZSByZWNvcmQgc3VpdGFibGUgZm9yIHByb2Nlc3Npbmdcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiBwYXJzZVNvdXJjZShzb3VyY2UpIHtcbiAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGltYWdlO1xuICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJyAmJiBpc1VybChzb3VyY2UpKSB7XG4gICAgICAgIC8vIFNvbWVvbmUgcGFzc2VkIGFuIGV4aXN0aW5nIGltYWdlIHVybD9cbiAgICAgICAgaW1hZ2UgPSB7XG4gICAgICAgICAgICBhc3NldDogeyBfcmVmOiB1cmxUb0lkKHNvdXJjZSkgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gSnVzdCBhbiBhc3NldCBpZFxuICAgICAgICBpbWFnZSA9IHtcbiAgICAgICAgICAgIGFzc2V0OiB7IF9yZWY6IHNvdXJjZSB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1JlZihzb3VyY2UpKSB7XG4gICAgICAgIC8vIFdlIGp1c3QgZ290IHBhc3NlZCBhbiBhc3NldCBkaXJlY3RseVxuICAgICAgICBpbWFnZSA9IHtcbiAgICAgICAgICAgIGFzc2V0OiBzb3VyY2UsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXNzZXQoc291cmNlKSkge1xuICAgICAgICAvLyBJZiB3ZSB3ZXJlIHBhc3NlZCBhbiBpbWFnZSBhc3NldCBkb2N1bWVudFxuICAgICAgICBpbWFnZSA9IHtcbiAgICAgICAgICAgIGFzc2V0OiB7XG4gICAgICAgICAgICAgICAgX3JlZjogc291cmNlLl9pZCB8fCAnJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXNzZXRTdHViKHNvdXJjZSkpIHtcbiAgICAgICAgLy8gSWYgd2Ugd2VyZSBwYXNzZWQgYSBwYXJ0aWFsIGFzc2V0IChgdXJsYCwgYnV0IG5vIGBfaWRgKVxuICAgICAgICBpbWFnZSA9IHtcbiAgICAgICAgICAgIGFzc2V0OiB7XG4gICAgICAgICAgICAgICAgX3JlZjogdXJsVG9JZChzb3VyY2UuYXNzZXQudXJsKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBzb3VyY2UuYXNzZXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIFByb2JhYmx5IGFuIGFjdHVhbCBpbWFnZSB3aXRoIG1hdGVyaWFsaXplZCBhc3NldFxuICAgICAgICBpbWFnZSA9IF9fYXNzaWduKHt9LCBzb3VyY2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gV2UgZ290IHNvbWV0aGluZyB0aGF0IGRvZXMgbm90IGxvb2sgbGlrZSBhbiBpbWFnZSwgb3IgaXQgaXMgYW4gaW1hZ2VcbiAgICAgICAgLy8gdGhhdCBjdXJyZW50bHkgaXNuJ3Qgc3BvcnRpbmcgYW4gYXNzZXQuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgaW1nID0gc291cmNlO1xuICAgIGlmIChpbWcuY3JvcCkge1xuICAgICAgICBpbWFnZS5jcm9wID0gaW1nLmNyb3A7XG4gICAgfVxuICAgIGlmIChpbWcuaG90c3BvdCkge1xuICAgICAgICBpbWFnZS5ob3RzcG90ID0gaW1nLmhvdHNwb3Q7XG4gICAgfVxuICAgIHJldHVybiBhcHBseURlZmF1bHRzKGltYWdlKTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHBhcnNlU291cmNlO1xuZnVuY3Rpb24gaXNVcmwodXJsKSB7XG4gICAgcmV0dXJuIC9eaHR0cHM/OlxcL1xcLy8udGVzdChcIlwiLmNvbmNhdCh1cmwpKTtcbn1cbmZ1bmN0aW9uIHVybFRvSWQodXJsKSB7XG4gICAgdmFyIHBhcnRzID0gdXJsLnNwbGl0KCcvJykuc2xpY2UoLTEpO1xuICAgIHJldHVybiBcImltYWdlLVwiLmNvbmNhdChwYXJ0c1swXSkucmVwbGFjZSgvXFwuKFthLXpdKykkLywgJy0kMScpO1xufVxuLy8gTW9jayBjcm9wIGFuZCBob3RzcG90IGlmIGltYWdlIGxhY2tzIGl0XG5mdW5jdGlvbiBhcHBseURlZmF1bHRzKGltYWdlKSB7XG4gICAgaWYgKGltYWdlLmNyb3AgJiYgaW1hZ2UuaG90c3BvdCkge1xuICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgfVxuICAgIC8vIFdlIG5lZWQgdG8gcGFkIGluIGRlZmF1bHQgdmFsdWVzIGZvciBjcm9wIG9yIGhvdHNwb3RcbiAgICB2YXIgcmVzdWx0ID0gX19hc3NpZ24oe30sIGltYWdlKTtcbiAgICBpZiAoIXJlc3VsdC5jcm9wKSB7XG4gICAgICAgIHJlc3VsdC5jcm9wID0ge1xuICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoIXJlc3VsdC5ob3RzcG90KSB7XG4gICAgICAgIHJlc3VsdC5ob3RzcG90ID0ge1xuICAgICAgICAgICAgeDogMC41LFxuICAgICAgICAgICAgeTogMC41LFxuICAgICAgICAgICAgaGVpZ2h0OiAxLjAsXG4gICAgICAgICAgICB3aWR0aDogMS4wLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VTb3VyY2UuanMubWFwIl0sIm5hbWVzIjpbIl9fYXNzaWduIiwiT2JqZWN0IiwiYXNzaWduIiwidCIsInMiLCJpIiwibiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhcHBseSIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiaXNSZWYiLCJzcmMiLCJzb3VyY2UiLCJfcmVmIiwiaXNBc3NldCIsIl9pZCIsImlzQXNzZXRTdHViIiwiYXNzZXQiLCJ1cmwiLCJwYXJzZVNvdXJjZSIsImltYWdlIiwiaXNVcmwiLCJ1cmxUb0lkIiwiaW1nIiwiY3JvcCIsImhvdHNwb3QiLCJhcHBseURlZmF1bHRzIiwiZGVmYXVsdCIsInRlc3QiLCJjb25jYXQiLCJwYXJ0cyIsInNwbGl0Iiwic2xpY2UiLCJyZXBsYWNlIiwicmVzdWx0IiwibGVmdCIsInRvcCIsImJvdHRvbSIsInJpZ2h0IiwieCIsInkiLCJoZWlnaHQiLCJ3aWR0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/image-url/lib/node/parseSource.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/image-url/lib/node/urlForImage.js":
/*!****************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/urlForImage.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __assign = this && this.__assign || function() {\n    __assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = this && this.__importDefault || function(mod) {\n    return mod && mod.__esModule ? mod : {\n        \"default\": mod\n    };\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.parseSource = exports.SPEC_NAME_TO_URL_NAME_MAPPINGS = void 0;\nvar parseAssetId_1 = __importDefault(__webpack_require__(/*! ./parseAssetId */ \"(ssr)/./node_modules/@sanity/image-url/lib/node/parseAssetId.js\"));\nvar parseSource_1 = __importDefault(__webpack_require__(/*! ./parseSource */ \"(ssr)/./node_modules/@sanity/image-url/lib/node/parseSource.js\"));\nexports.parseSource = parseSource_1.default;\nexports.SPEC_NAME_TO_URL_NAME_MAPPINGS = [\n    [\n        \"width\",\n        \"w\"\n    ],\n    [\n        \"height\",\n        \"h\"\n    ],\n    [\n        \"format\",\n        \"fm\"\n    ],\n    [\n        \"download\",\n        \"dl\"\n    ],\n    [\n        \"blur\",\n        \"blur\"\n    ],\n    [\n        \"sharpen\",\n        \"sharp\"\n    ],\n    [\n        \"invert\",\n        \"invert\"\n    ],\n    [\n        \"orientation\",\n        \"or\"\n    ],\n    [\n        \"minHeight\",\n        \"min-h\"\n    ],\n    [\n        \"maxHeight\",\n        \"max-h\"\n    ],\n    [\n        \"minWidth\",\n        \"min-w\"\n    ],\n    [\n        \"maxWidth\",\n        \"max-w\"\n    ],\n    [\n        \"quality\",\n        \"q\"\n    ],\n    [\n        \"fit\",\n        \"fit\"\n    ],\n    [\n        \"crop\",\n        \"crop\"\n    ],\n    [\n        \"saturation\",\n        \"sat\"\n    ],\n    [\n        \"auto\",\n        \"auto\"\n    ],\n    [\n        \"dpr\",\n        \"dpr\"\n    ],\n    [\n        \"pad\",\n        \"pad\"\n    ],\n    [\n        \"frame\",\n        \"frame\"\n    ]\n];\nfunction urlForImage(options) {\n    var spec = __assign({}, options || {});\n    var source = spec.source;\n    delete spec.source;\n    var image = (0, parseSource_1.default)(source);\n    if (!image) {\n        throw new Error(\"Unable to resolve image URL from source (\".concat(JSON.stringify(source), \")\"));\n    }\n    var id = image.asset._ref || image.asset._id || \"\";\n    var asset = (0, parseAssetId_1.default)(id);\n    // Compute crop rect in terms of pixel coordinates in the raw source image\n    var cropLeft = Math.round(image.crop.left * asset.width);\n    var cropTop = Math.round(image.crop.top * asset.height);\n    var crop = {\n        left: cropLeft,\n        top: cropTop,\n        width: Math.round(asset.width - image.crop.right * asset.width - cropLeft),\n        height: Math.round(asset.height - image.crop.bottom * asset.height - cropTop)\n    };\n    // Compute hot spot rect in terms of pixel coordinates\n    var hotSpotVerticalRadius = image.hotspot.height * asset.height / 2;\n    var hotSpotHorizontalRadius = image.hotspot.width * asset.width / 2;\n    var hotSpotCenterX = image.hotspot.x * asset.width;\n    var hotSpotCenterY = image.hotspot.y * asset.height;\n    var hotspot = {\n        left: hotSpotCenterX - hotSpotHorizontalRadius,\n        top: hotSpotCenterY - hotSpotVerticalRadius,\n        right: hotSpotCenterX + hotSpotHorizontalRadius,\n        bottom: hotSpotCenterY + hotSpotVerticalRadius\n    };\n    // If irrelevant, or if we are requested to: don't perform crop/fit based on\n    // the crop/hotspot.\n    if (!(spec.rect || spec.focalPoint || spec.ignoreImageParams || spec.crop)) {\n        spec = __assign(__assign({}, spec), fit({\n            crop: crop,\n            hotspot: hotspot\n        }, spec));\n    }\n    return specToImageUrl(__assign(__assign({}, spec), {\n        asset: asset\n    }));\n}\nexports[\"default\"] = urlForImage;\n// eslint-disable-next-line complexity\nfunction specToImageUrl(spec) {\n    var cdnUrl = (spec.baseUrl || \"https://cdn.sanity.io\").replace(/\\/+$/, \"\");\n    var vanityStub = spec.vanityName ? \"/\".concat(spec.vanityName) : \"\";\n    var filename = \"\".concat(spec.asset.id, \"-\").concat(spec.asset.width, \"x\").concat(spec.asset.height, \".\").concat(spec.asset.format).concat(vanityStub);\n    var baseUrl = \"\".concat(cdnUrl, \"/images/\").concat(spec.projectId, \"/\").concat(spec.dataset, \"/\").concat(filename);\n    var params = [];\n    if (spec.rect) {\n        // Only bother url with a crop if it actually crops anything\n        var _a = spec.rect, left = _a.left, top_1 = _a.top, width = _a.width, height = _a.height;\n        var isEffectiveCrop = left !== 0 || top_1 !== 0 || height !== spec.asset.height || width !== spec.asset.width;\n        if (isEffectiveCrop) {\n            params.push(\"rect=\".concat(left, \",\").concat(top_1, \",\").concat(width, \",\").concat(height));\n        }\n    }\n    if (spec.bg) {\n        params.push(\"bg=\".concat(spec.bg));\n    }\n    if (spec.focalPoint) {\n        params.push(\"fp-x=\".concat(spec.focalPoint.x));\n        params.push(\"fp-y=\".concat(spec.focalPoint.y));\n    }\n    var flip = [\n        spec.flipHorizontal && \"h\",\n        spec.flipVertical && \"v\"\n    ].filter(Boolean).join(\"\");\n    if (flip) {\n        params.push(\"flip=\".concat(flip));\n    }\n    // Map from spec name to url param name, and allow using the actual param name as an alternative\n    exports.SPEC_NAME_TO_URL_NAME_MAPPINGS.forEach(function(mapping) {\n        var specName = mapping[0], param = mapping[1];\n        if (typeof spec[specName] !== \"undefined\") {\n            params.push(\"\".concat(param, \"=\").concat(encodeURIComponent(spec[specName])));\n        } else if (typeof spec[param] !== \"undefined\") {\n            params.push(\"\".concat(param, \"=\").concat(encodeURIComponent(spec[param])));\n        }\n    });\n    if (params.length === 0) {\n        return baseUrl;\n    }\n    return \"\".concat(baseUrl, \"?\").concat(params.join(\"&\"));\n}\nfunction fit(source, spec) {\n    var cropRect;\n    var imgWidth = spec.width;\n    var imgHeight = spec.height;\n    // If we are not constraining the aspect ratio, we'll just use the whole crop\n    if (!(imgWidth && imgHeight)) {\n        return {\n            width: imgWidth,\n            height: imgHeight,\n            rect: source.crop\n        };\n    }\n    var crop = source.crop;\n    var hotspot = source.hotspot;\n    // If we are here, that means aspect ratio is locked and fitting will be a bit harder\n    var desiredAspectRatio = imgWidth / imgHeight;\n    var cropAspectRatio = crop.width / crop.height;\n    if (cropAspectRatio > desiredAspectRatio) {\n        // The crop is wider than the desired aspect ratio. That means we are cutting from the sides\n        var height = Math.round(crop.height);\n        var width = Math.round(height * desiredAspectRatio);\n        var top_2 = Math.max(0, Math.round(crop.top));\n        // Center output horizontally over hotspot\n        var hotspotXCenter = Math.round((hotspot.right - hotspot.left) / 2 + hotspot.left);\n        var left = Math.max(0, Math.round(hotspotXCenter - width / 2));\n        // Keep output within crop\n        if (left < crop.left) {\n            left = crop.left;\n        } else if (left + width > crop.left + crop.width) {\n            left = crop.left + crop.width - width;\n        }\n        cropRect = {\n            left: left,\n            top: top_2,\n            width: width,\n            height: height\n        };\n    } else {\n        // The crop is taller than the desired ratio, we are cutting from top and bottom\n        var width = crop.width;\n        var height = Math.round(width / desiredAspectRatio);\n        var left = Math.max(0, Math.round(crop.left));\n        // Center output vertically over hotspot\n        var hotspotYCenter = Math.round((hotspot.bottom - hotspot.top) / 2 + hotspot.top);\n        var top_3 = Math.max(0, Math.round(hotspotYCenter - height / 2));\n        // Keep output rect within crop\n        if (top_3 < crop.top) {\n            top_3 = crop.top;\n        } else if (top_3 + height > crop.top + crop.height) {\n            top_3 = crop.top + crop.height - height;\n        }\n        cropRect = {\n            left: left,\n            top: top_3,\n            width: width,\n            height: height\n        };\n    }\n    return {\n        width: imgWidth,\n        height: imgHeight,\n        rect: cropRect\n    };\n} //# sourceMappingURL=urlForImage.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvdXJsRm9ySW1hZ2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxXQUFXLElBQUssSUFBSSxJQUFJLENBQUNBLFFBQVEsSUFBSztJQUN0Q0EsV0FBV0MsT0FBT0MsTUFBTSxJQUFJLFNBQVNDLENBQUM7UUFDbEMsSUFBSyxJQUFJQyxHQUFHQyxJQUFJLEdBQUdDLElBQUlDLFVBQVVDLE1BQU0sRUFBRUgsSUFBSUMsR0FBR0QsSUFBSztZQUNqREQsSUFBSUcsU0FBUyxDQUFDRixFQUFFO1lBQ2hCLElBQUssSUFBSUksS0FBS0wsRUFBRyxJQUFJSCxPQUFPUyxTQUFTLENBQUNDLGNBQWMsQ0FBQ0MsSUFBSSxDQUFDUixHQUFHSyxJQUN6RE4sQ0FBQyxDQUFDTSxFQUFFLEdBQUdMLENBQUMsQ0FBQ0ssRUFBRTtRQUNuQjtRQUNBLE9BQU9OO0lBQ1g7SUFDQSxPQUFPSCxTQUFTYSxLQUFLLENBQUMsSUFBSSxFQUFFTjtBQUNoQztBQUNBLElBQUlPLGtCQUFrQixJQUFLLElBQUksSUFBSSxDQUFDQSxlQUFlLElBQUssU0FBVUMsR0FBRztJQUNqRSxPQUFPLE9BQVFBLElBQUlDLFVBQVUsR0FBSUQsTUFBTTtRQUFFLFdBQVdBO0lBQUk7QUFDNUQ7QUFDQWQsOENBQTZDO0lBQUVrQixPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdERCxtQkFBbUIsR0FBR0Esc0NBQXNDLEdBQUcsS0FBSztBQUNwRSxJQUFJSSxpQkFBaUJSLGdCQUFnQlMsbUJBQU9BLENBQUMsdUZBQWdCO0FBQzdELElBQUlDLGdCQUFnQlYsZ0JBQWdCUyxtQkFBT0EsQ0FBQyxxRkFBZTtBQUMzREwsbUJBQW1CLEdBQUdNLGNBQWNDLE9BQU87QUFDM0NQLHNDQUFzQyxHQUFHO0lBQ3JDO1FBQUM7UUFBUztLQUFJO0lBQ2Q7UUFBQztRQUFVO0tBQUk7SUFDZjtRQUFDO1FBQVU7S0FBSztJQUNoQjtRQUFDO1FBQVk7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QSx1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZG1pc3Npb24tdXBsaWZ0Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvaW1hZ2UtdXJsL2xpYi9ub2RlL3VybEZvckltYWdlLmpzP2E1NWMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZVNvdXJjZSA9IGV4cG9ydHMuU1BFQ19OQU1FX1RPX1VSTF9OQU1FX01BUFBJTkdTID0gdm9pZCAwO1xudmFyIHBhcnNlQXNzZXRJZF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3BhcnNlQXNzZXRJZFwiKSk7XG52YXIgcGFyc2VTb3VyY2VfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9wYXJzZVNvdXJjZVwiKSk7XG5leHBvcnRzLnBhcnNlU291cmNlID0gcGFyc2VTb3VyY2VfMS5kZWZhdWx0O1xuZXhwb3J0cy5TUEVDX05BTUVfVE9fVVJMX05BTUVfTUFQUElOR1MgPSBbXG4gICAgWyd3aWR0aCcsICd3J10sXG4gICAgWydoZWlnaHQnLCAnaCddLFxuICAgIFsnZm9ybWF0JywgJ2ZtJ10sXG4gICAgWydkb3dubG9hZCcsICdkbCddLFxuICAgIFsnYmx1cicsICdibHVyJ10sXG4gICAgWydzaGFycGVuJywgJ3NoYXJwJ10sXG4gICAgWydpbnZlcnQnLCAnaW52ZXJ0J10sXG4gICAgWydvcmllbnRhdGlvbicsICdvciddLFxuICAgIFsnbWluSGVpZ2h0JywgJ21pbi1oJ10sXG4gICAgWydtYXhIZWlnaHQnLCAnbWF4LWgnXSxcbiAgICBbJ21pbldpZHRoJywgJ21pbi13J10sXG4gICAgWydtYXhXaWR0aCcsICdtYXgtdyddLFxuICAgIFsncXVhbGl0eScsICdxJ10sXG4gICAgWydmaXQnLCAnZml0J10sXG4gICAgWydjcm9wJywgJ2Nyb3AnXSxcbiAgICBbJ3NhdHVyYXRpb24nLCAnc2F0J10sXG4gICAgWydhdXRvJywgJ2F1dG8nXSxcbiAgICBbJ2RwcicsICdkcHInXSxcbiAgICBbJ3BhZCcsICdwYWQnXSxcbiAgICBbJ2ZyYW1lJywgJ2ZyYW1lJ11cbl07XG5mdW5jdGlvbiB1cmxGb3JJbWFnZShvcHRpb25zKSB7XG4gICAgdmFyIHNwZWMgPSBfX2Fzc2lnbih7fSwgKG9wdGlvbnMgfHwge30pKTtcbiAgICB2YXIgc291cmNlID0gc3BlYy5zb3VyY2U7XG4gICAgZGVsZXRlIHNwZWMuc291cmNlO1xuICAgIHZhciBpbWFnZSA9ICgwLCBwYXJzZVNvdXJjZV8xLmRlZmF1bHQpKHNvdXJjZSk7XG4gICAgaWYgKCFpbWFnZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gcmVzb2x2ZSBpbWFnZSBVUkwgZnJvbSBzb3VyY2UgKFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShzb3VyY2UpLCBcIilcIikpO1xuICAgIH1cbiAgICB2YXIgaWQgPSBpbWFnZS5hc3NldC5fcmVmIHx8IGltYWdlLmFzc2V0Ll9pZCB8fCAnJztcbiAgICB2YXIgYXNzZXQgPSAoMCwgcGFyc2VBc3NldElkXzEuZGVmYXVsdCkoaWQpO1xuICAgIC8vIENvbXB1dGUgY3JvcCByZWN0IGluIHRlcm1zIG9mIHBpeGVsIGNvb3JkaW5hdGVzIGluIHRoZSByYXcgc291cmNlIGltYWdlXG4gICAgdmFyIGNyb3BMZWZ0ID0gTWF0aC5yb3VuZChpbWFnZS5jcm9wLmxlZnQgKiBhc3NldC53aWR0aCk7XG4gICAgdmFyIGNyb3BUb3AgPSBNYXRoLnJvdW5kKGltYWdlLmNyb3AudG9wICogYXNzZXQuaGVpZ2h0KTtcbiAgICB2YXIgY3JvcCA9IHtcbiAgICAgICAgbGVmdDogY3JvcExlZnQsXG4gICAgICAgIHRvcDogY3JvcFRvcCxcbiAgICAgICAgd2lkdGg6IE1hdGgucm91bmQoYXNzZXQud2lkdGggLSBpbWFnZS5jcm9wLnJpZ2h0ICogYXNzZXQud2lkdGggLSBjcm9wTGVmdCksXG4gICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChhc3NldC5oZWlnaHQgLSBpbWFnZS5jcm9wLmJvdHRvbSAqIGFzc2V0LmhlaWdodCAtIGNyb3BUb3ApLFxuICAgIH07XG4gICAgLy8gQ29tcHV0ZSBob3Qgc3BvdCByZWN0IGluIHRlcm1zIG9mIHBpeGVsIGNvb3JkaW5hdGVzXG4gICAgdmFyIGhvdFNwb3RWZXJ0aWNhbFJhZGl1cyA9IChpbWFnZS5ob3RzcG90LmhlaWdodCAqIGFzc2V0LmhlaWdodCkgLyAyO1xuICAgIHZhciBob3RTcG90SG9yaXpvbnRhbFJhZGl1cyA9IChpbWFnZS5ob3RzcG90LndpZHRoICogYXNzZXQud2lkdGgpIC8gMjtcbiAgICB2YXIgaG90U3BvdENlbnRlclggPSBpbWFnZS5ob3RzcG90LnggKiBhc3NldC53aWR0aDtcbiAgICB2YXIgaG90U3BvdENlbnRlclkgPSBpbWFnZS5ob3RzcG90LnkgKiBhc3NldC5oZWlnaHQ7XG4gICAgdmFyIGhvdHNwb3QgPSB7XG4gICAgICAgIGxlZnQ6IGhvdFNwb3RDZW50ZXJYIC0gaG90U3BvdEhvcml6b250YWxSYWRpdXMsXG4gICAgICAgIHRvcDogaG90U3BvdENlbnRlclkgLSBob3RTcG90VmVydGljYWxSYWRpdXMsXG4gICAgICAgIHJpZ2h0OiBob3RTcG90Q2VudGVyWCArIGhvdFNwb3RIb3Jpem9udGFsUmFkaXVzLFxuICAgICAgICBib3R0b206IGhvdFNwb3RDZW50ZXJZICsgaG90U3BvdFZlcnRpY2FsUmFkaXVzLFxuICAgIH07XG4gICAgLy8gSWYgaXJyZWxldmFudCwgb3IgaWYgd2UgYXJlIHJlcXVlc3RlZCB0bzogZG9uJ3QgcGVyZm9ybSBjcm9wL2ZpdCBiYXNlZCBvblxuICAgIC8vIHRoZSBjcm9wL2hvdHNwb3QuXG4gICAgaWYgKCEoc3BlYy5yZWN0IHx8IHNwZWMuZm9jYWxQb2ludCB8fCBzcGVjLmlnbm9yZUltYWdlUGFyYW1zIHx8IHNwZWMuY3JvcCkpIHtcbiAgICAgICAgc3BlYyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBzcGVjKSwgZml0KHsgY3JvcDogY3JvcCwgaG90c3BvdDogaG90c3BvdCB9LCBzcGVjKSk7XG4gICAgfVxuICAgIHJldHVybiBzcGVjVG9JbWFnZVVybChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc3BlYyksIHsgYXNzZXQ6IGFzc2V0IH0pKTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHVybEZvckltYWdlO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHNwZWNUb0ltYWdlVXJsKHNwZWMpIHtcbiAgICB2YXIgY2RuVXJsID0gKHNwZWMuYmFzZVVybCB8fCAnaHR0cHM6Ly9jZG4uc2FuaXR5LmlvJykucmVwbGFjZSgvXFwvKyQvLCAnJyk7XG4gICAgdmFyIHZhbml0eVN0dWIgPSBzcGVjLnZhbml0eU5hbWUgPyBcIi9cIi5jb25jYXQoc3BlYy52YW5pdHlOYW1lKSA6ICcnO1xuICAgIHZhciBmaWxlbmFtZSA9IFwiXCIuY29uY2F0KHNwZWMuYXNzZXQuaWQsIFwiLVwiKS5jb25jYXQoc3BlYy5hc3NldC53aWR0aCwgXCJ4XCIpLmNvbmNhdChzcGVjLmFzc2V0LmhlaWdodCwgXCIuXCIpLmNvbmNhdChzcGVjLmFzc2V0LmZvcm1hdCkuY29uY2F0KHZhbml0eVN0dWIpO1xuICAgIHZhciBiYXNlVXJsID0gXCJcIi5jb25jYXQoY2RuVXJsLCBcIi9pbWFnZXMvXCIpLmNvbmNhdChzcGVjLnByb2plY3RJZCwgXCIvXCIpLmNvbmNhdChzcGVjLmRhdGFzZXQsIFwiL1wiKS5jb25jYXQoZmlsZW5hbWUpO1xuICAgIHZhciBwYXJhbXMgPSBbXTtcbiAgICBpZiAoc3BlYy5yZWN0KSB7XG4gICAgICAgIC8vIE9ubHkgYm90aGVyIHVybCB3aXRoIGEgY3JvcCBpZiBpdCBhY3R1YWxseSBjcm9wcyBhbnl0aGluZ1xuICAgICAgICB2YXIgX2EgPSBzcGVjLnJlY3QsIGxlZnQgPSBfYS5sZWZ0LCB0b3BfMSA9IF9hLnRvcCwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICB2YXIgaXNFZmZlY3RpdmVDcm9wID0gbGVmdCAhPT0gMCB8fCB0b3BfMSAhPT0gMCB8fCBoZWlnaHQgIT09IHNwZWMuYXNzZXQuaGVpZ2h0IHx8IHdpZHRoICE9PSBzcGVjLmFzc2V0LndpZHRoO1xuICAgICAgICBpZiAoaXNFZmZlY3RpdmVDcm9wKSB7XG4gICAgICAgICAgICBwYXJhbXMucHVzaChcInJlY3Q9XCIuY29uY2F0KGxlZnQsIFwiLFwiKS5jb25jYXQodG9wXzEsIFwiLFwiKS5jb25jYXQod2lkdGgsIFwiLFwiKS5jb25jYXQoaGVpZ2h0KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNwZWMuYmcpIHtcbiAgICAgICAgcGFyYW1zLnB1c2goXCJiZz1cIi5jb25jYXQoc3BlYy5iZykpO1xuICAgIH1cbiAgICBpZiAoc3BlYy5mb2NhbFBvaW50KSB7XG4gICAgICAgIHBhcmFtcy5wdXNoKFwiZnAteD1cIi5jb25jYXQoc3BlYy5mb2NhbFBvaW50LngpKTtcbiAgICAgICAgcGFyYW1zLnB1c2goXCJmcC15PVwiLmNvbmNhdChzcGVjLmZvY2FsUG9pbnQueSkpO1xuICAgIH1cbiAgICB2YXIgZmxpcCA9IFtzcGVjLmZsaXBIb3Jpem9udGFsICYmICdoJywgc3BlYy5mbGlwVmVydGljYWwgJiYgJ3YnXS5maWx0ZXIoQm9vbGVhbikuam9pbignJyk7XG4gICAgaWYgKGZsaXApIHtcbiAgICAgICAgcGFyYW1zLnB1c2goXCJmbGlwPVwiLmNvbmNhdChmbGlwKSk7XG4gICAgfVxuICAgIC8vIE1hcCBmcm9tIHNwZWMgbmFtZSB0byB1cmwgcGFyYW0gbmFtZSwgYW5kIGFsbG93IHVzaW5nIHRoZSBhY3R1YWwgcGFyYW0gbmFtZSBhcyBhbiBhbHRlcm5hdGl2ZVxuICAgIGV4cG9ydHMuU1BFQ19OQU1FX1RPX1VSTF9OQU1FX01BUFBJTkdTLmZvckVhY2goZnVuY3Rpb24gKG1hcHBpbmcpIHtcbiAgICAgICAgdmFyIHNwZWNOYW1lID0gbWFwcGluZ1swXSwgcGFyYW0gPSBtYXBwaW5nWzFdO1xuICAgICAgICBpZiAodHlwZW9mIHNwZWNbc3BlY05hbWVdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcGFyYW1zLnB1c2goXCJcIi5jb25jYXQocGFyYW0sIFwiPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHNwZWNbc3BlY05hbWVdKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBzcGVjW3BhcmFtXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKFwiXCIuY29uY2F0KHBhcmFtLCBcIj1cIikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChzcGVjW3BhcmFtXSkpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChwYXJhbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBiYXNlVXJsO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIi5jb25jYXQoYmFzZVVybCwgXCI/XCIpLmNvbmNhdChwYXJhbXMuam9pbignJicpKTtcbn1cbmZ1bmN0aW9uIGZpdChzb3VyY2UsIHNwZWMpIHtcbiAgICB2YXIgY3JvcFJlY3Q7XG4gICAgdmFyIGltZ1dpZHRoID0gc3BlYy53aWR0aDtcbiAgICB2YXIgaW1nSGVpZ2h0ID0gc3BlYy5oZWlnaHQ7XG4gICAgLy8gSWYgd2UgYXJlIG5vdCBjb25zdHJhaW5pbmcgdGhlIGFzcGVjdCByYXRpbywgd2UnbGwganVzdCB1c2UgdGhlIHdob2xlIGNyb3BcbiAgICBpZiAoIShpbWdXaWR0aCAmJiBpbWdIZWlnaHQpKSB7XG4gICAgICAgIHJldHVybiB7IHdpZHRoOiBpbWdXaWR0aCwgaGVpZ2h0OiBpbWdIZWlnaHQsIHJlY3Q6IHNvdXJjZS5jcm9wIH07XG4gICAgfVxuICAgIHZhciBjcm9wID0gc291cmNlLmNyb3A7XG4gICAgdmFyIGhvdHNwb3QgPSBzb3VyY2UuaG90c3BvdDtcbiAgICAvLyBJZiB3ZSBhcmUgaGVyZSwgdGhhdCBtZWFucyBhc3BlY3QgcmF0aW8gaXMgbG9ja2VkIGFuZCBmaXR0aW5nIHdpbGwgYmUgYSBiaXQgaGFyZGVyXG4gICAgdmFyIGRlc2lyZWRBc3BlY3RSYXRpbyA9IGltZ1dpZHRoIC8gaW1nSGVpZ2h0O1xuICAgIHZhciBjcm9wQXNwZWN0UmF0aW8gPSBjcm9wLndpZHRoIC8gY3JvcC5oZWlnaHQ7XG4gICAgaWYgKGNyb3BBc3BlY3RSYXRpbyA+IGRlc2lyZWRBc3BlY3RSYXRpbykge1xuICAgICAgICAvLyBUaGUgY3JvcCBpcyB3aWRlciB0aGFuIHRoZSBkZXNpcmVkIGFzcGVjdCByYXRpby4gVGhhdCBtZWFucyB3ZSBhcmUgY3V0dGluZyBmcm9tIHRoZSBzaWRlc1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5yb3VuZChjcm9wLmhlaWdodCk7XG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGgucm91bmQoaGVpZ2h0ICogZGVzaXJlZEFzcGVjdFJhdGlvKTtcbiAgICAgICAgdmFyIHRvcF8yID0gTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChjcm9wLnRvcCkpO1xuICAgICAgICAvLyBDZW50ZXIgb3V0cHV0IGhvcml6b250YWxseSBvdmVyIGhvdHNwb3RcbiAgICAgICAgdmFyIGhvdHNwb3RYQ2VudGVyID0gTWF0aC5yb3VuZCgoaG90c3BvdC5yaWdodCAtIGhvdHNwb3QubGVmdCkgLyAyICsgaG90c3BvdC5sZWZ0KTtcbiAgICAgICAgdmFyIGxlZnQgPSBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKGhvdHNwb3RYQ2VudGVyIC0gd2lkdGggLyAyKSk7XG4gICAgICAgIC8vIEtlZXAgb3V0cHV0IHdpdGhpbiBjcm9wXG4gICAgICAgIGlmIChsZWZ0IDwgY3JvcC5sZWZ0KSB7XG4gICAgICAgICAgICBsZWZ0ID0gY3JvcC5sZWZ0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxlZnQgKyB3aWR0aCA+IGNyb3AubGVmdCArIGNyb3Aud2lkdGgpIHtcbiAgICAgICAgICAgIGxlZnQgPSBjcm9wLmxlZnQgKyBjcm9wLndpZHRoIC0gd2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgY3JvcFJlY3QgPSB7IGxlZnQ6IGxlZnQsIHRvcDogdG9wXzIsIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFRoZSBjcm9wIGlzIHRhbGxlciB0aGFuIHRoZSBkZXNpcmVkIHJhdGlvLCB3ZSBhcmUgY3V0dGluZyBmcm9tIHRvcCBhbmQgYm90dG9tXG4gICAgICAgIHZhciB3aWR0aCA9IGNyb3Aud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLnJvdW5kKHdpZHRoIC8gZGVzaXJlZEFzcGVjdFJhdGlvKTtcbiAgICAgICAgdmFyIGxlZnQgPSBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKGNyb3AubGVmdCkpO1xuICAgICAgICAvLyBDZW50ZXIgb3V0cHV0IHZlcnRpY2FsbHkgb3ZlciBob3RzcG90XG4gICAgICAgIHZhciBob3RzcG90WUNlbnRlciA9IE1hdGgucm91bmQoKGhvdHNwb3QuYm90dG9tIC0gaG90c3BvdC50b3ApIC8gMiArIGhvdHNwb3QudG9wKTtcbiAgICAgICAgdmFyIHRvcF8zID0gTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChob3RzcG90WUNlbnRlciAtIGhlaWdodCAvIDIpKTtcbiAgICAgICAgLy8gS2VlcCBvdXRwdXQgcmVjdCB3aXRoaW4gY3JvcFxuICAgICAgICBpZiAodG9wXzMgPCBjcm9wLnRvcCkge1xuICAgICAgICAgICAgdG9wXzMgPSBjcm9wLnRvcDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0b3BfMyArIGhlaWdodCA+IGNyb3AudG9wICsgY3JvcC5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRvcF8zID0gY3JvcC50b3AgKyBjcm9wLmhlaWdodCAtIGhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBjcm9wUmVjdCA9IHsgbGVmdDogbGVmdCwgdG9wOiB0b3BfMywgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aDogaW1nV2lkdGgsXG4gICAgICAgIGhlaWdodDogaW1nSGVpZ2h0LFxuICAgICAgICByZWN0OiBjcm9wUmVjdCxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXJsRm9ySW1hZ2UuanMubWFwIl0sIm5hbWVzIjpbIl9fYXNzaWduIiwiT2JqZWN0IiwiYXNzaWduIiwidCIsInMiLCJpIiwibiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhcHBseSIsIl9faW1wb3J0RGVmYXVsdCIsIm1vZCIsIl9fZXNNb2R1bGUiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInBhcnNlU291cmNlIiwiU1BFQ19OQU1FX1RPX1VSTF9OQU1FX01BUFBJTkdTIiwicGFyc2VBc3NldElkXzEiLCJyZXF1aXJlIiwicGFyc2VTb3VyY2VfMSIsImRlZmF1bHQiLCJ1cmxGb3JJbWFnZSIsIm9wdGlvbnMiLCJzcGVjIiwic291cmNlIiwiaW1hZ2UiLCJFcnJvciIsImNvbmNhdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJpZCIsImFzc2V0IiwiX3JlZiIsIl9pZCIsImNyb3BMZWZ0IiwiTWF0aCIsInJvdW5kIiwiY3JvcCIsImxlZnQiLCJ3aWR0aCIsImNyb3BUb3AiLCJ0b3AiLCJoZWlnaHQiLCJyaWdodCIsImJvdHRvbSIsImhvdFNwb3RWZXJ0aWNhbFJhZGl1cyIsImhvdHNwb3QiLCJob3RTcG90SG9yaXpvbnRhbFJhZGl1cyIsImhvdFNwb3RDZW50ZXJYIiwieCIsImhvdFNwb3RDZW50ZXJZIiwieSIsInJlY3QiLCJmb2NhbFBvaW50IiwiaWdub3JlSW1hZ2VQYXJhbXMiLCJmaXQiLCJzcGVjVG9JbWFnZVVybCIsImNkblVybCIsImJhc2VVcmwiLCJyZXBsYWNlIiwidmFuaXR5U3R1YiIsInZhbml0eU5hbWUiLCJmaWxlbmFtZSIsImZvcm1hdCIsInByb2plY3RJZCIsImRhdGFzZXQiLCJwYXJhbXMiLCJfYSIsInRvcF8xIiwiaXNFZmZlY3RpdmVDcm9wIiwicHVzaCIsImJnIiwiZmxpcCIsImZsaXBIb3Jpem9udGFsIiwiZmxpcFZlcnRpY2FsIiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJmb3JFYWNoIiwibWFwcGluZyIsInNwZWNOYW1lIiwicGFyYW0iLCJlbmNvZGVVUklDb21wb25lbnQiLCJjcm9wUmVjdCIsImltZ1dpZHRoIiwiaW1nSGVpZ2h0IiwiZGVzaXJlZEFzcGVjdFJhdGlvIiwiY3JvcEFzcGVjdFJhdGlvIiwidG9wXzIiLCJtYXgiLCJob3RzcG90WENlbnRlciIsImhvdHNwb3RZQ2VudGVyIiwidG9wXzMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/image-url/lib/node/urlForImage.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/image-url/lib/node/builder.js":
/*!************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/builder.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __assign = this && this.__assign || function() {\n    __assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = this && this.__createBinding || (Object.create ? function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, {\n        enumerable: true,\n        get: function() {\n            return m[k];\n        }\n    });\n} : function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function(o, v) {\n    Object.defineProperty(o, \"default\", {\n        enumerable: true,\n        value: v\n    });\n} : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function(mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) {\n        for(var k in mod)if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    }\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.ImageUrlBuilder = void 0;\nvar urlForImage_1 = __importStar(__webpack_require__(/*! ./urlForImage */ \"(rsc)/./node_modules/@sanity/image-url/lib/node/urlForImage.js\"));\nvar validFits = [\n    \"clip\",\n    \"crop\",\n    \"fill\",\n    \"fillmax\",\n    \"max\",\n    \"scale\",\n    \"min\"\n];\nvar validCrops = [\n    \"top\",\n    \"bottom\",\n    \"left\",\n    \"right\",\n    \"center\",\n    \"focalpoint\",\n    \"entropy\"\n];\nvar validAutoModes = [\n    \"format\"\n];\nfunction isSanityModernClientLike(client) {\n    return client && \"config\" in client ? typeof client.config === \"function\" : false;\n}\nfunction isSanityClientLike(client) {\n    return client && \"clientConfig\" in client ? typeof client.clientConfig === \"object\" : false;\n}\nfunction rewriteSpecName(key) {\n    var specs = urlForImage_1.SPEC_NAME_TO_URL_NAME_MAPPINGS;\n    for(var _i = 0, specs_1 = specs; _i < specs_1.length; _i++){\n        var entry = specs_1[_i];\n        var specName = entry[0], param = entry[1];\n        if (key === specName || key === param) {\n            return specName;\n        }\n    }\n    return key;\n}\nfunction urlBuilder(options) {\n    // Did we get a modernish client?\n    if (isSanityModernClientLike(options)) {\n        // Inherit config from client\n        var _a = options.config(), apiUrl = _a.apiHost, projectId = _a.projectId, dataset = _a.dataset;\n        var apiHost = apiUrl || \"https://api.sanity.io\";\n        return new ImageUrlBuilder(null, {\n            baseUrl: apiHost.replace(/^https:\\/\\/api\\./, \"https://cdn.\"),\n            projectId: projectId,\n            dataset: dataset\n        });\n    }\n    // Did we get a SanityClient?\n    if (isSanityClientLike(options)) {\n        // Inherit config from client\n        var _b = options.clientConfig, apiUrl = _b.apiHost, projectId = _b.projectId, dataset = _b.dataset;\n        var apiHost = apiUrl || \"https://api.sanity.io\";\n        return new ImageUrlBuilder(null, {\n            baseUrl: apiHost.replace(/^https:\\/\\/api\\./, \"https://cdn.\"),\n            projectId: projectId,\n            dataset: dataset\n        });\n    }\n    // Or just accept the options as given\n    return new ImageUrlBuilder(null, options || {});\n}\nexports[\"default\"] = urlBuilder;\nvar ImageUrlBuilder = /** @class */ function() {\n    function ImageUrlBuilder(parent, options) {\n        this.options = parent ? __assign(__assign({}, parent.options || {}), options || {}) : __assign({}, options || {}); // Copy options\n    }\n    ImageUrlBuilder.prototype.withOptions = function(options) {\n        var baseUrl = options.baseUrl || this.options.baseUrl;\n        var newOptions = {\n            baseUrl: baseUrl\n        };\n        for(var key in options){\n            if (options.hasOwnProperty(key)) {\n                var specKey = rewriteSpecName(key);\n                newOptions[specKey] = options[key];\n            }\n        }\n        return new ImageUrlBuilder(this, __assign({\n            baseUrl: baseUrl\n        }, newOptions));\n    };\n    // The image to be represented. Accepts a Sanity 'image'-document, 'asset'-document or\n    // _id of asset. To get the benefit of automatic hot-spot/crop integration with the content\n    // studio, the 'image'-document must be provided.\n    ImageUrlBuilder.prototype.image = function(source) {\n        return this.withOptions({\n            source: source\n        });\n    };\n    // Specify the dataset\n    ImageUrlBuilder.prototype.dataset = function(dataset) {\n        return this.withOptions({\n            dataset: dataset\n        });\n    };\n    // Specify the projectId\n    ImageUrlBuilder.prototype.projectId = function(projectId) {\n        return this.withOptions({\n            projectId: projectId\n        });\n    };\n    // Specify background color\n    ImageUrlBuilder.prototype.bg = function(bg) {\n        return this.withOptions({\n            bg: bg\n        });\n    };\n    // Set DPR scaling factor\n    ImageUrlBuilder.prototype.dpr = function(dpr) {\n        // A DPR of 1 is the default - so only include it if we have a different value\n        return this.withOptions(dpr && dpr !== 1 ? {\n            dpr: dpr\n        } : {});\n    };\n    // Specify the width of the image in pixels\n    ImageUrlBuilder.prototype.width = function(width) {\n        return this.withOptions({\n            width: width\n        });\n    };\n    // Specify the height of the image in pixels\n    ImageUrlBuilder.prototype.height = function(height) {\n        return this.withOptions({\n            height: height\n        });\n    };\n    // Specify focal point in fraction of image dimensions. Each component 0.0-1.0\n    ImageUrlBuilder.prototype.focalPoint = function(x, y) {\n        return this.withOptions({\n            focalPoint: {\n                x: x,\n                y: y\n            }\n        });\n    };\n    ImageUrlBuilder.prototype.maxWidth = function(maxWidth) {\n        return this.withOptions({\n            maxWidth: maxWidth\n        });\n    };\n    ImageUrlBuilder.prototype.minWidth = function(minWidth) {\n        return this.withOptions({\n            minWidth: minWidth\n        });\n    };\n    ImageUrlBuilder.prototype.maxHeight = function(maxHeight) {\n        return this.withOptions({\n            maxHeight: maxHeight\n        });\n    };\n    ImageUrlBuilder.prototype.minHeight = function(minHeight) {\n        return this.withOptions({\n            minHeight: minHeight\n        });\n    };\n    // Specify width and height in pixels\n    ImageUrlBuilder.prototype.size = function(width, height) {\n        return this.withOptions({\n            width: width,\n            height: height\n        });\n    };\n    // Specify blur between 0 and 100\n    ImageUrlBuilder.prototype.blur = function(blur) {\n        return this.withOptions({\n            blur: blur\n        });\n    };\n    ImageUrlBuilder.prototype.sharpen = function(sharpen) {\n        return this.withOptions({\n            sharpen: sharpen\n        });\n    };\n    // Specify the desired rectangle of the image\n    ImageUrlBuilder.prototype.rect = function(left, top, width, height) {\n        return this.withOptions({\n            rect: {\n                left: left,\n                top: top,\n                width: width,\n                height: height\n            }\n        });\n    };\n    // Specify the image format of the image. 'jpg', 'pjpg', 'png', 'webp'\n    ImageUrlBuilder.prototype.format = function(format) {\n        return this.withOptions({\n            format: format\n        });\n    };\n    ImageUrlBuilder.prototype.invert = function(invert) {\n        return this.withOptions({\n            invert: invert\n        });\n    };\n    // Rotation in degrees 0, 90, 180, 270\n    ImageUrlBuilder.prototype.orientation = function(orientation) {\n        return this.withOptions({\n            orientation: orientation\n        });\n    };\n    // Compression quality 0-100\n    ImageUrlBuilder.prototype.quality = function(quality) {\n        return this.withOptions({\n            quality: quality\n        });\n    };\n    // Make it a download link. Parameter is default filename.\n    ImageUrlBuilder.prototype.forceDownload = function(download) {\n        return this.withOptions({\n            download: download\n        });\n    };\n    // Flip image horizontally\n    ImageUrlBuilder.prototype.flipHorizontal = function() {\n        return this.withOptions({\n            flipHorizontal: true\n        });\n    };\n    // Flip image vertically\n    ImageUrlBuilder.prototype.flipVertical = function() {\n        return this.withOptions({\n            flipVertical: true\n        });\n    };\n    // Ignore crop/hotspot from image record, even when present\n    ImageUrlBuilder.prototype.ignoreImageParams = function() {\n        return this.withOptions({\n            ignoreImageParams: true\n        });\n    };\n    ImageUrlBuilder.prototype.fit = function(value) {\n        if (validFits.indexOf(value) === -1) {\n            throw new Error('Invalid fit mode \"'.concat(value, '\"'));\n        }\n        return this.withOptions({\n            fit: value\n        });\n    };\n    ImageUrlBuilder.prototype.crop = function(value) {\n        if (validCrops.indexOf(value) === -1) {\n            throw new Error('Invalid crop mode \"'.concat(value, '\"'));\n        }\n        return this.withOptions({\n            crop: value\n        });\n    };\n    // Saturation\n    ImageUrlBuilder.prototype.saturation = function(saturation) {\n        return this.withOptions({\n            saturation: saturation\n        });\n    };\n    ImageUrlBuilder.prototype.auto = function(value) {\n        if (validAutoModes.indexOf(value) === -1) {\n            throw new Error('Invalid auto mode \"'.concat(value, '\"'));\n        }\n        return this.withOptions({\n            auto: value\n        });\n    };\n    // Specify the number of pixels to pad the image\n    ImageUrlBuilder.prototype.pad = function(pad) {\n        return this.withOptions({\n            pad: pad\n        });\n    };\n    // Vanity URL for more SEO friendly URLs\n    ImageUrlBuilder.prototype.vanityName = function(value) {\n        return this.withOptions({\n            vanityName: value\n        });\n    };\n    ImageUrlBuilder.prototype.frame = function(frame) {\n        if (frame !== 1) {\n            throw new Error('Invalid frame value \"'.concat(frame, '\"'));\n        }\n        return this.withOptions({\n            frame: frame\n        });\n    };\n    // Gets the url based on the submitted parameters\n    ImageUrlBuilder.prototype.url = function() {\n        return (0, urlForImage_1.default)(this.options);\n    };\n    // Alias for url()\n    ImageUrlBuilder.prototype.toString = function() {\n        return this.url();\n    };\n    return ImageUrlBuilder;\n}();\nexports.ImageUrlBuilder = ImageUrlBuilder; //# sourceMappingURL=builder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvYnVpbGRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLElBQUlBLFdBQVcsSUFBSyxJQUFJLElBQUksQ0FBQ0EsUUFBUSxJQUFLO0lBQ3RDQSxXQUFXQyxPQUFPQyxNQUFNLElBQUksU0FBU0MsQ0FBQztRQUNsQyxJQUFLLElBQUlDLEdBQUdDLElBQUksR0FBR0MsSUFBSUMsVUFBVUMsTUFBTSxFQUFFSCxJQUFJQyxHQUFHRCxJQUFLO1lBQ2pERCxJQUFJRyxTQUFTLENBQUNGLEVBQUU7WUFDaEIsSUFBSyxJQUFJSSxLQUFLTCxFQUFHLElBQUlILE9BQU9TLFNBQVMsQ0FBQ0MsY0FBYyxDQUFDQyxJQUFJLENBQUNSLEdBQUdLLElBQ3pETixDQUFDLENBQUNNLEVBQUUsR0FBR0wsQ0FBQyxDQUFDSyxFQUFFO1FBQ25CO1FBQ0EsT0FBT047SUFDWDtJQUNBLE9BQU9ILFNBQVNhLEtBQUssQ0FBQyxJQUFJLEVBQUVOO0FBQ2hDO0FBQ0EsSUFBSU8sa0JBQWtCLElBQUssSUFBSSxJQUFJLENBQUNBLGVBQWUsSUFBTWIsQ0FBQUEsT0FBT2MsTUFBTSxHQUFJLFNBQVNDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLEVBQUU7SUFDMUYsSUFBSUEsT0FBT0MsV0FBV0QsS0FBS0Q7SUFDM0JqQixPQUFPb0IsY0FBYyxDQUFDTCxHQUFHRyxJQUFJO1FBQUVHLFlBQVk7UUFBTUMsS0FBSztZQUFhLE9BQU9OLENBQUMsQ0FBQ0MsRUFBRTtRQUFFO0lBQUU7QUFDdEYsSUFBTSxTQUFTRixDQUFDLEVBQUVDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxFQUFFO0lBQ3RCLElBQUlBLE9BQU9DLFdBQVdELEtBQUtEO0lBQzNCRixDQUFDLENBQUNHLEdBQUcsR0FBR0YsQ0FBQyxDQUFDQyxFQUFFO0FBQ2hCLENBQUM7QUFDRCxJQUFJTSxxQkFBcUIsSUFBSyxJQUFJLElBQUksQ0FBQ0Es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LElBQUksQ0FBQ3NDLFdBQVcsQ0FBQztZQUFFdUMsWUFBWTdFO1FBQU07SUFDaEQ7SUFDQU0sZ0JBQWdCdEIsU0FBUyxDQUFDOEYsS0FBSyxHQUFHLFNBQVVBLEtBQUs7UUFDN0MsSUFBSUEsVUFBVSxHQUFHO1lBQ2IsTUFBTSxJQUFJUCxNQUFNLHdCQUF5QkMsTUFBTSxDQUFDTSxPQUFPO1FBQzNEO1FBQ0EsT0FBTyxJQUFJLENBQUN4QyxXQUFXLENBQUM7WUFBRXdDLE9BQU9BO1FBQU07SUFDM0M7SUFDQSxpREFBaUQ7SUFDakR4RSxnQkFBZ0J0QixTQUFTLENBQUMrRixHQUFHLEdBQUc7UUFDNUIsT0FBTyxDQUFDLEdBQUd4RSxjQUFjNkIsT0FBTyxFQUFFLElBQUksQ0FBQ1QsT0FBTztJQUNsRDtJQUNBLGtCQUFrQjtJQUNsQnJCLGdCQUFnQnRCLFNBQVMsQ0FBQ2dHLFFBQVEsR0FBRztRQUNqQyxPQUFPLElBQUksQ0FBQ0QsR0FBRztJQUNuQjtJQUNBLE9BQU96RTtBQUNYO0FBQ0FELHVCQUF1QixHQUFHQyxpQkFDMUIsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWRtaXNzaW9uLXVwbGlmdC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2ltYWdlLXVybC9saWIvbm9kZS9idWlsZGVyLmpzPzdhOTYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkltYWdlVXJsQnVpbGRlciA9IHZvaWQgMDtcbnZhciB1cmxGb3JJbWFnZV8xID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL3VybEZvckltYWdlXCIpKTtcbnZhciB2YWxpZEZpdHMgPSBbJ2NsaXAnLCAnY3JvcCcsICdmaWxsJywgJ2ZpbGxtYXgnLCAnbWF4JywgJ3NjYWxlJywgJ21pbiddO1xudmFyIHZhbGlkQ3JvcHMgPSBbJ3RvcCcsICdib3R0b20nLCAnbGVmdCcsICdyaWdodCcsICdjZW50ZXInLCAnZm9jYWxwb2ludCcsICdlbnRyb3B5J107XG52YXIgdmFsaWRBdXRvTW9kZXMgPSBbJ2Zvcm1hdCddO1xuZnVuY3Rpb24gaXNTYW5pdHlNb2Rlcm5DbGllbnRMaWtlKGNsaWVudCkge1xuICAgIHJldHVybiBjbGllbnQgJiYgJ2NvbmZpZycgaW4gY2xpZW50ID8gdHlwZW9mIGNsaWVudC5jb25maWcgPT09ICdmdW5jdGlvbicgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzU2FuaXR5Q2xpZW50TGlrZShjbGllbnQpIHtcbiAgICByZXR1cm4gY2xpZW50ICYmICdjbGllbnRDb25maWcnIGluIGNsaWVudCA/IHR5cGVvZiBjbGllbnQuY2xpZW50Q29uZmlnID09PSAnb2JqZWN0JyA6IGZhbHNlO1xufVxuZnVuY3Rpb24gcmV3cml0ZVNwZWNOYW1lKGtleSkge1xuICAgIHZhciBzcGVjcyA9IHVybEZvckltYWdlXzEuU1BFQ19OQU1FX1RPX1VSTF9OQU1FX01BUFBJTkdTO1xuICAgIGZvciAodmFyIF9pID0gMCwgc3BlY3NfMSA9IHNwZWNzOyBfaSA8IHNwZWNzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHNwZWNzXzFbX2ldO1xuICAgICAgICB2YXIgc3BlY05hbWUgPSBlbnRyeVswXSwgcGFyYW0gPSBlbnRyeVsxXTtcbiAgICAgICAgaWYgKGtleSA9PT0gc3BlY05hbWUgfHwga2V5ID09PSBwYXJhbSkge1xuICAgICAgICAgICAgcmV0dXJuIHNwZWNOYW1lO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG59XG5mdW5jdGlvbiB1cmxCdWlsZGVyKG9wdGlvbnMpIHtcbiAgICAvLyBEaWQgd2UgZ2V0IGEgbW9kZXJuaXNoIGNsaWVudD9cbiAgICBpZiAoaXNTYW5pdHlNb2Rlcm5DbGllbnRMaWtlKG9wdGlvbnMpKSB7XG4gICAgICAgIC8vIEluaGVyaXQgY29uZmlnIGZyb20gY2xpZW50XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMuY29uZmlnKCksIGFwaVVybCA9IF9hLmFwaUhvc3QsIHByb2plY3RJZCA9IF9hLnByb2plY3RJZCwgZGF0YXNldCA9IF9hLmRhdGFzZXQ7XG4gICAgICAgIHZhciBhcGlIb3N0ID0gYXBpVXJsIHx8ICdodHRwczovL2FwaS5zYW5pdHkuaW8nO1xuICAgICAgICByZXR1cm4gbmV3IEltYWdlVXJsQnVpbGRlcihudWxsLCB7XG4gICAgICAgICAgICBiYXNlVXJsOiBhcGlIb3N0LnJlcGxhY2UoL15odHRwczpcXC9cXC9hcGlcXC4vLCAnaHR0cHM6Ly9jZG4uJyksXG4gICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RJZCxcbiAgICAgICAgICAgIGRhdGFzZXQ6IGRhdGFzZXQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBEaWQgd2UgZ2V0IGEgU2FuaXR5Q2xpZW50P1xuICAgIGlmIChpc1Nhbml0eUNsaWVudExpa2Uob3B0aW9ucykpIHtcbiAgICAgICAgLy8gSW5oZXJpdCBjb25maWcgZnJvbSBjbGllbnRcbiAgICAgICAgdmFyIF9iID0gb3B0aW9ucy5jbGllbnRDb25maWcsIGFwaVVybCA9IF9iLmFwaUhvc3QsIHByb2plY3RJZCA9IF9iLnByb2plY3RJZCwgZGF0YXNldCA9IF9iLmRhdGFzZXQ7XG4gICAgICAgIHZhciBhcGlIb3N0ID0gYXBpVXJsIHx8ICdodHRwczovL2FwaS5zYW5pdHkuaW8nO1xuICAgICAgICByZXR1cm4gbmV3IEltYWdlVXJsQnVpbGRlcihudWxsLCB7XG4gICAgICAgICAgICBiYXNlVXJsOiBhcGlIb3N0LnJlcGxhY2UoL15odHRwczpcXC9cXC9hcGlcXC4vLCAnaHR0cHM6Ly9jZG4uJyksXG4gICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RJZCxcbiAgICAgICAgICAgIGRhdGFzZXQ6IGRhdGFzZXQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBPciBqdXN0IGFjY2VwdCB0aGUgb3B0aW9ucyBhcyBnaXZlblxuICAgIHJldHVybiBuZXcgSW1hZ2VVcmxCdWlsZGVyKG51bGwsIG9wdGlvbnMgfHwge30pO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gdXJsQnVpbGRlcjtcbnZhciBJbWFnZVVybEJ1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW1hZ2VVcmxCdWlsZGVyKHBhcmVudCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBwYXJlbnRcbiAgICAgICAgICAgID8gX19hc3NpZ24oX19hc3NpZ24oe30sIChwYXJlbnQub3B0aW9ucyB8fCB7fSkpLCAob3B0aW9ucyB8fCB7fSkpIDogX19hc3NpZ24oe30sIChvcHRpb25zIHx8IHt9KSk7IC8vIENvcHkgb3B0aW9uc1xuICAgIH1cbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLndpdGhPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGJhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmwgfHwgdGhpcy5vcHRpb25zLmJhc2VVcmw7XG4gICAgICAgIHZhciBuZXdPcHRpb25zID0geyBiYXNlVXJsOiBiYXNlVXJsIH07XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNwZWNLZXkgPSByZXdyaXRlU3BlY05hbWUoa2V5KTtcbiAgICAgICAgICAgICAgICBuZXdPcHRpb25zW3NwZWNLZXldID0gb3B0aW9uc1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgSW1hZ2VVcmxCdWlsZGVyKHRoaXMsIF9fYXNzaWduKHsgYmFzZVVybDogYmFzZVVybCB9LCBuZXdPcHRpb25zKSk7XG4gICAgfTtcbiAgICAvLyBUaGUgaW1hZ2UgdG8gYmUgcmVwcmVzZW50ZWQuIEFjY2VwdHMgYSBTYW5pdHkgJ2ltYWdlJy1kb2N1bWVudCwgJ2Fzc2V0Jy1kb2N1bWVudCBvclxuICAgIC8vIF9pZCBvZiBhc3NldC4gVG8gZ2V0IHRoZSBiZW5lZml0IG9mIGF1dG9tYXRpYyBob3Qtc3BvdC9jcm9wIGludGVncmF0aW9uIHdpdGggdGhlIGNvbnRlbnRcbiAgICAvLyBzdHVkaW8sIHRoZSAnaW1hZ2UnLWRvY3VtZW50IG11c3QgYmUgcHJvdmlkZWQuXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5pbWFnZSA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBzb3VyY2U6IHNvdXJjZSB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgdGhlIGRhdGFzZXRcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmRhdGFzZXQgPSBmdW5jdGlvbiAoZGF0YXNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGRhdGFzZXQ6IGRhdGFzZXQgfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IHRoZSBwcm9qZWN0SWRcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnByb2plY3RJZCA9IGZ1bmN0aW9uIChwcm9qZWN0SWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBwcm9qZWN0SWQ6IHByb2plY3RJZCB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgYmFja2dyb3VuZCBjb2xvclxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuYmcgPSBmdW5jdGlvbiAoYmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBiZzogYmcgfSk7XG4gICAgfTtcbiAgICAvLyBTZXQgRFBSIHNjYWxpbmcgZmFjdG9yXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5kcHIgPSBmdW5jdGlvbiAoZHByKSB7XG4gICAgICAgIC8vIEEgRFBSIG9mIDEgaXMgdGhlIGRlZmF1bHQgLSBzbyBvbmx5IGluY2x1ZGUgaXQgaWYgd2UgaGF2ZSBhIGRpZmZlcmVudCB2YWx1ZVxuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyhkcHIgJiYgZHByICE9PSAxID8geyBkcHI6IGRwciB9IDoge30pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSB0aGUgd2lkdGggb2YgdGhlIGltYWdlIGluIHBpeGVsc1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUud2lkdGggPSBmdW5jdGlvbiAod2lkdGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyB3aWR0aDogd2lkdGggfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IHRoZSBoZWlnaHQgb2YgdGhlIGltYWdlIGluIHBpeGVsc1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuaGVpZ2h0ID0gZnVuY3Rpb24gKGhlaWdodCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGhlaWdodDogaGVpZ2h0IH0pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSBmb2NhbCBwb2ludCBpbiBmcmFjdGlvbiBvZiBpbWFnZSBkaW1lbnNpb25zLiBFYWNoIGNvbXBvbmVudCAwLjAtMS4wXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5mb2NhbFBvaW50ID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBmb2NhbFBvaW50OiB7IHg6IHgsIHk6IHkgfSB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUubWF4V2lkdGggPSBmdW5jdGlvbiAobWF4V2lkdGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBtYXhXaWR0aDogbWF4V2lkdGggfSk7XG4gICAgfTtcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLm1pbldpZHRoID0gZnVuY3Rpb24gKG1pbldpZHRoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgbWluV2lkdGg6IG1pbldpZHRoIH0pO1xuICAgIH07XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5tYXhIZWlnaHQgPSBmdW5jdGlvbiAobWF4SGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgbWF4SGVpZ2h0OiBtYXhIZWlnaHQgfSk7XG4gICAgfTtcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLm1pbkhlaWdodCA9IGZ1bmN0aW9uIChtaW5IZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBtaW5IZWlnaHQ6IG1pbkhlaWdodCB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgd2lkdGggYW5kIGhlaWdodCBpbiBwaXhlbHNcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IGJsdXIgYmV0d2VlbiAwIGFuZCAxMDBcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmJsdXIgPSBmdW5jdGlvbiAoYmx1cikge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGJsdXI6IGJsdXIgfSk7XG4gICAgfTtcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnNoYXJwZW4gPSBmdW5jdGlvbiAoc2hhcnBlbikge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IHNoYXJwZW46IHNoYXJwZW4gfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IHRoZSBkZXNpcmVkIHJlY3RhbmdsZSBvZiB0aGUgaW1hZ2VcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnJlY3QgPSBmdW5jdGlvbiAobGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgcmVjdDogeyBsZWZ0OiBsZWZ0LCB0b3A6IHRvcCwgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9IH0pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSB0aGUgaW1hZ2UgZm9ybWF0IG9mIHRoZSBpbWFnZS4gJ2pwZycsICdwanBnJywgJ3BuZycsICd3ZWJwJ1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGZvcm1hdDogZm9ybWF0IH0pO1xuICAgIH07XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoaW52ZXJ0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgaW52ZXJ0OiBpbnZlcnQgfSk7XG4gICAgfTtcbiAgICAvLyBSb3RhdGlvbiBpbiBkZWdyZWVzIDAsIDkwLCAxODAsIDI3MFxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUub3JpZW50YXRpb24gPSBmdW5jdGlvbiAob3JpZW50YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBvcmllbnRhdGlvbjogb3JpZW50YXRpb24gfSk7XG4gICAgfTtcbiAgICAvLyBDb21wcmVzc2lvbiBxdWFsaXR5IDAtMTAwXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5xdWFsaXR5ID0gZnVuY3Rpb24gKHF1YWxpdHkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBxdWFsaXR5OiBxdWFsaXR5IH0pO1xuICAgIH07XG4gICAgLy8gTWFrZSBpdCBhIGRvd25sb2FkIGxpbmsuIFBhcmFtZXRlciBpcyBkZWZhdWx0IGZpbGVuYW1lLlxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuZm9yY2VEb3dubG9hZCA9IGZ1bmN0aW9uIChkb3dubG9hZCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGRvd25sb2FkOiBkb3dubG9hZCB9KTtcbiAgICB9O1xuICAgIC8vIEZsaXAgaW1hZ2UgaG9yaXpvbnRhbGx5XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5mbGlwSG9yaXpvbnRhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBmbGlwSG9yaXpvbnRhbDogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIC8vIEZsaXAgaW1hZ2UgdmVydGljYWxseVxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuZmxpcFZlcnRpY2FsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGZsaXBWZXJ0aWNhbDogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIC8vIElnbm9yZSBjcm9wL2hvdHNwb3QgZnJvbSBpbWFnZSByZWNvcmQsIGV2ZW4gd2hlbiBwcmVzZW50XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5pZ25vcmVJbWFnZVBhcmFtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBpZ25vcmVJbWFnZVBhcmFtczogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuZml0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWxpZEZpdHMuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGZpdCBtb2RlIFxcXCJcIi5jb25jYXQodmFsdWUsIFwiXFxcIlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBmaXQ6IHZhbHVlIH0pO1xuICAgIH07XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWxpZENyb3BzLmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjcm9wIG1vZGUgXFxcIlwiLmNvbmNhdCh2YWx1ZSwgXCJcXFwiXCIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGNyb3A6IHZhbHVlIH0pO1xuICAgIH07XG4gICAgLy8gU2F0dXJhdGlvblxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuc2F0dXJhdGlvbiA9IGZ1bmN0aW9uIChzYXR1cmF0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgc2F0dXJhdGlvbjogc2F0dXJhdGlvbiB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuYXV0byA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsaWRBdXRvTW9kZXMuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGF1dG8gbW9kZSBcXFwiXCIuY29uY2F0KHZhbHVlLCBcIlxcXCJcIikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgYXV0bzogdmFsdWUgfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IHRoZSBudW1iZXIgb2YgcGl4ZWxzIHRvIHBhZCB0aGUgaW1hZ2VcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnBhZCA9IGZ1bmN0aW9uIChwYWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBwYWQ6IHBhZCB9KTtcbiAgICB9O1xuICAgIC8vIFZhbml0eSBVUkwgZm9yIG1vcmUgU0VPIGZyaWVuZGx5IFVSTHNcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnZhbml0eU5hbWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyB2YW5pdHlOYW1lOiB2YWx1ZSB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuZnJhbWUgPSBmdW5jdGlvbiAoZnJhbWUpIHtcbiAgICAgICAgaWYgKGZyYW1lICE9PSAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGZyYW1lIHZhbHVlIFxcXCJcIi5jb25jYXQoZnJhbWUsIFwiXFxcIlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBmcmFtZTogZnJhbWUgfSk7XG4gICAgfTtcbiAgICAvLyBHZXRzIHRoZSB1cmwgYmFzZWQgb24gdGhlIHN1Ym1pdHRlZCBwYXJhbWV0ZXJzXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS51cmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAoMCwgdXJsRm9ySW1hZ2VfMS5kZWZhdWx0KSh0aGlzLm9wdGlvbnMpO1xuICAgIH07XG4gICAgLy8gQWxpYXMgZm9yIHVybCgpXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsKCk7XG4gICAgfTtcbiAgICByZXR1cm4gSW1hZ2VVcmxCdWlsZGVyO1xufSgpKTtcbmV4cG9ydHMuSW1hZ2VVcmxCdWlsZGVyID0gSW1hZ2VVcmxCdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVpbGRlci5qcy5tYXAiXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwiX19jcmVhdGVCaW5kaW5nIiwiY3JlYXRlIiwibyIsIm0iLCJrIiwiazIiLCJ1bmRlZmluZWQiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJfX3NldE1vZHVsZURlZmF1bHQiLCJ2IiwidmFsdWUiLCJfX2ltcG9ydFN0YXIiLCJtb2QiLCJfX2VzTW9kdWxlIiwicmVzdWx0IiwiZXhwb3J0cyIsIkltYWdlVXJsQnVpbGRlciIsInVybEZvckltYWdlXzEiLCJyZXF1aXJlIiwidmFsaWRGaXRzIiwidmFsaWRDcm9wcyIsInZhbGlkQXV0b01vZGVzIiwiaXNTYW5pdHlNb2Rlcm5DbGllbnRMaWtlIiwiY2xpZW50IiwiY29uZmlnIiwiaXNTYW5pdHlDbGllbnRMaWtlIiwiY2xpZW50Q29uZmlnIiwicmV3cml0ZVNwZWNOYW1lIiwia2V5Iiwic3BlY3MiLCJTUEVDX05BTUVfVE9fVVJMX05BTUVfTUFQUElOR1MiLCJfaSIsInNwZWNzXzEiLCJlbnRyeSIsInNwZWNOYW1lIiwicGFyYW0iLCJ1cmxCdWlsZGVyIiwib3B0aW9ucyIsIl9hIiwiYXBpVXJsIiwiYXBpSG9zdCIsInByb2plY3RJZCIsImRhdGFzZXQiLCJiYXNlVXJsIiwicmVwbGFjZSIsIl9iIiwiZGVmYXVsdCIsInBhcmVudCIsIndpdGhPcHRpb25zIiwibmV3T3B0aW9ucyIsInNwZWNLZXkiLCJpbWFnZSIsInNvdXJjZSIsImJnIiwiZHByIiwid2lkdGgiLCJoZWlnaHQiLCJmb2NhbFBvaW50IiwieCIsInkiLCJtYXhXaWR0aCIsIm1pbldpZHRoIiwibWF4SGVpZ2h0IiwibWluSGVpZ2h0Iiwic2l6ZSIsImJsdXIiLCJzaGFycGVuIiwicmVjdCIsImxlZnQiLCJ0b3AiLCJmb3JtYXQiLCJpbnZlcnQiLCJvcmllbnRhdGlvbiIsInF1YWxpdHkiLCJmb3JjZURvd25sb2FkIiwiZG93bmxvYWQiLCJmbGlwSG9yaXpvbnRhbCIsImZsaXBWZXJ0aWNhbCIsImlnbm9yZUltYWdlUGFyYW1zIiwiZml0IiwiaW5kZXhPZiIsIkVycm9yIiwiY29uY2F0IiwiY3JvcCIsInNhdHVyYXRpb24iLCJhdXRvIiwicGFkIiwidmFuaXR5TmFtZSIsImZyYW1lIiwidXJsIiwidG9TdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/image-url/lib/node/builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/image-url/lib/node/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/index.js ***!
  \**********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = this && this.__importDefault || function(mod) {\n    return mod && mod.__esModule ? mod : {\n        \"default\": mod\n    };\n};\nvar builder_1 = __importDefault(__webpack_require__(/*! ./builder */ \"(rsc)/./node_modules/@sanity/image-url/lib/node/builder.js\"));\nmodule.exports = builder_1.default; //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxrQkFBa0IsSUFBSyxJQUFJLElBQUksQ0FBQ0EsZUFBZSxJQUFLLFNBQVVDLEdBQUc7SUFDakUsT0FBTyxPQUFRQSxJQUFJQyxVQUFVLEdBQUlELE1BQU07UUFBRSxXQUFXQTtJQUFJO0FBQzVEO0FBQ0EsSUFBSUUsWUFBWUgsZ0JBQWdCSSxtQkFBT0EsQ0FBQyw2RUFBVztBQUNuREMsT0FBT0MsT0FBTyxHQUFHSCxVQUFVSSxPQUFPLEVBQ2xDLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FkbWlzc2lvbi11cGxpZnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvaW5kZXguanM/YTIyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbnZhciBidWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYnVpbGRlclwiKSk7XG5tb2R1bGUuZXhwb3J0cyA9IGJ1aWxkZXJfMS5kZWZhdWx0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbIl9faW1wb3J0RGVmYXVsdCIsIm1vZCIsIl9fZXNNb2R1bGUiLCJidWlsZGVyXzEiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/image-url/lib/node/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/image-url/lib/node/parseAssetId.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/parseAssetId.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar example = \"image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg\";\nfunction parseAssetId(ref) {\n    var _a = ref.split(\"-\"), id = _a[1], dimensionString = _a[2], format = _a[3];\n    if (!id || !dimensionString || !format) {\n        throw new Error(\"Malformed asset _ref '\".concat(ref, \"'. Expected an id like \\\"\").concat(example, '\".'));\n    }\n    var _b = dimensionString.split(\"x\"), imgWidthStr = _b[0], imgHeightStr = _b[1];\n    var width = +imgWidthStr;\n    var height = +imgHeightStr;\n    var isValidAssetId = isFinite(width) && isFinite(height);\n    if (!isValidAssetId) {\n        throw new Error(\"Malformed asset _ref '\".concat(ref, \"'. Expected an id like \\\"\").concat(example, '\".'));\n    }\n    return {\n        id: id,\n        width: width,\n        height: height,\n        format: format\n    };\n}\nexports[\"default\"] = parseAssetId; //# sourceMappingURL=parseAssetId.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvcGFyc2VBc3NldElkLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2JBLDhDQUE2QztJQUFFRyxPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdELElBQUlDLFVBQVU7QUFDZCxTQUFTQyxhQUFhQyxHQUFHO0lBQ3JCLElBQUlDLEtBQUtELElBQUlFLEtBQUssQ0FBQyxNQUFNQyxLQUFLRixFQUFFLENBQUMsRUFBRSxFQUFFRyxrQkFBa0JILEVBQUUsQ0FBQyxFQUFFLEVBQUVJLFNBQVNKLEVBQUUsQ0FBQyxFQUFFO0lBQzVFLElBQUksQ0FBQ0UsTUFBTSxDQUFDQyxtQkFBbUIsQ0FBQ0MsUUFBUTtRQUNwQyxNQUFNLElBQUlDLE1BQU0seUJBQXlCQyxNQUFNLENBQUNQLEtBQUssNkJBQTZCTyxNQUFNLENBQUNULFNBQVM7SUFDdEc7SUFDQSxJQUFJVSxLQUFLSixnQkFBZ0JGLEtBQUssQ0FBQyxNQUFNTyxjQUFjRCxFQUFFLENBQUMsRUFBRSxFQUFFRSxlQUFlRixFQUFFLENBQUMsRUFBRTtJQUM5RSxJQUFJRyxRQUFRLENBQUNGO0lBQ2IsSUFBSUcsU0FBUyxDQUFDRjtJQUNkLElBQUlHLGlCQUFpQkMsU0FBU0gsVUFBVUcsU0FBU0Y7SUFDakQsSUFBSSxDQUFDQyxnQkFBZ0I7UUFDakIsTUFBTSxJQUFJUCxNQUFNLHlCQUF5QkMsTUFBTSxDQUFDUCxLQUFLLDZCQUE2Qk8sTUFBTSxDQUFDVCxTQUFTO0lBQ3RHO0lBQ0EsT0FBTztRQUFFSyxJQUFJQTtRQUFJUSxPQUFPQTtRQUFPQyxRQUFRQTtRQUFRUCxRQUFRQTtJQUFPO0FBQ2xFO0FBQ0FULGtCQUFlLEdBQUdHLGNBQ2xCLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2FkbWlzc2lvbi11cGxpZnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvcGFyc2VBc3NldElkLmpzPzQ4NWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXhhbXBsZSA9ICdpbWFnZS1UYjlFdzhDWEl3YVk2UjFrak12STB1UlItMjAwMHgzMDAwLWpwZyc7XG5mdW5jdGlvbiBwYXJzZUFzc2V0SWQocmVmKSB7XG4gICAgdmFyIF9hID0gcmVmLnNwbGl0KCctJyksIGlkID0gX2FbMV0sIGRpbWVuc2lvblN0cmluZyA9IF9hWzJdLCBmb3JtYXQgPSBfYVszXTtcbiAgICBpZiAoIWlkIHx8ICFkaW1lbnNpb25TdHJpbmcgfHwgIWZvcm1hdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgYXNzZXQgX3JlZiAnXCIuY29uY2F0KHJlZiwgXCInLiBFeHBlY3RlZCBhbiBpZCBsaWtlIFxcXCJcIikuY29uY2F0KGV4YW1wbGUsIFwiXFxcIi5cIikpO1xuICAgIH1cbiAgICB2YXIgX2IgPSBkaW1lbnNpb25TdHJpbmcuc3BsaXQoJ3gnKSwgaW1nV2lkdGhTdHIgPSBfYlswXSwgaW1nSGVpZ2h0U3RyID0gX2JbMV07XG4gICAgdmFyIHdpZHRoID0gK2ltZ1dpZHRoU3RyO1xuICAgIHZhciBoZWlnaHQgPSAraW1nSGVpZ2h0U3RyO1xuICAgIHZhciBpc1ZhbGlkQXNzZXRJZCA9IGlzRmluaXRlKHdpZHRoKSAmJiBpc0Zpbml0ZShoZWlnaHQpO1xuICAgIGlmICghaXNWYWxpZEFzc2V0SWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWFsZm9ybWVkIGFzc2V0IF9yZWYgJ1wiLmNvbmNhdChyZWYsIFwiJy4gRXhwZWN0ZWQgYW4gaWQgbGlrZSBcXFwiXCIpLmNvbmNhdChleGFtcGxlLCBcIlxcXCIuXCIpKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgaWQ6IGlkLCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0LCBmb3JtYXQ6IGZvcm1hdCB9O1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gcGFyc2VBc3NldElkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VBc3NldElkLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImV4YW1wbGUiLCJwYXJzZUFzc2V0SWQiLCJyZWYiLCJfYSIsInNwbGl0IiwiaWQiLCJkaW1lbnNpb25TdHJpbmciLCJmb3JtYXQiLCJFcnJvciIsImNvbmNhdCIsIl9iIiwiaW1nV2lkdGhTdHIiLCJpbWdIZWlnaHRTdHIiLCJ3aWR0aCIsImhlaWdodCIsImlzVmFsaWRBc3NldElkIiwiaXNGaW5pdGUiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/image-url/lib/node/parseAssetId.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/image-url/lib/node/parseSource.js":
/*!****************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/parseSource.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports) {

"use strict";
eval("\nvar __assign = this && this.__assign || function() {\n    __assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar isRef = function(src) {\n    var source = src;\n    return source ? typeof source._ref === \"string\" : false;\n};\nvar isAsset = function(src) {\n    var source = src;\n    return source ? typeof source._id === \"string\" : false;\n};\nvar isAssetStub = function(src) {\n    var source = src;\n    return source && source.asset ? typeof source.asset.url === \"string\" : false;\n};\n// Convert an asset-id, asset or image to an image record suitable for processing\n// eslint-disable-next-line complexity\nfunction parseSource(source) {\n    if (!source) {\n        return null;\n    }\n    var image;\n    if (typeof source === \"string\" && isUrl(source)) {\n        // Someone passed an existing image url?\n        image = {\n            asset: {\n                _ref: urlToId(source)\n            }\n        };\n    } else if (typeof source === \"string\") {\n        // Just an asset id\n        image = {\n            asset: {\n                _ref: source\n            }\n        };\n    } else if (isRef(source)) {\n        // We just got passed an asset directly\n        image = {\n            asset: source\n        };\n    } else if (isAsset(source)) {\n        // If we were passed an image asset document\n        image = {\n            asset: {\n                _ref: source._id || \"\"\n            }\n        };\n    } else if (isAssetStub(source)) {\n        // If we were passed a partial asset (`url`, but no `_id`)\n        image = {\n            asset: {\n                _ref: urlToId(source.asset.url)\n            }\n        };\n    } else if (typeof source.asset === \"object\") {\n        // Probably an actual image with materialized asset\n        image = __assign({}, source);\n    } else {\n        // We got something that does not look like an image, or it is an image\n        // that currently isn't sporting an asset.\n        return null;\n    }\n    var img = source;\n    if (img.crop) {\n        image.crop = img.crop;\n    }\n    if (img.hotspot) {\n        image.hotspot = img.hotspot;\n    }\n    return applyDefaults(image);\n}\nexports[\"default\"] = parseSource;\nfunction isUrl(url) {\n    return /^https?:\\/\\//.test(\"\".concat(url));\n}\nfunction urlToId(url) {\n    var parts = url.split(\"/\").slice(-1);\n    return \"image-\".concat(parts[0]).replace(/\\.([a-z]+)$/, \"-$1\");\n}\n// Mock crop and hotspot if image lacks it\nfunction applyDefaults(image) {\n    if (image.crop && image.hotspot) {\n        return image;\n    }\n    // We need to pad in default values for crop or hotspot\n    var result = __assign({}, image);\n    if (!result.crop) {\n        result.crop = {\n            left: 0,\n            top: 0,\n            bottom: 0,\n            right: 0\n        };\n    }\n    if (!result.hotspot) {\n        result.hotspot = {\n            x: 0.5,\n            y: 0.5,\n            height: 1.0,\n            width: 1.0\n        };\n    }\n    return result;\n} //# sourceMappingURL=parseSource.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvcGFyc2VTb3VyY2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxXQUFXLElBQUssSUFBSSxJQUFJLENBQUNBLFFBQVEsSUFBSztJQUN0Q0EsV0FBV0MsT0FBT0MsTUFBTSxJQUFJLFNBQVNDLENBQUM7UUFDbEMsSUFBSyxJQUFJQyxHQUFHQyxJQUFJLEdBQUdDLElBQUlDLFVBQVVDLE1BQU0sRUFBRUgsSUFBSUMsR0FBR0QsSUFBSztZQUNqREQsSUFBSUcsU0FBUyxDQUFDRixFQUFFO1lBQ2hCLElBQUssSUFBSUksS0FBS0wsRUFBRyxJQUFJSCxPQUFPUyxTQUFTLENBQUNDLGNBQWMsQ0FBQ0MsSUFBSSxDQUFDUixHQUFHSyxJQUN6RE4sQ0FBQyxDQUFDTSxFQUFFLEdBQUdMLENBQUMsQ0FBQ0ssRUFBRTtRQUNuQjtRQUNBLE9BQU9OO0lBQ1g7SUFDQSxPQUFPSCxTQUFTYSxLQUFLLENBQUMsSUFBSSxFQUFFTjtBQUNoQztBQUNBTiw4Q0FBNkM7SUFBRWUsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3RCxJQUFJQyxRQUFRLFNBQVVDLEdBQUc7SUFDckIsSUFBSUMsU0FBU0Q7SUFDYixPQUFPQyxTQUFTLE9BQU9BLE9BQU9DLElBQUksS0FBSyxXQUFXO0FBQ3REO0FBQ0EsSUFBSUMsVUFBVSxTQUFVSCxHQUFHO0lBQ3ZCLElBQUlDLFNBQVNEO0lBQ2IsT0FBT0MsU0FBUyxPQUFPQSxPQUFPRyxHQUFHLEtBQUssV0FBVztBQUNyRDtBQUNBLElBQUlDLGNBQWMsU0FBVUwsR0FBRztJQUMzQixJQUFJQyxTQUFTRDtJQUNiLE9BQU9DLFVBQVVBLE9BQU9LLEtBQUssR0FBRyxPQUFPTCxPQUFPSyxLQUFLLENBQUNDLEdBQUcsS0FBSyxXQUFXO0FBQzNFO0FBQ0EsaUZBQWlGO0FBQ2pGLHNDQUFzQztBQUN0QyxTQUFTQyxZQUFZUCxNQUFNO0lBQ3ZCLElBQUksQ0FBQ0EsUUFBUTtRQUNULE9BQU87SUFDWDtJQUNBLElBQUlRO0lBQ0osSUFBSSxPQUFPUixXQUFXLFlBQVlTLE1BQU1ULFNBQVM7UUFDN0Msd0NBQXdDO1FBQ3hDUSxRQUFRO1lBQ0pILE9BQU87Z0JBQUVKLE1BQU1TLFFBQVFWO1lBQVE7UUFDbkM7SUFDSixPQUNLLElBQUksT0FBT0EsV0FBVyxVQUFVO1FBQ2pDLG1CQUFtQjtRQUNuQlEsUUFBUTtZQUNKSCxPQUFPO2dCQUFFSixNQUFNRDtZQUFPO1FBQzFCO0lBQ0osT0FDSyxJQUFJRixNQUFNRSxTQUFTO1FBQ3BCLHVDQUF1QztRQUN2Q1EsUUFBUTtZQUNKSCxPQUFPTDtRQUNYO0lBQ0osT0FDSyxJQUFJRSxRQUFRRixTQUFTO1FBQ3RCLDRDQUE0QztRQUM1Q1EsUUFBUTtZQUNKSCxPQUFPO2dCQUNISixNQUFNRCxPQUFPRyxHQUFHLElBQUk7WUFDeEI7UUFDSjtJQUNKLE9BQ0ssSUFBSUMsWUFBWUosU0FBUztRQUMxQiwwREFBMEQ7UUFDMURRLFFBQVE7WUFDSkgsT0FBTztnQkFDSEosTUFBTVMsUUFBUVYsT0FBT0ssS0FBSyxDQUFDQyxHQUFHO1lBQ2xDO1FBQ0o7SUFDSixPQUNLLElBQUksT0FBT04sT0FBT0ssS0FBSyxLQUFLLFVBQVU7UUFDdkMsbURBQW1EO1FBQ25ERyxRQUFRM0IsU0FBUyxDQUFDLEdBQUdtQjtJQUN6QixPQUNLO1FBQ0QsdUVBQXVFO1FBQ3ZFLDBDQUEwQztRQUMxQyxPQUFPO0lBQ1g7SUFDQSxJQUFJVyxNQUFNWDtJQUNWLElBQUlXLElBQUlDLElBQUksRUFBRTtRQUNWSixNQUFNSSxJQUFJLEdBQUdELElBQUlDLElBQUk7SUFDekI7SUFDQSxJQUFJRCxJQUFJRSxPQUFPLEVBQUU7UUFDYkwsTUFBTUssT0FBTyxHQUFHRixJQUFJRSxPQUFPO0lBQy9CO0lBQ0EsT0FBT0MsY0FBY047QUFDekI7QUFDQVosa0JBQWUsR0FBR1c7QUFDbEIsU0FBU0UsTUFBTUgsR0FBRztJQUNkLE9BQU8sZUFBZVUsSUFBSSxDQUFDLEdBQUdDLE1BQU0sQ0FBQ1g7QUFDekM7QUFDQSxTQUFTSSxRQUFRSixHQUFHO0lBQ2hCLElBQUlZLFFBQVFaLElBQUlhLEtBQUssQ0FBQyxLQUFLQyxLQUFLLENBQUMsQ0FBQztJQUNsQyxPQUFPLFNBQVNILE1BQU0sQ0FBQ0MsS0FBSyxDQUFDLEVBQUUsRUFBRUcsT0FBTyxDQUFDLGVBQWU7QUFDNUQ7QUFDQSwwQ0FBMEM7QUFDMUMsU0FBU1AsY0FBY04sS0FBSztJQUN4QixJQUFJQSxNQUFNSSxJQUFJLElBQUlKLE1BQU1LLE9BQU8sRUFBRTtRQUM3QixPQUFPTDtJQUNYO0lBQ0EsdURBQXVEO0lBQ3ZELElBQUljLFNBQVN6QyxTQUFTLENBQUMsR0FBRzJCO0lBQzFCLElBQUksQ0FBQ2MsT0FBT1YsSUFBSSxFQUFFO1FBQ2RVLE9BQU9WLElBQUksR0FBRztZQUNWVyxNQUFNO1lBQ05DLEtBQUs7WUFDTEMsUUFBUTtZQUNSQyxPQUFPO1FBQ1g7SUFDSjtJQUNBLElBQUksQ0FBQ0osT0FBT1QsT0FBTyxFQUFFO1FBQ2pCUyxPQUFPVCxPQUFPLEdBQUc7WUFDYmMsR0FBRztZQUNIQyxHQUFHO1lBQ0hDLFFBQVE7WUFDUkMsT0FBTztRQUNYO0lBQ0o7SUFDQSxPQUFPUjtBQUNYLEVBQ0EsdUNBQXVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWRtaXNzaW9uLXVwbGlmdC8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2ltYWdlLXVybC9saWIvbm9kZS9wYXJzZVNvdXJjZS5qcz8yZGM3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBpc1JlZiA9IGZ1bmN0aW9uIChzcmMpIHtcbiAgICB2YXIgc291cmNlID0gc3JjO1xuICAgIHJldHVybiBzb3VyY2UgPyB0eXBlb2Ygc291cmNlLl9yZWYgPT09ICdzdHJpbmcnIDogZmFsc2U7XG59O1xudmFyIGlzQXNzZXQgPSBmdW5jdGlvbiAoc3JjKSB7XG4gICAgdmFyIHNvdXJjZSA9IHNyYztcbiAgICByZXR1cm4gc291cmNlID8gdHlwZW9mIHNvdXJjZS5faWQgPT09ICdzdHJpbmcnIDogZmFsc2U7XG59O1xudmFyIGlzQXNzZXRTdHViID0gZnVuY3Rpb24gKHNyYykge1xuICAgIHZhciBzb3VyY2UgPSBzcmM7XG4gICAgcmV0dXJuIHNvdXJjZSAmJiBzb3VyY2UuYXNzZXQgPyB0eXBlb2Ygc291cmNlLmFzc2V0LnVybCA9PT0gJ3N0cmluZycgOiBmYWxzZTtcbn07XG4vLyBDb252ZXJ0IGFuIGFzc2V0LWlkLCBhc3NldCBvciBpbWFnZSB0byBhbiBpbWFnZSByZWNvcmQgc3VpdGFibGUgZm9yIHByb2Nlc3Npbmdcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiBwYXJzZVNvdXJjZShzb3VyY2UpIHtcbiAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGltYWdlO1xuICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJyAmJiBpc1VybChzb3VyY2UpKSB7XG4gICAgICAgIC8vIFNvbWVvbmUgcGFzc2VkIGFuIGV4aXN0aW5nIGltYWdlIHVybD9cbiAgICAgICAgaW1hZ2UgPSB7XG4gICAgICAgICAgICBhc3NldDogeyBfcmVmOiB1cmxUb0lkKHNvdXJjZSkgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gSnVzdCBhbiBhc3NldCBpZFxuICAgICAgICBpbWFnZSA9IHtcbiAgICAgICAgICAgIGFzc2V0OiB7IF9yZWY6IHNvdXJjZSB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1JlZihzb3VyY2UpKSB7XG4gICAgICAgIC8vIFdlIGp1c3QgZ290IHBhc3NlZCBhbiBhc3NldCBkaXJlY3RseVxuICAgICAgICBpbWFnZSA9IHtcbiAgICAgICAgICAgIGFzc2V0OiBzb3VyY2UsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXNzZXQoc291cmNlKSkge1xuICAgICAgICAvLyBJZiB3ZSB3ZXJlIHBhc3NlZCBhbiBpbWFnZSBhc3NldCBkb2N1bWVudFxuICAgICAgICBpbWFnZSA9IHtcbiAgICAgICAgICAgIGFzc2V0OiB7XG4gICAgICAgICAgICAgICAgX3JlZjogc291cmNlLl9pZCB8fCAnJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXNzZXRTdHViKHNvdXJjZSkpIHtcbiAgICAgICAgLy8gSWYgd2Ugd2VyZSBwYXNzZWQgYSBwYXJ0aWFsIGFzc2V0IChgdXJsYCwgYnV0IG5vIGBfaWRgKVxuICAgICAgICBpbWFnZSA9IHtcbiAgICAgICAgICAgIGFzc2V0OiB7XG4gICAgICAgICAgICAgICAgX3JlZjogdXJsVG9JZChzb3VyY2UuYXNzZXQudXJsKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBzb3VyY2UuYXNzZXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIFByb2JhYmx5IGFuIGFjdHVhbCBpbWFnZSB3aXRoIG1hdGVyaWFsaXplZCBhc3NldFxuICAgICAgICBpbWFnZSA9IF9fYXNzaWduKHt9LCBzb3VyY2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gV2UgZ290IHNvbWV0aGluZyB0aGF0IGRvZXMgbm90IGxvb2sgbGlrZSBhbiBpbWFnZSwgb3IgaXQgaXMgYW4gaW1hZ2VcbiAgICAgICAgLy8gdGhhdCBjdXJyZW50bHkgaXNuJ3Qgc3BvcnRpbmcgYW4gYXNzZXQuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgaW1nID0gc291cmNlO1xuICAgIGlmIChpbWcuY3JvcCkge1xuICAgICAgICBpbWFnZS5jcm9wID0gaW1nLmNyb3A7XG4gICAgfVxuICAgIGlmIChpbWcuaG90c3BvdCkge1xuICAgICAgICBpbWFnZS5ob3RzcG90ID0gaW1nLmhvdHNwb3Q7XG4gICAgfVxuICAgIHJldHVybiBhcHBseURlZmF1bHRzKGltYWdlKTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHBhcnNlU291cmNlO1xuZnVuY3Rpb24gaXNVcmwodXJsKSB7XG4gICAgcmV0dXJuIC9eaHR0cHM/OlxcL1xcLy8udGVzdChcIlwiLmNvbmNhdCh1cmwpKTtcbn1cbmZ1bmN0aW9uIHVybFRvSWQodXJsKSB7XG4gICAgdmFyIHBhcnRzID0gdXJsLnNwbGl0KCcvJykuc2xpY2UoLTEpO1xuICAgIHJldHVybiBcImltYWdlLVwiLmNvbmNhdChwYXJ0c1swXSkucmVwbGFjZSgvXFwuKFthLXpdKykkLywgJy0kMScpO1xufVxuLy8gTW9jayBjcm9wIGFuZCBob3RzcG90IGlmIGltYWdlIGxhY2tzIGl0XG5mdW5jdGlvbiBhcHBseURlZmF1bHRzKGltYWdlKSB7XG4gICAgaWYgKGltYWdlLmNyb3AgJiYgaW1hZ2UuaG90c3BvdCkge1xuICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgfVxuICAgIC8vIFdlIG5lZWQgdG8gcGFkIGluIGRlZmF1bHQgdmFsdWVzIGZvciBjcm9wIG9yIGhvdHNwb3RcbiAgICB2YXIgcmVzdWx0ID0gX19hc3NpZ24oe30sIGltYWdlKTtcbiAgICBpZiAoIXJlc3VsdC5jcm9wKSB7XG4gICAgICAgIHJlc3VsdC5jcm9wID0ge1xuICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoIXJlc3VsdC5ob3RzcG90KSB7XG4gICAgICAgIHJlc3VsdC5ob3RzcG90ID0ge1xuICAgICAgICAgICAgeDogMC41LFxuICAgICAgICAgICAgeTogMC41LFxuICAgICAgICAgICAgaGVpZ2h0OiAxLjAsXG4gICAgICAgICAgICB3aWR0aDogMS4wLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VTb3VyY2UuanMubWFwIl0sIm5hbWVzIjpbIl9fYXNzaWduIiwiT2JqZWN0IiwiYXNzaWduIiwidCIsInMiLCJpIiwibiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhcHBseSIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiaXNSZWYiLCJzcmMiLCJzb3VyY2UiLCJfcmVmIiwiaXNBc3NldCIsIl9pZCIsImlzQXNzZXRTdHViIiwiYXNzZXQiLCJ1cmwiLCJwYXJzZVNvdXJjZSIsImltYWdlIiwiaXNVcmwiLCJ1cmxUb0lkIiwiaW1nIiwiY3JvcCIsImhvdHNwb3QiLCJhcHBseURlZmF1bHRzIiwiZGVmYXVsdCIsInRlc3QiLCJjb25jYXQiLCJwYXJ0cyIsInNwbGl0Iiwic2xpY2UiLCJyZXBsYWNlIiwicmVzdWx0IiwibGVmdCIsInRvcCIsImJvdHRvbSIsInJpZ2h0IiwieCIsInkiLCJoZWlnaHQiLCJ3aWR0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/image-url/lib/node/parseSource.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/image-url/lib/node/urlForImage.js":
/*!****************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/urlForImage.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __assign = this && this.__assign || function() {\n    __assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = this && this.__importDefault || function(mod) {\n    return mod && mod.__esModule ? mod : {\n        \"default\": mod\n    };\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.parseSource = exports.SPEC_NAME_TO_URL_NAME_MAPPINGS = void 0;\nvar parseAssetId_1 = __importDefault(__webpack_require__(/*! ./parseAssetId */ \"(rsc)/./node_modules/@sanity/image-url/lib/node/parseAssetId.js\"));\nvar parseSource_1 = __importDefault(__webpack_require__(/*! ./parseSource */ \"(rsc)/./node_modules/@sanity/image-url/lib/node/parseSource.js\"));\nexports.parseSource = parseSource_1.default;\nexports.SPEC_NAME_TO_URL_NAME_MAPPINGS = [\n    [\n        \"width\",\n        \"w\"\n    ],\n    [\n        \"height\",\n        \"h\"\n    ],\n    [\n        \"format\",\n        \"fm\"\n    ],\n    [\n        \"download\",\n        \"dl\"\n    ],\n    [\n        \"blur\",\n        \"blur\"\n    ],\n    [\n        \"sharpen\",\n        \"sharp\"\n    ],\n    [\n        \"invert\",\n        \"invert\"\n    ],\n    [\n        \"orientation\",\n        \"or\"\n    ],\n    [\n        \"minHeight\",\n        \"min-h\"\n    ],\n    [\n        \"maxHeight\",\n        \"max-h\"\n    ],\n    [\n        \"minWidth\",\n        \"min-w\"\n    ],\n    [\n        \"maxWidth\",\n        \"max-w\"\n    ],\n    [\n        \"quality\",\n        \"q\"\n    ],\n    [\n        \"fit\",\n        \"fit\"\n    ],\n    [\n        \"crop\",\n        \"crop\"\n    ],\n    [\n        \"saturation\",\n        \"sat\"\n    ],\n    [\n        \"auto\",\n        \"auto\"\n    ],\n    [\n        \"dpr\",\n        \"dpr\"\n    ],\n    [\n        \"pad\",\n        \"pad\"\n    ],\n    [\n        \"frame\",\n        \"frame\"\n    ]\n];\nfunction urlForImage(options) {\n    var spec = __assign({}, options || {});\n    var source = spec.source;\n    delete spec.source;\n    var image = (0, parseSource_1.default)(source);\n    if (!image) {\n        throw new Error(\"Unable to resolve image URL from source (\".concat(JSON.stringify(source), \")\"));\n    }\n    var id = image.asset._ref || image.asset._id || \"\";\n    var asset = (0, parseAssetId_1.default)(id);\n    // Compute crop rect in terms of pixel coordinates in the raw source image\n    var cropLeft = Math.round(image.crop.left * asset.width);\n    var cropTop = Math.round(image.crop.top * asset.height);\n    var crop = {\n        left: cropLeft,\n        top: cropTop,\n        width: Math.round(asset.width - image.crop.right * asset.width - cropLeft),\n        height: Math.round(asset.height - image.crop.bottom * asset.height - cropTop)\n    };\n    // Compute hot spot rect in terms of pixel coordinates\n    var hotSpotVerticalRadius = image.hotspot.height * asset.height / 2;\n    var hotSpotHorizontalRadius = image.hotspot.width * asset.width / 2;\n    var hotSpotCenterX = image.hotspot.x * asset.width;\n    var hotSpotCenterY = image.hotspot.y * asset.height;\n    var hotspot = {\n        left: hotSpotCenterX - hotSpotHorizontalRadius,\n        top: hotSpotCenterY - hotSpotVerticalRadius,\n        right: hotSpotCenterX + hotSpotHorizontalRadius,\n        bottom: hotSpotCenterY + hotSpotVerticalRadius\n    };\n    // If irrelevant, or if we are requested to: don't perform crop/fit based on\n    // the crop/hotspot.\n    if (!(spec.rect || spec.focalPoint || spec.ignoreImageParams || spec.crop)) {\n        spec = __assign(__assign({}, spec), fit({\n            crop: crop,\n            hotspot: hotspot\n        }, spec));\n    }\n    return specToImageUrl(__assign(__assign({}, spec), {\n        asset: asset\n    }));\n}\nexports[\"default\"] = urlForImage;\n// eslint-disable-next-line complexity\nfunction specToImageUrl(spec) {\n    var cdnUrl = (spec.baseUrl || \"https://cdn.sanity.io\").replace(/\\/+$/, \"\");\n    var vanityStub = spec.vanityName ? \"/\".concat(spec.vanityName) : \"\";\n    var filename = \"\".concat(spec.asset.id, \"-\").concat(spec.asset.width, \"x\").concat(spec.asset.height, \".\").concat(spec.asset.format).concat(vanityStub);\n    var baseUrl = \"\".concat(cdnUrl, \"/images/\").concat(spec.projectId, \"/\").concat(spec.dataset, \"/\").concat(filename);\n    var params = [];\n    if (spec.rect) {\n        // Only bother url with a crop if it actually crops anything\n        var _a = spec.rect, left = _a.left, top_1 = _a.top, width = _a.width, height = _a.height;\n        var isEffectiveCrop = left !== 0 || top_1 !== 0 || height !== spec.asset.height || width !== spec.asset.width;\n        if (isEffectiveCrop) {\n            params.push(\"rect=\".concat(left, \",\").concat(top_1, \",\").concat(width, \",\").concat(height));\n        }\n    }\n    if (spec.bg) {\n        params.push(\"bg=\".concat(spec.bg));\n    }\n    if (spec.focalPoint) {\n        params.push(\"fp-x=\".concat(spec.focalPoint.x));\n        params.push(\"fp-y=\".concat(spec.focalPoint.y));\n    }\n    var flip = [\n        spec.flipHorizontal && \"h\",\n        spec.flipVertical && \"v\"\n    ].filter(Boolean).join(\"\");\n    if (flip) {\n        params.push(\"flip=\".concat(flip));\n    }\n    // Map from spec name to url param name, and allow using the actual param name as an alternative\n    exports.SPEC_NAME_TO_URL_NAME_MAPPINGS.forEach(function(mapping) {\n        var specName = mapping[0], param = mapping[1];\n        if (typeof spec[specName] !== \"undefined\") {\n            params.push(\"\".concat(param, \"=\").concat(encodeURIComponent(spec[specName])));\n        } else if (typeof spec[param] !== \"undefined\") {\n            params.push(\"\".concat(param, \"=\").concat(encodeURIComponent(spec[param])));\n        }\n    });\n    if (params.length === 0) {\n        return baseUrl;\n    }\n    return \"\".concat(baseUrl, \"?\").concat(params.join(\"&\"));\n}\nfunction fit(source, spec) {\n    var cropRect;\n    var imgWidth = spec.width;\n    var imgHeight = spec.height;\n    // If we are not constraining the aspect ratio, we'll just use the whole crop\n    if (!(imgWidth && imgHeight)) {\n        return {\n            width: imgWidth,\n            height: imgHeight,\n            rect: source.crop\n        };\n    }\n    var crop = source.crop;\n    var hotspot = source.hotspot;\n    // If we are here, that means aspect ratio is locked and fitting will be a bit harder\n    var desiredAspectRatio = imgWidth / imgHeight;\n    var cropAspectRatio = crop.width / crop.height;\n    if (cropAspectRatio > desiredAspectRatio) {\n        // The crop is wider than the desired aspect ratio. That means we are cutting from the sides\n        var height = Math.round(crop.height);\n        var width = Math.round(height * desiredAspectRatio);\n        var top_2 = Math.max(0, Math.round(crop.top));\n        // Center output horizontally over hotspot\n        var hotspotXCenter = Math.round((hotspot.right - hotspot.left) / 2 + hotspot.left);\n        var left = Math.max(0, Math.round(hotspotXCenter - width / 2));\n        // Keep output within crop\n        if (left < crop.left) {\n            left = crop.left;\n        } else if (left + width > crop.left + crop.width) {\n            left = crop.left + crop.width - width;\n        }\n        cropRect = {\n            left: left,\n            top: top_2,\n            width: width,\n            height: height\n        };\n    } else {\n        // The crop is taller than the desired ratio, we are cutting from top and bottom\n        var width = crop.width;\n        var height = Math.round(width / desiredAspectRatio);\n        var left = Math.max(0, Math.round(crop.left));\n        // Center output vertically over hotspot\n        var hotspotYCenter = Math.round((hotspot.bottom - hotspot.top) / 2 + hotspot.top);\n        var top_3 = Math.max(0, Math.round(hotspotYCenter - height / 2));\n        // Keep output rect within crop\n        if (top_3 < crop.top) {\n            top_3 = crop.top;\n        } else if (top_3 + height > crop.top + crop.height) {\n            top_3 = crop.top + crop.height - height;\n        }\n        cropRect = {\n            left: left,\n            top: top_3,\n            width: width,\n            height: height\n        };\n    }\n    return {\n        width: imgWidth,\n        height: imgHeight,\n        rect: cropRect\n    };\n} //# sourceMappingURL=urlForImage.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvdXJsRm9ySW1hZ2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxXQUFXLElBQUssSUFBSSxJQUFJLENBQUNBLFFBQVEsSUFBSztJQUN0Q0EsV0FBV0MsT0FBT0MsTUFBTSxJQUFJLFNBQVNDLENBQUM7UUFDbEMsSUFBSyxJQUFJQyxHQUFHQyxJQUFJLEdBQUdDLElBQUlDLFVBQVVDLE1BQU0sRUFBRUgsSUFBSUMsR0FBR0QsSUFBSztZQUNqREQsSUFBSUcsU0FBUyxDQUFDRixFQUFFO1lBQ2hCLElBQUssSUFBSUksS0FBS0wsRUFBRyxJQUFJSCxPQUFPUyxTQUFTLENBQUNDLGNBQWMsQ0FBQ0MsSUFBSSxDQUFDUixHQUFHSyxJQUN6RE4sQ0FBQyxDQUFDTSxFQUFFLEdBQUdMLENBQUMsQ0FBQ0ssRUFBRTtRQUNuQjtRQUNBLE9BQU9OO0lBQ1g7SUFDQSxPQUFPSCxTQUFTYSxLQUFLLENBQUMsSUFBSSxFQUFFTjtBQUNoQztBQUNBLElBQUlPLGtCQUFrQixJQUFLLElBQUksSUFBSSxDQUFDQSxlQUFlLElBQUssU0FBVUMsR0FBRztJQUNqRSxPQUFPLE9BQVFBLElBQUlDLFVBQVUsR0FBSUQsTUFBTTtRQUFFLFdBQVdBO0lBQUk7QUFDNUQ7QUFDQWQsOENBQTZDO0lBQUVrQixPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdERCxtQkFBbUIsR0FBR0Esc0NBQXNDLEdBQUcsS0FBSztBQUNwRSxJQUFJSSxpQkFBaUJSLGdCQUFnQlMsbUJBQU9BLENBQUMsdUZBQWdCO0FBQzdELElBQUlDLGdCQUFnQlYsZ0JBQWdCUyxtQkFBT0EsQ0FBQyxxRkFBZTtBQUMzREwsbUJBQW1CLEdBQUdNLGNBQWNDLE9BQU87QUFDM0NQLHNDQUFzQyxHQUFHO0lBQ3JDO1FBQUM7UUFBUztLQUFJO0lBQ2Q7UUFBQztRQUFVO0tBQUk7SUFDZjtRQUFDO1FBQVU7S0FBSztJQUNoQjtRQUFDO1FBQVk7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QSx1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZG1pc3Npb24tdXBsaWZ0Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvaW1hZ2UtdXJsL2xpYi9ub2RlL3VybEZvckltYWdlLmpzP2E1NWMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZVNvdXJjZSA9IGV4cG9ydHMuU1BFQ19OQU1FX1RPX1VSTF9OQU1FX01BUFBJTkdTID0gdm9pZCAwO1xudmFyIHBhcnNlQXNzZXRJZF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3BhcnNlQXNzZXRJZFwiKSk7XG52YXIgcGFyc2VTb3VyY2VfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9wYXJzZVNvdXJjZVwiKSk7XG5leHBvcnRzLnBhcnNlU291cmNlID0gcGFyc2VTb3VyY2VfMS5kZWZhdWx0O1xuZXhwb3J0cy5TUEVDX05BTUVfVE9fVVJMX05BTUVfTUFQUElOR1MgPSBbXG4gICAgWyd3aWR0aCcsICd3J10sXG4gICAgWydoZWlnaHQnLCAnaCddLFxuICAgIFsnZm9ybWF0JywgJ2ZtJ10sXG4gICAgWydkb3dubG9hZCcsICdkbCddLFxuICAgIFsnYmx1cicsICdibHVyJ10sXG4gICAgWydzaGFycGVuJywgJ3NoYXJwJ10sXG4gICAgWydpbnZlcnQnLCAnaW52ZXJ0J10sXG4gICAgWydvcmllbnRhdGlvbicsICdvciddLFxuICAgIFsnbWluSGVpZ2h0JywgJ21pbi1oJ10sXG4gICAgWydtYXhIZWlnaHQnLCAnbWF4LWgnXSxcbiAgICBbJ21pbldpZHRoJywgJ21pbi13J10sXG4gICAgWydtYXhXaWR0aCcsICdtYXgtdyddLFxuICAgIFsncXVhbGl0eScsICdxJ10sXG4gICAgWydmaXQnLCAnZml0J10sXG4gICAgWydjcm9wJywgJ2Nyb3AnXSxcbiAgICBbJ3NhdHVyYXRpb24nLCAnc2F0J10sXG4gICAgWydhdXRvJywgJ2F1dG8nXSxcbiAgICBbJ2RwcicsICdkcHInXSxcbiAgICBbJ3BhZCcsICdwYWQnXSxcbiAgICBbJ2ZyYW1lJywgJ2ZyYW1lJ11cbl07XG5mdW5jdGlvbiB1cmxGb3JJbWFnZShvcHRpb25zKSB7XG4gICAgdmFyIHNwZWMgPSBfX2Fzc2lnbih7fSwgKG9wdGlvbnMgfHwge30pKTtcbiAgICB2YXIgc291cmNlID0gc3BlYy5zb3VyY2U7XG4gICAgZGVsZXRlIHNwZWMuc291cmNlO1xuICAgIHZhciBpbWFnZSA9ICgwLCBwYXJzZVNvdXJjZV8xLmRlZmF1bHQpKHNvdXJjZSk7XG4gICAgaWYgKCFpbWFnZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gcmVzb2x2ZSBpbWFnZSBVUkwgZnJvbSBzb3VyY2UgKFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShzb3VyY2UpLCBcIilcIikpO1xuICAgIH1cbiAgICB2YXIgaWQgPSBpbWFnZS5hc3NldC5fcmVmIHx8IGltYWdlLmFzc2V0Ll9pZCB8fCAnJztcbiAgICB2YXIgYXNzZXQgPSAoMCwgcGFyc2VBc3NldElkXzEuZGVmYXVsdCkoaWQpO1xuICAgIC8vIENvbXB1dGUgY3JvcCByZWN0IGluIHRlcm1zIG9mIHBpeGVsIGNvb3JkaW5hdGVzIGluIHRoZSByYXcgc291cmNlIGltYWdlXG4gICAgdmFyIGNyb3BMZWZ0ID0gTWF0aC5yb3VuZChpbWFnZS5jcm9wLmxlZnQgKiBhc3NldC53aWR0aCk7XG4gICAgdmFyIGNyb3BUb3AgPSBNYXRoLnJvdW5kKGltYWdlLmNyb3AudG9wICogYXNzZXQuaGVpZ2h0KTtcbiAgICB2YXIgY3JvcCA9IHtcbiAgICAgICAgbGVmdDogY3JvcExlZnQsXG4gICAgICAgIHRvcDogY3JvcFRvcCxcbiAgICAgICAgd2lkdGg6IE1hdGgucm91bmQoYXNzZXQud2lkdGggLSBpbWFnZS5jcm9wLnJpZ2h0ICogYXNzZXQud2lkdGggLSBjcm9wTGVmdCksXG4gICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChhc3NldC5oZWlnaHQgLSBpbWFnZS5jcm9wLmJvdHRvbSAqIGFzc2V0LmhlaWdodCAtIGNyb3BUb3ApLFxuICAgIH07XG4gICAgLy8gQ29tcHV0ZSBob3Qgc3BvdCByZWN0IGluIHRlcm1zIG9mIHBpeGVsIGNvb3JkaW5hdGVzXG4gICAgdmFyIGhvdFNwb3RWZXJ0aWNhbFJhZGl1cyA9IChpbWFnZS5ob3RzcG90LmhlaWdodCAqIGFzc2V0LmhlaWdodCkgLyAyO1xuICAgIHZhciBob3RTcG90SG9yaXpvbnRhbFJhZGl1cyA9IChpbWFnZS5ob3RzcG90LndpZHRoICogYXNzZXQud2lkdGgpIC8gMjtcbiAgICB2YXIgaG90U3BvdENlbnRlclggPSBpbWFnZS5ob3RzcG90LnggKiBhc3NldC53aWR0aDtcbiAgICB2YXIgaG90U3BvdENlbnRlclkgPSBpbWFnZS5ob3RzcG90LnkgKiBhc3NldC5oZWlnaHQ7XG4gICAgdmFyIGhvdHNwb3QgPSB7XG4gICAgICAgIGxlZnQ6IGhvdFNwb3RDZW50ZXJYIC0gaG90U3BvdEhvcml6b250YWxSYWRpdXMsXG4gICAgICAgIHRvcDogaG90U3BvdENlbnRlclkgLSBob3RTcG90VmVydGljYWxSYWRpdXMsXG4gICAgICAgIHJpZ2h0OiBob3RTcG90Q2VudGVyWCArIGhvdFNwb3RIb3Jpem9udGFsUmFkaXVzLFxuICAgICAgICBib3R0b206IGhvdFNwb3RDZW50ZXJZICsgaG90U3BvdFZlcnRpY2FsUmFkaXVzLFxuICAgIH07XG4gICAgLy8gSWYgaXJyZWxldmFudCwgb3IgaWYgd2UgYXJlIHJlcXVlc3RlZCB0bzogZG9uJ3QgcGVyZm9ybSBjcm9wL2ZpdCBiYXNlZCBvblxuICAgIC8vIHRoZSBjcm9wL2hvdHNwb3QuXG4gICAgaWYgKCEoc3BlYy5yZWN0IHx8IHNwZWMuZm9jYWxQb2ludCB8fCBzcGVjLmlnbm9yZUltYWdlUGFyYW1zIHx8IHNwZWMuY3JvcCkpIHtcbiAgICAgICAgc3BlYyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBzcGVjKSwgZml0KHsgY3JvcDogY3JvcCwgaG90c3BvdDogaG90c3BvdCB9LCBzcGVjKSk7XG4gICAgfVxuICAgIHJldHVybiBzcGVjVG9JbWFnZVVybChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc3BlYyksIHsgYXNzZXQ6IGFzc2V0IH0pKTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHVybEZvckltYWdlO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHNwZWNUb0ltYWdlVXJsKHNwZWMpIHtcbiAgICB2YXIgY2RuVXJsID0gKHNwZWMuYmFzZVVybCB8fCAnaHR0cHM6Ly9jZG4uc2FuaXR5LmlvJykucmVwbGFjZSgvXFwvKyQvLCAnJyk7XG4gICAgdmFyIHZhbml0eVN0dWIgPSBzcGVjLnZhbml0eU5hbWUgPyBcIi9cIi5jb25jYXQoc3BlYy52YW5pdHlOYW1lKSA6ICcnO1xuICAgIHZhciBmaWxlbmFtZSA9IFwiXCIuY29uY2F0KHNwZWMuYXNzZXQuaWQsIFwiLVwiKS5jb25jYXQoc3BlYy5hc3NldC53aWR0aCwgXCJ4XCIpLmNvbmNhdChzcGVjLmFzc2V0LmhlaWdodCwgXCIuXCIpLmNvbmNhdChzcGVjLmFzc2V0LmZvcm1hdCkuY29uY2F0KHZhbml0eVN0dWIpO1xuICAgIHZhciBiYXNlVXJsID0gXCJcIi5jb25jYXQoY2RuVXJsLCBcIi9pbWFnZXMvXCIpLmNvbmNhdChzcGVjLnByb2plY3RJZCwgXCIvXCIpLmNvbmNhdChzcGVjLmRhdGFzZXQsIFwiL1wiKS5jb25jYXQoZmlsZW5hbWUpO1xuICAgIHZhciBwYXJhbXMgPSBbXTtcbiAgICBpZiAoc3BlYy5yZWN0KSB7XG4gICAgICAgIC8vIE9ubHkgYm90aGVyIHVybCB3aXRoIGEgY3JvcCBpZiBpdCBhY3R1YWxseSBjcm9wcyBhbnl0aGluZ1xuICAgICAgICB2YXIgX2EgPSBzcGVjLnJlY3QsIGxlZnQgPSBfYS5sZWZ0LCB0b3BfMSA9IF9hLnRvcCwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICB2YXIgaXNFZmZlY3RpdmVDcm9wID0gbGVmdCAhPT0gMCB8fCB0b3BfMSAhPT0gMCB8fCBoZWlnaHQgIT09IHNwZWMuYXNzZXQuaGVpZ2h0IHx8IHdpZHRoICE9PSBzcGVjLmFzc2V0LndpZHRoO1xuICAgICAgICBpZiAoaXNFZmZlY3RpdmVDcm9wKSB7XG4gICAgICAgICAgICBwYXJhbXMucHVzaChcInJlY3Q9XCIuY29uY2F0KGxlZnQsIFwiLFwiKS5jb25jYXQodG9wXzEsIFwiLFwiKS5jb25jYXQod2lkdGgsIFwiLFwiKS5jb25jYXQoaGVpZ2h0KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNwZWMuYmcpIHtcbiAgICAgICAgcGFyYW1zLnB1c2goXCJiZz1cIi5jb25jYXQoc3BlYy5iZykpO1xuICAgIH1cbiAgICBpZiAoc3BlYy5mb2NhbFBvaW50KSB7XG4gICAgICAgIHBhcmFtcy5wdXNoKFwiZnAteD1cIi5jb25jYXQoc3BlYy5mb2NhbFBvaW50LngpKTtcbiAgICAgICAgcGFyYW1zLnB1c2goXCJmcC15PVwiLmNvbmNhdChzcGVjLmZvY2FsUG9pbnQueSkpO1xuICAgIH1cbiAgICB2YXIgZmxpcCA9IFtzcGVjLmZsaXBIb3Jpem9udGFsICYmICdoJywgc3BlYy5mbGlwVmVydGljYWwgJiYgJ3YnXS5maWx0ZXIoQm9vbGVhbikuam9pbignJyk7XG4gICAgaWYgKGZsaXApIHtcbiAgICAgICAgcGFyYW1zLnB1c2goXCJmbGlwPVwiLmNvbmNhdChmbGlwKSk7XG4gICAgfVxuICAgIC8vIE1hcCBmcm9tIHNwZWMgbmFtZSB0byB1cmwgcGFyYW0gbmFtZSwgYW5kIGFsbG93IHVzaW5nIHRoZSBhY3R1YWwgcGFyYW0gbmFtZSBhcyBhbiBhbHRlcm5hdGl2ZVxuICAgIGV4cG9ydHMuU1BFQ19OQU1FX1RPX1VSTF9OQU1FX01BUFBJTkdTLmZvckVhY2goZnVuY3Rpb24gKG1hcHBpbmcpIHtcbiAgICAgICAgdmFyIHNwZWNOYW1lID0gbWFwcGluZ1swXSwgcGFyYW0gPSBtYXBwaW5nWzFdO1xuICAgICAgICBpZiAodHlwZW9mIHNwZWNbc3BlY05hbWVdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcGFyYW1zLnB1c2goXCJcIi5jb25jYXQocGFyYW0sIFwiPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHNwZWNbc3BlY05hbWVdKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBzcGVjW3BhcmFtXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKFwiXCIuY29uY2F0KHBhcmFtLCBcIj1cIikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChzcGVjW3BhcmFtXSkpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChwYXJhbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBiYXNlVXJsO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIi5jb25jYXQoYmFzZVVybCwgXCI/XCIpLmNvbmNhdChwYXJhbXMuam9pbignJicpKTtcbn1cbmZ1bmN0aW9uIGZpdChzb3VyY2UsIHNwZWMpIHtcbiAgICB2YXIgY3JvcFJlY3Q7XG4gICAgdmFyIGltZ1dpZHRoID0gc3BlYy53aWR0aDtcbiAgICB2YXIgaW1nSGVpZ2h0ID0gc3BlYy5oZWlnaHQ7XG4gICAgLy8gSWYgd2UgYXJlIG5vdCBjb25zdHJhaW5pbmcgdGhlIGFzcGVjdCByYXRpbywgd2UnbGwganVzdCB1c2UgdGhlIHdob2xlIGNyb3BcbiAgICBpZiAoIShpbWdXaWR0aCAmJiBpbWdIZWlnaHQpKSB7XG4gICAgICAgIHJldHVybiB7IHdpZHRoOiBpbWdXaWR0aCwgaGVpZ2h0OiBpbWdIZWlnaHQsIHJlY3Q6IHNvdXJjZS5jcm9wIH07XG4gICAgfVxuICAgIHZhciBjcm9wID0gc291cmNlLmNyb3A7XG4gICAgdmFyIGhvdHNwb3QgPSBzb3VyY2UuaG90c3BvdDtcbiAgICAvLyBJZiB3ZSBhcmUgaGVyZSwgdGhhdCBtZWFucyBhc3BlY3QgcmF0aW8gaXMgbG9ja2VkIGFuZCBmaXR0aW5nIHdpbGwgYmUgYSBiaXQgaGFyZGVyXG4gICAgdmFyIGRlc2lyZWRBc3BlY3RSYXRpbyA9IGltZ1dpZHRoIC8gaW1nSGVpZ2h0O1xuICAgIHZhciBjcm9wQXNwZWN0UmF0aW8gPSBjcm9wLndpZHRoIC8gY3JvcC5oZWlnaHQ7XG4gICAgaWYgKGNyb3BBc3BlY3RSYXRpbyA+IGRlc2lyZWRBc3BlY3RSYXRpbykge1xuICAgICAgICAvLyBUaGUgY3JvcCBpcyB3aWRlciB0aGFuIHRoZSBkZXNpcmVkIGFzcGVjdCByYXRpby4gVGhhdCBtZWFucyB3ZSBhcmUgY3V0dGluZyBmcm9tIHRoZSBzaWRlc1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5yb3VuZChjcm9wLmhlaWdodCk7XG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGgucm91bmQoaGVpZ2h0ICogZGVzaXJlZEFzcGVjdFJhdGlvKTtcbiAgICAgICAgdmFyIHRvcF8yID0gTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChjcm9wLnRvcCkpO1xuICAgICAgICAvLyBDZW50ZXIgb3V0cHV0IGhvcml6b250YWxseSBvdmVyIGhvdHNwb3RcbiAgICAgICAgdmFyIGhvdHNwb3RYQ2VudGVyID0gTWF0aC5yb3VuZCgoaG90c3BvdC5yaWdodCAtIGhvdHNwb3QubGVmdCkgLyAyICsgaG90c3BvdC5sZWZ0KTtcbiAgICAgICAgdmFyIGxlZnQgPSBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKGhvdHNwb3RYQ2VudGVyIC0gd2lkdGggLyAyKSk7XG4gICAgICAgIC8vIEtlZXAgb3V0cHV0IHdpdGhpbiBjcm9wXG4gICAgICAgIGlmIChsZWZ0IDwgY3JvcC5sZWZ0KSB7XG4gICAgICAgICAgICBsZWZ0ID0gY3JvcC5sZWZ0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxlZnQgKyB3aWR0aCA+IGNyb3AubGVmdCArIGNyb3Aud2lkdGgpIHtcbiAgICAgICAgICAgIGxlZnQgPSBjcm9wLmxlZnQgKyBjcm9wLndpZHRoIC0gd2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgY3JvcFJlY3QgPSB7IGxlZnQ6IGxlZnQsIHRvcDogdG9wXzIsIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFRoZSBjcm9wIGlzIHRhbGxlciB0aGFuIHRoZSBkZXNpcmVkIHJhdGlvLCB3ZSBhcmUgY3V0dGluZyBmcm9tIHRvcCBhbmQgYm90dG9tXG4gICAgICAgIHZhciB3aWR0aCA9IGNyb3Aud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLnJvdW5kKHdpZHRoIC8gZGVzaXJlZEFzcGVjdFJhdGlvKTtcbiAgICAgICAgdmFyIGxlZnQgPSBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKGNyb3AubGVmdCkpO1xuICAgICAgICAvLyBDZW50ZXIgb3V0cHV0IHZlcnRpY2FsbHkgb3ZlciBob3RzcG90XG4gICAgICAgIHZhciBob3RzcG90WUNlbnRlciA9IE1hdGgucm91bmQoKGhvdHNwb3QuYm90dG9tIC0gaG90c3BvdC50b3ApIC8gMiArIGhvdHNwb3QudG9wKTtcbiAgICAgICAgdmFyIHRvcF8zID0gTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChob3RzcG90WUNlbnRlciAtIGhlaWdodCAvIDIpKTtcbiAgICAgICAgLy8gS2VlcCBvdXRwdXQgcmVjdCB3aXRoaW4gY3JvcFxuICAgICAgICBpZiAodG9wXzMgPCBjcm9wLnRvcCkge1xuICAgICAgICAgICAgdG9wXzMgPSBjcm9wLnRvcDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0b3BfMyArIGhlaWdodCA+IGNyb3AudG9wICsgY3JvcC5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRvcF8zID0gY3JvcC50b3AgKyBjcm9wLmhlaWdodCAtIGhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBjcm9wUmVjdCA9IHsgbGVmdDogbGVmdCwgdG9wOiB0b3BfMywgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aDogaW1nV2lkdGgsXG4gICAgICAgIGhlaWdodDogaW1nSGVpZ2h0LFxuICAgICAgICByZWN0OiBjcm9wUmVjdCxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXJsRm9ySW1hZ2UuanMubWFwIl0sIm5hbWVzIjpbIl9fYXNzaWduIiwiT2JqZWN0IiwiYXNzaWduIiwidCIsInMiLCJpIiwibiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhcHBseSIsIl9faW1wb3J0RGVmYXVsdCIsIm1vZCIsIl9fZXNNb2R1bGUiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInBhcnNlU291cmNlIiwiU1BFQ19OQU1FX1RPX1VSTF9OQU1FX01BUFBJTkdTIiwicGFyc2VBc3NldElkXzEiLCJyZXF1aXJlIiwicGFyc2VTb3VyY2VfMSIsImRlZmF1bHQiLCJ1cmxGb3JJbWFnZSIsIm9wdGlvbnMiLCJzcGVjIiwic291cmNlIiwiaW1hZ2UiLCJFcnJvciIsImNvbmNhdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJpZCIsImFzc2V0IiwiX3JlZiIsIl9pZCIsImNyb3BMZWZ0IiwiTWF0aCIsInJvdW5kIiwiY3JvcCIsImxlZnQiLCJ3aWR0aCIsImNyb3BUb3AiLCJ0b3AiLCJoZWlnaHQiLCJyaWdodCIsImJvdHRvbSIsImhvdFNwb3RWZXJ0aWNhbFJhZGl1cyIsImhvdHNwb3QiLCJob3RTcG90SG9yaXpvbnRhbFJhZGl1cyIsImhvdFNwb3RDZW50ZXJYIiwieCIsImhvdFNwb3RDZW50ZXJZIiwieSIsInJlY3QiLCJmb2NhbFBvaW50IiwiaWdub3JlSW1hZ2VQYXJhbXMiLCJmaXQiLCJzcGVjVG9JbWFnZVVybCIsImNkblVybCIsImJhc2VVcmwiLCJyZXBsYWNlIiwidmFuaXR5U3R1YiIsInZhbml0eU5hbWUiLCJmaWxlbmFtZSIsImZvcm1hdCIsInByb2plY3RJZCIsImRhdGFzZXQiLCJwYXJhbXMiLCJfYSIsInRvcF8xIiwiaXNFZmZlY3RpdmVDcm9wIiwicHVzaCIsImJnIiwiZmxpcCIsImZsaXBIb3Jpem9udGFsIiwiZmxpcFZlcnRpY2FsIiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJmb3JFYWNoIiwibWFwcGluZyIsInNwZWNOYW1lIiwicGFyYW0iLCJlbmNvZGVVUklDb21wb25lbnQiLCJjcm9wUmVjdCIsImltZ1dpZHRoIiwiaW1nSGVpZ2h0IiwiZGVzaXJlZEFzcGVjdFJhdGlvIiwiY3JvcEFzcGVjdFJhdGlvIiwidG9wXzIiLCJtYXgiLCJob3RzcG90WENlbnRlciIsImhvdHNwb3RZQ2VudGVyIiwidG9wXzMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/image-url/lib/node/urlForImage.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/eventsource/node.js":
/*!**************************************************!*\
  !*** ./node_modules/@sanity/eventsource/node.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("module.exports = __webpack_require__(/*! eventsource */ \"(ssr)/./node_modules/eventsource/lib/eventsource.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9ldmVudHNvdXJjZS9ub2RlLmpzIiwibWFwcGluZ3MiOiJBQUFBQSw4R0FBeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZG1pc3Npb24tdXBsaWZ0Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvZXZlbnRzb3VyY2Uvbm9kZS5qcz9kODg5Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnZXZlbnRzb3VyY2UnKVxuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJyZXF1aXJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/eventsource/node.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/eventsource/node.js":
/*!**************************************************!*\
  !*** ./node_modules/@sanity/eventsource/node.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("module.exports = __webpack_require__(/*! eventsource */ \"(rsc)/./node_modules/eventsource/lib/eventsource.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9ldmVudHNvdXJjZS9ub2RlLmpzIiwibWFwcGluZ3MiOiJBQUFBQSw4R0FBeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZG1pc3Npb24tdXBsaWZ0Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvZXZlbnRzb3VyY2Uvbm9kZS5qcz9kODg5Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnZXZlbnRzb3VyY2UnKVxuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJyZXF1aXJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/eventsource/node.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/client/dist/_chunks-es/stegaClean.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@sanity/client/dist/_chunks-es/stegaClean.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   C: () => (/* binding */ C),\n/* harmony export */   stegaClean: () => (/* binding */ stegaClean),\n/* harmony export */   vercelStegaCleanAll: () => (/* binding */ vercelStegaCleanAll)\n/* harmony export */ });\nvar s = {\n    0: 8203,\n    1: 8204,\n    2: 8205,\n    3: 8290,\n    4: 8291,\n    5: 8288,\n    6: 65279,\n    7: 8289,\n    8: 119155,\n    9: 119156,\n    a: 119157,\n    b: 119158,\n    c: 119159,\n    d: 119160,\n    e: 119161,\n    f: 119162\n}, c = {\n    0: 8203,\n    1: 8204,\n    2: 8205,\n    3: 65279\n}, u = new Array(4).fill(String.fromCodePoint(c[0])).join(\"\");\nfunction E(t) {\n    let e = JSON.stringify(t);\n    return `${u}${Array.from(e).map((r)=>{\n        let n = r.charCodeAt(0);\n        if (n > 255) throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);\n        return Array.from(n.toString(4).padStart(4, \"0\")).map((o)=>String.fromCodePoint(c[o])).join(\"\");\n    }).join(\"\")}`;\n}\nfunction I(t) {\n    return !Number.isNaN(Number(t)) || /[a-z]/i.test(t) && !/\\d+(?:[-:\\/]\\d+){2}(?:T\\d+(?:[-:\\/]\\d+){1,2}(\\.\\d+)?Z?)?/.test(t) ? !1 : !!Date.parse(t);\n}\nfunction T(t) {\n    try {\n        new URL(t, t.startsWith(\"/\") ? \"https://acme.com\" : void 0);\n    } catch  {\n        return !1;\n    }\n    return !0;\n}\nfunction C(t, e, r = \"auto\") {\n    return r === !0 || r === \"auto\" && (I(t) || T(t)) ? t : `${t}${E(e)}`;\n}\nObject.fromEntries(Object.entries(c).map((t)=>t.reverse()));\nObject.fromEntries(Object.entries(s).map((t)=>t.reverse()));\nvar S = `${Object.values(s).map((t)=>`\\\\u{${t.toString(16)}}`).join(\"\")}`, f = new RegExp(`[${S}]{4,}`, \"gu\");\nfunction _(t) {\n    var e;\n    return {\n        cleaned: t.replace(f, \"\"),\n        encoded: ((e = t.match(f)) == null ? void 0 : e[0]) || \"\"\n    };\n}\nfunction O(t) {\n    return t && JSON.parse(_(JSON.stringify(t)).cleaned);\n}\nfunction stegaClean(result) {\n    return O(result);\n}\nconst vercelStegaCleanAll = stegaClean;\n //# sourceMappingURL=stegaClean.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzLWVzL3N0ZWdhQ2xlYW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBSUEsSUFBSTtJQUFFLEdBQUc7SUFBTSxHQUFHO0lBQU0sR0FBRztJQUFNLEdBQUc7SUFBTSxHQUFHO0lBQU0sR0FBRztJQUFNLEdBQUc7SUFBTyxHQUFHO0lBQU0sR0FBRztJQUFRLEdBQUc7SUFBUUMsR0FBRztJQUFRQyxHQUFHO0lBQVFDLEdBQUc7SUFBUUMsR0FBRztJQUFRQyxHQUFHO0lBQVFDLEdBQUc7QUFBTyxHQUFHSCxJQUFJO0lBQUUsR0FBRztJQUFNLEdBQUc7SUFBTSxHQUFHO0lBQU0sR0FBRztBQUFNLEdBQUdJLElBQUksSUFBSUMsTUFBTSxHQUFHQyxJQUFJLENBQUNDLE9BQU9DLGFBQWEsQ0FBQ1IsQ0FBQyxDQUFDLEVBQUUsR0FBR1MsSUFBSSxDQUFDO0FBQ2pSLFNBQVNDLEVBQUVDLENBQUM7SUFDVixJQUFJVCxJQUFJVSxLQUFLQyxTQUFTLENBQUNGO0lBQ3ZCLE9BQU8sQ0FBQyxFQUFFUCxFQUFFLEVBQUVDLE1BQU1TLElBQUksQ0FBQ1osR0FBR2EsR0FBRyxDQUFDLENBQUNDO1FBQy9CLElBQUlDLElBQUlELEVBQUVFLFVBQVUsQ0FBQztRQUNyQixJQUFJRCxJQUFJLEtBQ04sTUFBTSxJQUFJRSxNQUFNLENBQUMsZ0VBQWdFLEVBQUVqQixFQUFFLGNBQWMsRUFBRWMsRUFBRSxFQUFFLEVBQUVDLEVBQUUsQ0FBQyxDQUFDO1FBQ2pILE9BQU9aLE1BQU1TLElBQUksQ0FBQ0csRUFBRUcsUUFBUSxDQUFDLEdBQUdDLFFBQVEsQ0FBQyxHQUFHLE1BQU1OLEdBQUcsQ0FBQyxDQUFDTyxJQUFNZixPQUFPQyxhQUFhLENBQUNSLENBQUMsQ0FBQ3NCLEVBQUUsR0FBR2IsSUFBSSxDQUFDO0lBQ2hHLEdBQUdBLElBQUksQ0FBQyxJQUFJLENBQUM7QUFDZjtBQUNBLFNBQVNjLEVBQUVaLENBQUM7SUFDVixPQUFPLENBQUNhLE9BQU9DLEtBQUssQ0FBQ0QsT0FBT2IsT0FBTyxTQUFTZSxJQUFJLENBQUNmLE1BQU0sQ0FBQywyREFBMkRlLElBQUksQ0FBQ2YsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDZ0IsS0FBS0MsS0FBSyxDQUFDakI7QUFDako7QUFDQSxTQUFTa0IsRUFBRWxCLENBQUM7SUFDVixJQUFJO1FBQ0YsSUFBSW1CLElBQUluQixHQUFHQSxFQUFFb0IsVUFBVSxDQUFDLE9BQU8scUJBQXFCLEtBQUs7SUFDM0QsRUFBRSxPQUFNO1FBQ04sT0FBTyxDQUFDO0lBQ1Y7SUFDQSxPQUFPLENBQUM7QUFDVjtBQUNBLFNBQVNDLEVBQUVyQixDQUFDLEVBQUVULENBQUMsRUFBRWMsSUFBSSxNQUFNO0lBQ3pCLE9BQU9BLE1BQU0sQ0FBQyxLQUFLQSxNQUFNLFVBQVdPLENBQUFBLEVBQUVaLE1BQU1rQixFQUFFbEIsRUFBQyxJQUFLQSxJQUFJLENBQUMsRUFBRUEsRUFBRSxFQUFFRCxFQUFFUixHQUFHLENBQUM7QUFDdkU7QUFDQStCLE9BQU9DLFdBQVcsQ0FBQ0QsT0FBT0UsT0FBTyxDQUFDbkMsR0FBR2UsR0FBRyxDQUFDLENBQUNKLElBQU1BLEVBQUV5QixPQUFPO0FBQ3pESCxPQUFPQyxXQUFXLENBQUNELE9BQU9FLE9BQU8sQ0FBQ3RDLEdBQUdrQixHQUFHLENBQUMsQ0FBQ0osSUFBTUEsRUFBRXlCLE9BQU87QUFDekQsSUFBSUMsSUFBSSxDQUFDLEVBQUVKLE9BQU9LLE1BQU0sQ0FBQ3pDLEdBQUdrQixHQUFHLENBQUMsQ0FBQ0osSUFBTSxDQUFDLElBQUksRUFBRUEsRUFBRVMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUVYLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRU4sSUFBSSxJQUFJb0MsT0FBTyxDQUFDLENBQUMsRUFBRUYsRUFBRSxLQUFLLENBQUMsRUFBRTtBQUMxRyxTQUFTRyxFQUFFN0IsQ0FBQztJQUNWLElBQUlUO0lBQ0osT0FBTztRQUFFdUMsU0FBUzlCLEVBQUUrQixPQUFPLENBQUN2QyxHQUFHO1FBQUt3QyxTQUFTLENBQUMsQ0FBQ3pDLElBQUlTLEVBQUVpQyxLQUFLLENBQUN6QyxFQUFDLEtBQU0sT0FBTyxLQUFLLElBQUlELENBQUMsQ0FBQyxFQUFFLEtBQUs7SUFBRztBQUNoRztBQUNBLFNBQVMyQyxFQUFFbEMsQ0FBQztJQUNWLE9BQU9BLEtBQUtDLEtBQUtnQixLQUFLLENBQUNZLEVBQUU1QixLQUFLQyxTQUFTLENBQUNGLElBQUk4QixPQUFPO0FBQ3JEO0FBQ0EsU0FBU0ssV0FBV0MsTUFBTTtJQUN4QixPQUFPRixFQUFFRTtBQUNYO0FBQ0EsTUFBTUMsc0JBQXNCRjtBQUsxQixDQUNGLHNDQUFzQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FkbWlzc2lvbi11cGxpZnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzLWVzL3N0ZWdhQ2xlYW4uanM/MmI5NyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcyA9IHsgMDogODIwMywgMTogODIwNCwgMjogODIwNSwgMzogODI5MCwgNDogODI5MSwgNTogODI4OCwgNjogNjUyNzksIDc6IDgyODksIDg6IDExOTE1NSwgOTogMTE5MTU2LCBhOiAxMTkxNTcsIGI6IDExOTE1OCwgYzogMTE5MTU5LCBkOiAxMTkxNjAsIGU6IDExOTE2MSwgZjogMTE5MTYyIH0sIGMgPSB7IDA6IDgyMDMsIDE6IDgyMDQsIDI6IDgyMDUsIDM6IDY1Mjc5IH0sIHUgPSBuZXcgQXJyYXkoNCkuZmlsbChTdHJpbmcuZnJvbUNvZGVQb2ludChjWzBdKSkuam9pbihcIlwiKTtcbmZ1bmN0aW9uIEUodCkge1xuICBsZXQgZSA9IEpTT04uc3RyaW5naWZ5KHQpO1xuICByZXR1cm4gYCR7dX0ke0FycmF5LmZyb20oZSkubWFwKChyKSA9PiB7XG4gICAgbGV0IG4gPSByLmNoYXJDb2RlQXQoMCk7XG4gICAgaWYgKG4gPiAyNTUpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE9ubHkgQVNDSUkgZWRpdCBpbmZvIGNhbiBiZSBlbmNvZGVkLiBFcnJvciBhdHRlbXB0aW5nIHRvIGVuY29kZSAke2V9IG9uIGNoYXJhY3RlciAke3J9ICgke259KWApO1xuICAgIHJldHVybiBBcnJheS5mcm9tKG4udG9TdHJpbmcoNCkucGFkU3RhcnQoNCwgXCIwXCIpKS5tYXAoKG8pID0+IFN0cmluZy5mcm9tQ29kZVBvaW50KGNbb10pKS5qb2luKFwiXCIpO1xuICB9KS5qb2luKFwiXCIpfWA7XG59XG5mdW5jdGlvbiBJKHQpIHtcbiAgcmV0dXJuICFOdW1iZXIuaXNOYU4oTnVtYmVyKHQpKSB8fCAvW2Etel0vaS50ZXN0KHQpICYmICEvXFxkKyg/OlstOlxcL11cXGQrKXsyfSg/OlRcXGQrKD86Wy06XFwvXVxcZCspezEsMn0oXFwuXFxkKyk/Wj8pPy8udGVzdCh0KSA/ICExIDogISFEYXRlLnBhcnNlKHQpO1xufVxuZnVuY3Rpb24gVCh0KSB7XG4gIHRyeSB7XG4gICAgbmV3IFVSTCh0LCB0LnN0YXJ0c1dpdGgoXCIvXCIpID8gXCJodHRwczovL2FjbWUuY29tXCIgOiB2b2lkIDApO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgcmV0dXJuICEwO1xufVxuZnVuY3Rpb24gQyh0LCBlLCByID0gXCJhdXRvXCIpIHtcbiAgcmV0dXJuIHIgPT09ICEwIHx8IHIgPT09IFwiYXV0b1wiICYmIChJKHQpIHx8IFQodCkpID8gdCA6IGAke3R9JHtFKGUpfWA7XG59XG5PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoYykubWFwKCh0KSA9PiB0LnJldmVyc2UoKSkpO1xuT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHMpLm1hcCgodCkgPT4gdC5yZXZlcnNlKCkpKTtcbnZhciBTID0gYCR7T2JqZWN0LnZhbHVlcyhzKS5tYXAoKHQpID0+IGBcXFxcdXske3QudG9TdHJpbmcoMTYpfX1gKS5qb2luKFwiXCIpfWAsIGYgPSBuZXcgUmVnRXhwKGBbJHtTfV17NCx9YCwgXCJndVwiKTtcbmZ1bmN0aW9uIF8odCkge1xuICB2YXIgZTtcbiAgcmV0dXJuIHsgY2xlYW5lZDogdC5yZXBsYWNlKGYsIFwiXCIpLCBlbmNvZGVkOiAoKGUgPSB0Lm1hdGNoKGYpKSA9PSBudWxsID8gdm9pZCAwIDogZVswXSkgfHwgXCJcIiB9O1xufVxuZnVuY3Rpb24gTyh0KSB7XG4gIHJldHVybiB0ICYmIEpTT04ucGFyc2UoXyhKU09OLnN0cmluZ2lmeSh0KSkuY2xlYW5lZCk7XG59XG5mdW5jdGlvbiBzdGVnYUNsZWFuKHJlc3VsdCkge1xuICByZXR1cm4gTyhyZXN1bHQpO1xufVxuY29uc3QgdmVyY2VsU3RlZ2FDbGVhbkFsbCA9IHN0ZWdhQ2xlYW47XG5leHBvcnQge1xuICBDLFxuICBzdGVnYUNsZWFuLFxuICB2ZXJjZWxTdGVnYUNsZWFuQWxsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RlZ2FDbGVhbi5qcy5tYXBcbiJdLCJuYW1lcyI6WyJzIiwiYSIsImIiLCJjIiwiZCIsImUiLCJmIiwidSIsIkFycmF5IiwiZmlsbCIsIlN0cmluZyIsImZyb21Db2RlUG9pbnQiLCJqb2luIiwiRSIsInQiLCJKU09OIiwic3RyaW5naWZ5IiwiZnJvbSIsIm1hcCIsInIiLCJuIiwiY2hhckNvZGVBdCIsIkVycm9yIiwidG9TdHJpbmciLCJwYWRTdGFydCIsIm8iLCJJIiwiTnVtYmVyIiwiaXNOYU4iLCJ0ZXN0IiwiRGF0ZSIsInBhcnNlIiwiVCIsIlVSTCIsInN0YXJ0c1dpdGgiLCJDIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwicmV2ZXJzZSIsIlMiLCJ2YWx1ZXMiLCJSZWdFeHAiLCJfIiwiY2xlYW5lZCIsInJlcGxhY2UiLCJlbmNvZGVkIiwibWF0Y2giLCJPIiwic3RlZ2FDbGVhbiIsInJlc3VsdCIsInZlcmNlbFN0ZWdhQ2xlYW5BbGwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/client/dist/_chunks-es/stegaClean.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/client/dist/_chunks-es/stegaEncodeSourceMap.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@sanity/client/dist/_chunks-es/stegaEncodeSourceMap.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodeIntoResult: () => (/* binding */ encodeIntoResult),\n/* harmony export */   stegaEncodeSourceMap: () => (/* binding */ stegaEncodeSourceMap),\n/* harmony export */   stegaEncodeSourceMap$1: () => (/* binding */ stegaEncodeSourceMap$1)\n/* harmony export */ });\n/* harmony import */ var _stegaClean_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./stegaClean.js */ \"(ssr)/./node_modules/@sanity/client/dist/_chunks-es/stegaClean.js\");\n\nconst reKeySegment = /_key\\s*==\\s*['\"](.*)['\"]/;\nfunction isKeySegment(segment) {\n    return typeof segment == \"string\" ? reKeySegment.test(segment.trim()) : typeof segment == \"object\" && \"_key\" in segment;\n}\nfunction toString(path) {\n    if (!Array.isArray(path)) throw new Error(\"Path is not an array\");\n    return path.reduce((target, segment, i)=>{\n        const segmentType = typeof segment;\n        if (segmentType === \"number\") return `${target}[${segment}]`;\n        if (segmentType === \"string\") return `${target}${i === 0 ? \"\" : \".\"}${segment}`;\n        if (isKeySegment(segment) && segment._key) return `${target}[_key==\"${segment._key}\"]`;\n        if (Array.isArray(segment)) {\n            const [from, to] = segment;\n            return `${target}[${from}:${to}]`;\n        }\n        throw new Error(`Unsupported path segment \\`${JSON.stringify(segment)}\\``);\n    }, \"\");\n}\nconst ESCAPE = {\n    \"\\f\": \"\\\\f\",\n    \"\\n\": \"\\\\n\",\n    \"\\r\": \"\\\\r\",\n    \"\t\": \"\\\\t\",\n    \"'\": \"\\\\'\",\n    \"\\\\\": \"\\\\\\\\\"\n}, UNESCAPE = {\n    \"\\\\f\": \"\\f\",\n    \"\\\\n\": `\n`,\n    \"\\\\r\": \"\\r\",\n    \"\\\\t\": \"\t\",\n    \"\\\\'\": \"'\",\n    \"\\\\\\\\\": \"\\\\\"\n};\nfunction jsonPath(path) {\n    return `$${path.map((segment)=>typeof segment == \"string\" ? `['${segment.replace(/[\\f\\n\\r\\t'\\\\]/g, (match)=>ESCAPE[match])}']` : typeof segment == \"number\" ? `[${segment}]` : segment._key !== \"\" ? `[?(@._key=='${segment._key.replace(/['\\\\]/g, (match)=>ESCAPE[match])}')]` : `[${segment._index}]`).join(\"\")}`;\n}\nfunction parseJsonPath(path) {\n    const parsed = [], parseRe = /\\['(.*?)'\\]|\\[(\\d+)\\]|\\[\\?\\(@\\._key=='(.*?)'\\)\\]/g;\n    let match;\n    for(; (match = parseRe.exec(path)) !== null;){\n        if (match[1] !== void 0) {\n            const key = match[1].replace(/\\\\(\\\\|f|n|r|t|')/g, (m)=>UNESCAPE[m]);\n            parsed.push(key);\n            continue;\n        }\n        if (match[2] !== void 0) {\n            parsed.push(parseInt(match[2], 10));\n            continue;\n        }\n        if (match[3] !== void 0) {\n            const _key = match[3].replace(/\\\\(\\\\')/g, (m)=>UNESCAPE[m]);\n            parsed.push({\n                _key,\n                _index: -1\n            });\n            continue;\n        }\n    }\n    return parsed;\n}\nfunction jsonPathToStudioPath(path) {\n    return path.map((segment)=>{\n        if (typeof segment == \"string\" || typeof segment == \"number\") return segment;\n        if (segment._key !== \"\") return {\n            _key: segment._key\n        };\n        if (segment._index !== -1) return segment._index;\n        throw new Error(`invalid segment:${JSON.stringify(segment)}`);\n    });\n}\nfunction jsonPathToMappingPath(path) {\n    return path.map((segment)=>{\n        if (typeof segment == \"string\" || typeof segment == \"number\") return segment;\n        if (segment._index !== -1) return segment._index;\n        throw new Error(`invalid segment:${JSON.stringify(segment)}`);\n    });\n}\nfunction resolveMapping(resultPath, csm) {\n    if (!csm?.mappings) return;\n    const resultMappingPath = jsonPath(jsonPathToMappingPath(resultPath));\n    if (csm.mappings[resultMappingPath] !== void 0) return {\n        mapping: csm.mappings[resultMappingPath],\n        matchedPath: resultMappingPath,\n        pathSuffix: \"\"\n    };\n    const mappings = Object.entries(csm.mappings).filter(([key])=>resultMappingPath.startsWith(key)).sort(([key1], [key2])=>key2.length - key1.length);\n    if (mappings.length == 0) return;\n    const [matchedPath, mapping] = mappings[0], pathSuffix = resultMappingPath.substring(matchedPath.length);\n    return {\n        mapping,\n        matchedPath,\n        pathSuffix\n    };\n}\nfunction isArray(value) {\n    return value !== null && Array.isArray(value);\n}\nfunction isRecord(value) {\n    return typeof value == \"object\" && value !== null;\n}\nfunction walkMap(value, mappingFn, path = []) {\n    if (isArray(value)) return value.map((v, idx)=>{\n        if (isRecord(v)) {\n            const _key = v._key;\n            if (typeof _key == \"string\") return walkMap(v, mappingFn, path.concat({\n                _key,\n                _index: idx\n            }));\n        }\n        return walkMap(v, mappingFn, path.concat(idx));\n    });\n    if (isRecord(value)) {\n        if (value._type === \"block\" || value._type === \"span\") {\n            const result = {\n                ...value\n            };\n            return value._type === \"block\" ? result.children = walkMap(value.children, mappingFn, path.concat(\"children\")) : value._type === \"span\" && (result.text = walkMap(value.text, mappingFn, path.concat(\"text\"))), result;\n        }\n        return Object.fromEntries(Object.entries(value).map(([k, v])=>[\n                k,\n                walkMap(v, mappingFn, path.concat(k))\n            ]));\n    }\n    return mappingFn(value, path);\n}\nfunction encodeIntoResult(result, csm, encoder) {\n    return walkMap(result, (value, path)=>{\n        if (typeof value != \"string\") return value;\n        const resolveMappingResult = resolveMapping(path, csm);\n        if (!resolveMappingResult) return value;\n        const { mapping, matchedPath } = resolveMappingResult;\n        if (mapping.type !== \"value\" || mapping.source.type !== \"documentValue\") return value;\n        const sourceDocument = csm.documents[mapping.source.document], sourcePath = csm.paths[mapping.source.path], matchPathSegments = parseJsonPath(matchedPath), fullSourceSegments = parseJsonPath(sourcePath).concat(path.slice(matchPathSegments.length));\n        return encoder({\n            sourcePath: fullSourceSegments,\n            sourceDocument,\n            resultPath: path,\n            value\n        });\n    });\n}\nconst DRAFTS_PREFIX = \"drafts.\";\nfunction getPublishedId(id) {\n    return id.startsWith(DRAFTS_PREFIX) ? id.slice(DRAFTS_PREFIX.length) : id;\n}\nfunction createEditUrl(options) {\n    const { baseUrl, workspace: _workspace = \"default\", tool: _tool = \"default\", id: _id, type, path, projectId, dataset } = options;\n    if (!baseUrl) throw new Error(\"baseUrl is required\");\n    if (!path) throw new Error(\"path is required\");\n    if (!_id) throw new Error(\"id is required\");\n    if (baseUrl !== \"/\" && baseUrl.endsWith(\"/\")) throw new Error(\"baseUrl must not end with a slash\");\n    const workspace = _workspace === \"default\" ? void 0 : _workspace, tool = _tool === \"default\" ? void 0 : _tool, id = getPublishedId(_id), stringifiedPath = Array.isArray(path) ? toString(jsonPathToStudioPath(path)) : path, searchParams = new URLSearchParams({\n        baseUrl,\n        id,\n        type,\n        path: stringifiedPath\n    });\n    workspace && searchParams.set(\"workspace\", workspace), tool && searchParams.set(\"tool\", tool), projectId && searchParams.set(\"projectId\", projectId), dataset && searchParams.set(\"dataset\", dataset), _id.startsWith(DRAFTS_PREFIX) && searchParams.set(\"isDraft\", \"\");\n    const segments = [\n        baseUrl === \"/\" ? \"\" : baseUrl\n    ];\n    workspace && segments.push(workspace);\n    const routerParams = [\n        \"mode=presentation\",\n        `id=${id}`,\n        `type=${type}`,\n        `path=${encodeURIComponent(stringifiedPath)}`\n    ];\n    return tool && routerParams.push(`tool=${tool}`), segments.push(\"intent\", \"edit\", `${routerParams.join(\";\")}?${searchParams}`), segments.join(\"/\");\n}\nfunction resolveStudioBaseRoute(studioUrl) {\n    let baseUrl = typeof studioUrl == \"string\" ? studioUrl : studioUrl.baseUrl;\n    return baseUrl !== \"/\" && (baseUrl = baseUrl.replace(/\\/$/, \"\")), typeof studioUrl == \"string\" ? {\n        baseUrl\n    } : {\n        ...studioUrl,\n        baseUrl\n    };\n}\nconst filterDefault = ({ sourcePath, resultPath, value })=>{\n    if (isValidDate(value) || isValidURL(value)) return !1;\n    const endPath = sourcePath.at(-1);\n    return !(sourcePath.at(-2) === \"slug\" && endPath === \"current\" || typeof endPath == \"string\" && (endPath.startsWith(\"_\") || endPath.endsWith(\"Id\")) || sourcePath.some((path)=>path === \"meta\" || path === \"metadata\" || path === \"openGraph\" || path === \"seo\") || hasTypeLike(sourcePath) || hasTypeLike(resultPath) || typeof endPath == \"string\" && denylist.has(endPath));\n}, denylist = /* @__PURE__ */ new Set([\n    \"color\",\n    \"colour\",\n    \"currency\",\n    \"email\",\n    \"format\",\n    \"gid\",\n    \"hex\",\n    \"href\",\n    \"hsl\",\n    \"hsla\",\n    \"icon\",\n    \"id\",\n    \"index\",\n    \"key\",\n    \"language\",\n    \"layout\",\n    \"link\",\n    \"linkAction\",\n    \"locale\",\n    \"lqip\",\n    \"page\",\n    \"path\",\n    \"ref\",\n    \"rgb\",\n    \"rgba\",\n    \"route\",\n    \"secret\",\n    \"slug\",\n    \"status\",\n    \"tag\",\n    \"template\",\n    \"theme\",\n    \"type\",\n    \"textTheme\",\n    \"unit\",\n    \"url\",\n    \"username\",\n    \"variant\",\n    \"website\"\n]);\nfunction isValidDate(dateString) {\n    return /^\\d{4}-\\d{2}-\\d{2}/.test(dateString) ? !!Date.parse(dateString) : !1;\n}\nfunction isValidURL(url) {\n    try {\n        new URL(url, url.startsWith(\"/\") ? \"https://acme.com\" : void 0);\n    } catch  {\n        return !1;\n    }\n    return !0;\n}\nfunction hasTypeLike(path) {\n    return path.some((segment)=>typeof segment == \"string\" && segment.match(/type/i) !== null);\n}\nconst TRUNCATE_LENGTH = 20;\nfunction stegaEncodeSourceMap(result, resultSourceMap, config) {\n    const { filter, logger, enabled } = config;\n    if (!enabled) {\n        const msg = \"config.enabled must be true, don't call this function otherwise\";\n        throw logger?.error?.(`[@sanity/client]: ${msg}`, {\n            result,\n            resultSourceMap,\n            config\n        }), new TypeError(msg);\n    }\n    if (!resultSourceMap) return logger?.error?.(\"[@sanity/client]: Missing Content Source Map from response body\", {\n        result,\n        resultSourceMap,\n        config\n    }), result;\n    if (!config.studioUrl) {\n        const msg = \"config.studioUrl must be defined\";\n        throw logger?.error?.(`[@sanity/client]: ${msg}`, {\n            result,\n            resultSourceMap,\n            config\n        }), new TypeError(msg);\n    }\n    const report = {\n        encoded: [],\n        skipped: []\n    }, resultWithStega = encodeIntoResult(result, resultSourceMap, ({ sourcePath, sourceDocument, resultPath, value })=>{\n        if ((typeof filter == \"function\" ? filter({\n            sourcePath,\n            resultPath,\n            filterDefault,\n            sourceDocument,\n            value\n        }) : filterDefault({\n            sourcePath,\n            resultPath,\n            filterDefault,\n            sourceDocument,\n            value\n        })) === !1) return logger && report.skipped.push({\n            path: prettyPathForLogging(sourcePath),\n            value: `${value.slice(0, TRUNCATE_LENGTH)}${value.length > TRUNCATE_LENGTH ? \"...\" : \"\"}`,\n            length: value.length\n        }), value;\n        logger && report.encoded.push({\n            path: prettyPathForLogging(sourcePath),\n            value: `${value.slice(0, TRUNCATE_LENGTH)}${value.length > TRUNCATE_LENGTH ? \"...\" : \"\"}`,\n            length: value.length\n        });\n        const { baseUrl, workspace, tool } = resolveStudioBaseRoute(typeof config.studioUrl == \"function\" ? config.studioUrl(sourceDocument) : config.studioUrl);\n        if (!baseUrl) return value;\n        const { _id: id, _type: type, _projectId: projectId, _dataset: dataset } = sourceDocument;\n        return (0,_stegaClean_js__WEBPACK_IMPORTED_MODULE_0__.C)(value, {\n            origin: \"sanity.io\",\n            href: createEditUrl({\n                baseUrl,\n                workspace,\n                tool,\n                id,\n                type,\n                path: sourcePath,\n                ...!config.omitCrossDatasetReferenceData && {\n                    dataset,\n                    projectId\n                }\n            })\n        }, // We use custom logic to determine if we should skip encoding\n        !1);\n    });\n    if (logger) {\n        const isSkipping = report.skipped.length, isEncoding = report.encoded.length;\n        if ((isSkipping || isEncoding) && ((logger?.groupCollapsed || logger.log)?.(\"[@sanity/client]: Encoding source map into result\"), logger.log?.(`[@sanity/client]: Paths encoded: ${report.encoded.length}, skipped: ${report.skipped.length}`)), report.encoded.length > 0 && (logger?.log?.(\"[@sanity/client]: Table of encoded paths\"), (logger?.table || logger.log)?.(report.encoded)), report.skipped.length > 0) {\n            const skipped = /* @__PURE__ */ new Set();\n            for (const { path } of report.skipped)skipped.add(path.replace(reKeySegment, \"0\").replace(/\\[\\d+\\]/g, \"[]\"));\n            logger?.log?.(\"[@sanity/client]: List of skipped paths\", [\n                ...skipped.values()\n            ]);\n        }\n        (isSkipping || isEncoding) && logger?.groupEnd?.();\n    }\n    return resultWithStega;\n}\nfunction prettyPathForLogging(path) {\n    return toString(jsonPathToStudioPath(path));\n}\nvar stegaEncodeSourceMap$1 = /* @__PURE__ */ Object.freeze({\n    __proto__: null,\n    stegaEncodeSourceMap\n});\n //# sourceMappingURL=stegaEncodeSourceMap.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzLWVzL3N0ZWdhRW5jb2RlU291cmNlTWFwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBb0M7QUFDcEMsTUFBTUMsZUFBZTtBQUNyQixTQUFTQyxhQUFhQyxPQUFPO0lBQzNCLE9BQU8sT0FBT0EsV0FBVyxXQUFXRixhQUFhRyxJQUFJLENBQUNELFFBQVFFLElBQUksTUFBTSxPQUFPRixXQUFXLFlBQVksVUFBVUE7QUFDbEg7QUFDQSxTQUFTRyxTQUFTQyxJQUFJO0lBQ3BCLElBQUksQ0FBQ0MsTUFBTUMsT0FBTyxDQUFDRixPQUNqQixNQUFNLElBQUlHLE1BQU07SUFDbEIsT0FBT0gsS0FBS0ksTUFBTSxDQUFDLENBQUNDLFFBQVFULFNBQVNVO1FBQ25DLE1BQU1DLGNBQWMsT0FBT1g7UUFDM0IsSUFBSVcsZ0JBQWdCLFVBQ2xCLE9BQU8sQ0FBQyxFQUFFRixPQUFPLENBQUMsRUFBRVQsUUFBUSxDQUFDLENBQUM7UUFDaEMsSUFBSVcsZ0JBQWdCLFVBQ2xCLE9BQU8sQ0FBQyxFQUFFRixPQUFPLEVBQUVDLE1BQU0sSUFBSSxLQUFLLElBQUksRUFBRVYsUUFBUSxDQUFDO1FBQ25ELElBQUlELGFBQWFDLFlBQVlBLFFBQVFZLElBQUksRUFDdkMsT0FBTyxDQUFDLEVBQUVILE9BQU8sUUFBUSxFQUFFVCxRQUFRWSxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQzdDLElBQUlQLE1BQU1DLE9BQU8sQ0FBQ04sVUFBVTtZQUMxQixNQUFNLENBQUNhLE1BQU1DLEdBQUcsR0FBR2Q7WUFDbkIsT0FBTyxDQUFDLEVBQUVTLE9BQU8sQ0FBQyxFQUFFSSxLQUFLLENBQUMsRUFBRUMsR0FBRyxDQUFDLENBQUM7UUFDbkM7UUFDQSxNQUFNLElBQUlQLE1BQU0sQ0FBQywyQkFBMkIsRUFBRVEsS0FBS0MsU0FBUyxDQUFDaEIsU0FBUyxFQUFFLENBQUM7SUFDM0UsR0FBRztBQUNMO0FBQ0EsTUFBTWlC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dWxlcy9Ac2FuaXR5L2NsaWVudC9kaXN0L19jaHVua3MtZXMvc3RlZ2FFbmNvZGVTb3VyY2VNYXAuanM/NzcxZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDIH0gZnJvbSBcIi4vc3RlZ2FDbGVhbi5qc1wiO1xuY29uc3QgcmVLZXlTZWdtZW50ID0gL19rZXlcXHMqPT1cXHMqWydcIl0oLiopWydcIl0vO1xuZnVuY3Rpb24gaXNLZXlTZWdtZW50KHNlZ21lbnQpIHtcbiAgcmV0dXJuIHR5cGVvZiBzZWdtZW50ID09IFwic3RyaW5nXCIgPyByZUtleVNlZ21lbnQudGVzdChzZWdtZW50LnRyaW0oKSkgOiB0eXBlb2Ygc2VnbWVudCA9PSBcIm9iamVjdFwiICYmIFwiX2tleVwiIGluIHNlZ21lbnQ7XG59XG5mdW5jdGlvbiB0b1N0cmluZyhwYXRoKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShwYXRoKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXRoIGlzIG5vdCBhbiBhcnJheVwiKTtcbiAgcmV0dXJuIHBhdGgucmVkdWNlKCh0YXJnZXQsIHNlZ21lbnQsIGkpID0+IHtcbiAgICBjb25zdCBzZWdtZW50VHlwZSA9IHR5cGVvZiBzZWdtZW50O1xuICAgIGlmIChzZWdtZW50VHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgIHJldHVybiBgJHt0YXJnZXR9WyR7c2VnbWVudH1dYDtcbiAgICBpZiAoc2VnbWVudFR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICByZXR1cm4gYCR7dGFyZ2V0fSR7aSA9PT0gMCA/IFwiXCIgOiBcIi5cIn0ke3NlZ21lbnR9YDtcbiAgICBpZiAoaXNLZXlTZWdtZW50KHNlZ21lbnQpICYmIHNlZ21lbnQuX2tleSlcbiAgICAgIHJldHVybiBgJHt0YXJnZXR9W19rZXk9PVwiJHtzZWdtZW50Ll9rZXl9XCJdYDtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzZWdtZW50KSkge1xuICAgICAgY29uc3QgW2Zyb20sIHRvXSA9IHNlZ21lbnQ7XG4gICAgICByZXR1cm4gYCR7dGFyZ2V0fVske2Zyb219OiR7dG99XWA7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgcGF0aCBzZWdtZW50IFxcYCR7SlNPTi5zdHJpbmdpZnkoc2VnbWVudCl9XFxgYCk7XG4gIH0sIFwiXCIpO1xufVxuY29uc3QgRVNDQVBFID0ge1xuICBcIlxcZlwiOiBcIlxcXFxmXCIsXG4gIFwiXFxuXCI6IFwiXFxcXG5cIixcbiAgXCJcXHJcIjogXCJcXFxcclwiLFxuICBcIlx0XCI6IFwiXFxcXHRcIixcbiAgXCInXCI6IFwiXFxcXCdcIixcbiAgXCJcXFxcXCI6IFwiXFxcXFxcXFxcIlxufSwgVU5FU0NBUEUgPSB7XG4gIFwiXFxcXGZcIjogXCJcXGZcIixcbiAgXCJcXFxcblwiOiBgXG5gLFxuICBcIlxcXFxyXCI6IFwiXFxyXCIsXG4gIFwiXFxcXHRcIjogXCJcdFwiLFxuICBcIlxcXFwnXCI6IFwiJ1wiLFxuICBcIlxcXFxcXFxcXCI6IFwiXFxcXFwiXG59O1xuZnVuY3Rpb24ganNvblBhdGgocGF0aCkge1xuICByZXR1cm4gYCQke3BhdGgubWFwKChzZWdtZW50KSA9PiB0eXBlb2Ygc2VnbWVudCA9PSBcInN0cmluZ1wiID8gYFsnJHtzZWdtZW50LnJlcGxhY2UoL1tcXGZcXG5cXHJcXHQnXFxcXF0vZywgKG1hdGNoKSA9PiBFU0NBUEVbbWF0Y2hdKX0nXWAgOiB0eXBlb2Ygc2VnbWVudCA9PSBcIm51bWJlclwiID8gYFske3NlZ21lbnR9XWAgOiBzZWdtZW50Ll9rZXkgIT09IFwiXCIgPyBgWz8oQC5fa2V5PT0nJHtzZWdtZW50Ll9rZXkucmVwbGFjZSgvWydcXFxcXS9nLCAobWF0Y2gpID0+IEVTQ0FQRVttYXRjaF0pfScpXWAgOiBgWyR7c2VnbWVudC5faW5kZXh9XWApLmpvaW4oXCJcIil9YDtcbn1cbmZ1bmN0aW9uIHBhcnNlSnNvblBhdGgocGF0aCkge1xuICBjb25zdCBwYXJzZWQgPSBbXSwgcGFyc2VSZSA9IC9cXFsnKC4qPyknXFxdfFxcWyhcXGQrKVxcXXxcXFtcXD9cXChAXFwuX2tleT09JyguKj8pJ1xcKVxcXS9nO1xuICBsZXQgbWF0Y2g7XG4gIGZvciAoOyAobWF0Y2ggPSBwYXJzZVJlLmV4ZWMocGF0aCkpICE9PSBudWxsOyApIHtcbiAgICBpZiAobWF0Y2hbMV0gIT09IHZvaWQgMCkge1xuICAgICAgY29uc3Qga2V5ID0gbWF0Y2hbMV0ucmVwbGFjZSgvXFxcXChcXFxcfGZ8bnxyfHR8JykvZywgKG0pID0+IFVORVNDQVBFW21dKTtcbiAgICAgIHBhcnNlZC5wdXNoKGtleSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG1hdGNoWzJdICE9PSB2b2lkIDApIHtcbiAgICAgIHBhcnNlZC5wdXNoKHBhcnNlSW50KG1hdGNoWzJdLCAxMCkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChtYXRjaFszXSAhPT0gdm9pZCAwKSB7XG4gICAgICBjb25zdCBfa2V5ID0gbWF0Y2hbM10ucmVwbGFjZSgvXFxcXChcXFxcJykvZywgKG0pID0+IFVORVNDQVBFW21dKTtcbiAgICAgIHBhcnNlZC5wdXNoKHtcbiAgICAgICAgX2tleSxcbiAgICAgICAgX2luZGV4OiAtMVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhcnNlZDtcbn1cbmZ1bmN0aW9uIGpzb25QYXRoVG9TdHVkaW9QYXRoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgubWFwKChzZWdtZW50KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHNlZ21lbnQgPT0gXCJudW1iZXJcIilcbiAgICAgIHJldHVybiBzZWdtZW50O1xuICAgIGlmIChzZWdtZW50Ll9rZXkgIT09IFwiXCIpXG4gICAgICByZXR1cm4geyBfa2V5OiBzZWdtZW50Ll9rZXkgfTtcbiAgICBpZiAoc2VnbWVudC5faW5kZXggIT09IC0xKVxuICAgICAgcmV0dXJuIHNlZ21lbnQuX2luZGV4O1xuICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCBzZWdtZW50OiR7SlNPTi5zdHJpbmdpZnkoc2VnbWVudCl9YCk7XG4gIH0pO1xufVxuZnVuY3Rpb24ganNvblBhdGhUb01hcHBpbmdQYXRoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgubWFwKChzZWdtZW50KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHNlZ21lbnQgPT0gXCJudW1iZXJcIilcbiAgICAgIHJldHVybiBzZWdtZW50O1xuICAgIGlmIChzZWdtZW50Ll9pbmRleCAhPT0gLTEpXG4gICAgICByZXR1cm4gc2VnbWVudC5faW5kZXg7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIHNlZ21lbnQ6JHtKU09OLnN0cmluZ2lmeShzZWdtZW50KX1gKTtcbiAgfSk7XG59XG5mdW5jdGlvbiByZXNvbHZlTWFwcGluZyhyZXN1bHRQYXRoLCBjc20pIHtcbiAgaWYgKCFjc20/Lm1hcHBpbmdzKVxuICAgIHJldHVybjtcbiAgY29uc3QgcmVzdWx0TWFwcGluZ1BhdGggPSBqc29uUGF0aChqc29uUGF0aFRvTWFwcGluZ1BhdGgocmVzdWx0UGF0aCkpO1xuICBpZiAoY3NtLm1hcHBpbmdzW3Jlc3VsdE1hcHBpbmdQYXRoXSAhPT0gdm9pZCAwKVxuICAgIHJldHVybiB7XG4gICAgICBtYXBwaW5nOiBjc20ubWFwcGluZ3NbcmVzdWx0TWFwcGluZ1BhdGhdLFxuICAgICAgbWF0Y2hlZFBhdGg6IHJlc3VsdE1hcHBpbmdQYXRoLFxuICAgICAgcGF0aFN1ZmZpeDogXCJcIlxuICAgIH07XG4gIGNvbnN0IG1hcHBpbmdzID0gT2JqZWN0LmVudHJpZXMoY3NtLm1hcHBpbmdzKS5maWx0ZXIoKFtrZXldKSA9PiByZXN1bHRNYXBwaW5nUGF0aC5zdGFydHNXaXRoKGtleSkpLnNvcnQoKFtrZXkxXSwgW2tleTJdKSA9PiBrZXkyLmxlbmd0aCAtIGtleTEubGVuZ3RoKTtcbiAgaWYgKG1hcHBpbmdzLmxlbmd0aCA9PSAwKVxuICAgIHJldHVybjtcbiAgY29uc3QgW21hdGNoZWRQYXRoLCBtYXBwaW5nXSA9IG1hcHBpbmdzWzBdLCBwYXRoU3VmZml4ID0gcmVzdWx0TWFwcGluZ1BhdGguc3Vic3RyaW5nKG1hdGNoZWRQYXRoLmxlbmd0aCk7XG4gIHJldHVybiB7IG1hcHBpbmcsIG1hdGNoZWRQYXRoLCBwYXRoU3VmZml4IH07XG59XG5mdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiBBcnJheS5pc0FycmF5KHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGlzUmVjb3JkKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIHdhbGtNYXAodmFsdWUsIG1hcHBpbmdGbiwgcGF0aCA9IFtdKSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSlcbiAgICByZXR1cm4gdmFsdWUubWFwKCh2LCBpZHgpID0+IHtcbiAgICAgIGlmIChpc1JlY29yZCh2KSkge1xuICAgICAgICBjb25zdCBfa2V5ID0gdi5fa2V5O1xuICAgICAgICBpZiAodHlwZW9mIF9rZXkgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICByZXR1cm4gd2Fsa01hcCh2LCBtYXBwaW5nRm4sIHBhdGguY29uY2F0KHsgX2tleSwgX2luZGV4OiBpZHggfSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdhbGtNYXAodiwgbWFwcGluZ0ZuLCBwYXRoLmNvbmNhdChpZHgpKTtcbiAgICB9KTtcbiAgaWYgKGlzUmVjb3JkKHZhbHVlKSkge1xuICAgIGlmICh2YWx1ZS5fdHlwZSA9PT0gXCJibG9ja1wiIHx8IHZhbHVlLl90eXBlID09PSBcInNwYW5cIikge1xuICAgICAgY29uc3QgcmVzdWx0ID0geyAuLi52YWx1ZSB9O1xuICAgICAgcmV0dXJuIHZhbHVlLl90eXBlID09PSBcImJsb2NrXCIgPyByZXN1bHQuY2hpbGRyZW4gPSB3YWxrTWFwKHZhbHVlLmNoaWxkcmVuLCBtYXBwaW5nRm4sIHBhdGguY29uY2F0KFwiY2hpbGRyZW5cIikpIDogdmFsdWUuX3R5cGUgPT09IFwic3BhblwiICYmIChyZXN1bHQudGV4dCA9IHdhbGtNYXAodmFsdWUudGV4dCwgbWFwcGluZ0ZuLCBwYXRoLmNvbmNhdChcInRleHRcIikpKSwgcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgT2JqZWN0LmVudHJpZXModmFsdWUpLm1hcCgoW2ssIHZdKSA9PiBbaywgd2Fsa01hcCh2LCBtYXBwaW5nRm4sIHBhdGguY29uY2F0KGspKV0pXG4gICAgKTtcbiAgfVxuICByZXR1cm4gbWFwcGluZ0ZuKHZhbHVlLCBwYXRoKTtcbn1cbmZ1bmN0aW9uIGVuY29kZUludG9SZXN1bHQocmVzdWx0LCBjc20sIGVuY29kZXIpIHtcbiAgcmV0dXJuIHdhbGtNYXAocmVzdWx0LCAodmFsdWUsIHBhdGgpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9IFwic3RyaW5nXCIpXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgY29uc3QgcmVzb2x2ZU1hcHBpbmdSZXN1bHQgPSByZXNvbHZlTWFwcGluZyhwYXRoLCBjc20pO1xuICAgIGlmICghcmVzb2x2ZU1hcHBpbmdSZXN1bHQpXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgY29uc3QgeyBtYXBwaW5nLCBtYXRjaGVkUGF0aCB9ID0gcmVzb2x2ZU1hcHBpbmdSZXN1bHQ7XG4gICAgaWYgKG1hcHBpbmcudHlwZSAhPT0gXCJ2YWx1ZVwiIHx8IG1hcHBpbmcuc291cmNlLnR5cGUgIT09IFwiZG9jdW1lbnRWYWx1ZVwiKVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGNvbnN0IHNvdXJjZURvY3VtZW50ID0gY3NtLmRvY3VtZW50c1ttYXBwaW5nLnNvdXJjZS5kb2N1bWVudF0sIHNvdXJjZVBhdGggPSBjc20ucGF0aHNbbWFwcGluZy5zb3VyY2UucGF0aF0sIG1hdGNoUGF0aFNlZ21lbnRzID0gcGFyc2VKc29uUGF0aChtYXRjaGVkUGF0aCksIGZ1bGxTb3VyY2VTZWdtZW50cyA9IHBhcnNlSnNvblBhdGgoc291cmNlUGF0aCkuY29uY2F0KHBhdGguc2xpY2UobWF0Y2hQYXRoU2VnbWVudHMubGVuZ3RoKSk7XG4gICAgcmV0dXJuIGVuY29kZXIoe1xuICAgICAgc291cmNlUGF0aDogZnVsbFNvdXJjZVNlZ21lbnRzLFxuICAgICAgc291cmNlRG9jdW1lbnQsXG4gICAgICByZXN1bHRQYXRoOiBwYXRoLFxuICAgICAgdmFsdWVcbiAgICB9KTtcbiAgfSk7XG59XG5jb25zdCBEUkFGVFNfUFJFRklYID0gXCJkcmFmdHMuXCI7XG5mdW5jdGlvbiBnZXRQdWJsaXNoZWRJZChpZCkge1xuICByZXR1cm4gaWQuc3RhcnRzV2l0aChEUkFGVFNfUFJFRklYKSA/IGlkLnNsaWNlKERSQUZUU19QUkVGSVgubGVuZ3RoKSA6IGlkO1xufVxuZnVuY3Rpb24gY3JlYXRlRWRpdFVybChvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBiYXNlVXJsLFxuICAgIHdvcmtzcGFjZTogX3dvcmtzcGFjZSA9IFwiZGVmYXVsdFwiLFxuICAgIHRvb2w6IF90b29sID0gXCJkZWZhdWx0XCIsXG4gICAgaWQ6IF9pZCxcbiAgICB0eXBlLFxuICAgIHBhdGgsXG4gICAgcHJvamVjdElkLFxuICAgIGRhdGFzZXRcbiAgfSA9IG9wdGlvbnM7XG4gIGlmICghYmFzZVVybClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYXNlVXJsIGlzIHJlcXVpcmVkXCIpO1xuICBpZiAoIXBhdGgpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwicGF0aCBpcyByZXF1aXJlZFwiKTtcbiAgaWYgKCFfaWQpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaWQgaXMgcmVxdWlyZWRcIik7XG4gIGlmIChiYXNlVXJsICE9PSBcIi9cIiAmJiBiYXNlVXJsLmVuZHNXaXRoKFwiL1wiKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYXNlVXJsIG11c3Qgbm90IGVuZCB3aXRoIGEgc2xhc2hcIik7XG4gIGNvbnN0IHdvcmtzcGFjZSA9IF93b3Jrc3BhY2UgPT09IFwiZGVmYXVsdFwiID8gdm9pZCAwIDogX3dvcmtzcGFjZSwgdG9vbCA9IF90b29sID09PSBcImRlZmF1bHRcIiA/IHZvaWQgMCA6IF90b29sLCBpZCA9IGdldFB1Ymxpc2hlZElkKF9pZCksIHN0cmluZ2lmaWVkUGF0aCA9IEFycmF5LmlzQXJyYXkocGF0aCkgPyB0b1N0cmluZyhqc29uUGF0aFRvU3R1ZGlvUGF0aChwYXRoKSkgOiBwYXRoLCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICBiYXNlVXJsLFxuICAgIGlkLFxuICAgIHR5cGUsXG4gICAgcGF0aDogc3RyaW5naWZpZWRQYXRoXG4gIH0pO1xuICB3b3Jrc3BhY2UgJiYgc2VhcmNoUGFyYW1zLnNldChcIndvcmtzcGFjZVwiLCB3b3Jrc3BhY2UpLCB0b29sICYmIHNlYXJjaFBhcmFtcy5zZXQoXCJ0b29sXCIsIHRvb2wpLCBwcm9qZWN0SWQgJiYgc2VhcmNoUGFyYW1zLnNldChcInByb2plY3RJZFwiLCBwcm9qZWN0SWQpLCBkYXRhc2V0ICYmIHNlYXJjaFBhcmFtcy5zZXQoXCJkYXRhc2V0XCIsIGRhdGFzZXQpLCBfaWQuc3RhcnRzV2l0aChEUkFGVFNfUFJFRklYKSAmJiBzZWFyY2hQYXJhbXMuc2V0KFwiaXNEcmFmdFwiLCBcIlwiKTtcbiAgY29uc3Qgc2VnbWVudHMgPSBbYmFzZVVybCA9PT0gXCIvXCIgPyBcIlwiIDogYmFzZVVybF07XG4gIHdvcmtzcGFjZSAmJiBzZWdtZW50cy5wdXNoKHdvcmtzcGFjZSk7XG4gIGNvbnN0IHJvdXRlclBhcmFtcyA9IFtcbiAgICBcIm1vZGU9cHJlc2VudGF0aW9uXCIsXG4gICAgYGlkPSR7aWR9YCxcbiAgICBgdHlwZT0ke3R5cGV9YCxcbiAgICBgcGF0aD0ke2VuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZmllZFBhdGgpfWBcbiAgXTtcbiAgcmV0dXJuIHRvb2wgJiYgcm91dGVyUGFyYW1zLnB1c2goYHRvb2w9JHt0b29sfWApLCBzZWdtZW50cy5wdXNoKFwiaW50ZW50XCIsIFwiZWRpdFwiLCBgJHtyb3V0ZXJQYXJhbXMuam9pbihcIjtcIil9PyR7c2VhcmNoUGFyYW1zfWApLCBzZWdtZW50cy5qb2luKFwiL1wiKTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVTdHVkaW9CYXNlUm91dGUoc3R1ZGlvVXJsKSB7XG4gIGxldCBiYXNlVXJsID0gdHlwZW9mIHN0dWRpb1VybCA9PSBcInN0cmluZ1wiID8gc3R1ZGlvVXJsIDogc3R1ZGlvVXJsLmJhc2VVcmw7XG4gIHJldHVybiBiYXNlVXJsICE9PSBcIi9cIiAmJiAoYmFzZVVybCA9IGJhc2VVcmwucmVwbGFjZSgvXFwvJC8sIFwiXCIpKSwgdHlwZW9mIHN0dWRpb1VybCA9PSBcInN0cmluZ1wiID8geyBiYXNlVXJsIH0gOiB7IC4uLnN0dWRpb1VybCwgYmFzZVVybCB9O1xufVxuY29uc3QgZmlsdGVyRGVmYXVsdCA9ICh7IHNvdXJjZVBhdGgsIHJlc3VsdFBhdGgsIHZhbHVlIH0pID0+IHtcbiAgaWYgKGlzVmFsaWREYXRlKHZhbHVlKSB8fCBpc1ZhbGlkVVJMKHZhbHVlKSlcbiAgICByZXR1cm4gITE7XG4gIGNvbnN0IGVuZFBhdGggPSBzb3VyY2VQYXRoLmF0KC0xKTtcbiAgcmV0dXJuICEoc291cmNlUGF0aC5hdCgtMikgPT09IFwic2x1Z1wiICYmIGVuZFBhdGggPT09IFwiY3VycmVudFwiIHx8IHR5cGVvZiBlbmRQYXRoID09IFwic3RyaW5nXCIgJiYgKGVuZFBhdGguc3RhcnRzV2l0aChcIl9cIikgfHwgZW5kUGF0aC5lbmRzV2l0aChcIklkXCIpKSB8fCBzb3VyY2VQYXRoLnNvbWUoXG4gICAgKHBhdGgpID0+IHBhdGggPT09IFwibWV0YVwiIHx8IHBhdGggPT09IFwibWV0YWRhdGFcIiB8fCBwYXRoID09PSBcIm9wZW5HcmFwaFwiIHx8IHBhdGggPT09IFwic2VvXCJcbiAgKSB8fCBoYXNUeXBlTGlrZShzb3VyY2VQYXRoKSB8fCBoYXNUeXBlTGlrZShyZXN1bHRQYXRoKSB8fCB0eXBlb2YgZW5kUGF0aCA9PSBcInN0cmluZ1wiICYmIGRlbnlsaXN0LmhhcyhlbmRQYXRoKSk7XG59LCBkZW55bGlzdCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtcbiAgXCJjb2xvclwiLFxuICBcImNvbG91clwiLFxuICBcImN1cnJlbmN5XCIsXG4gIFwiZW1haWxcIixcbiAgXCJmb3JtYXRcIixcbiAgXCJnaWRcIixcbiAgXCJoZXhcIixcbiAgXCJocmVmXCIsXG4gIFwiaHNsXCIsXG4gIFwiaHNsYVwiLFxuICBcImljb25cIixcbiAgXCJpZFwiLFxuICBcImluZGV4XCIsXG4gIFwia2V5XCIsXG4gIFwibGFuZ3VhZ2VcIixcbiAgXCJsYXlvdXRcIixcbiAgXCJsaW5rXCIsXG4gIFwibGlua0FjdGlvblwiLFxuICBcImxvY2FsZVwiLFxuICBcImxxaXBcIixcbiAgXCJwYWdlXCIsXG4gIFwicGF0aFwiLFxuICBcInJlZlwiLFxuICBcInJnYlwiLFxuICBcInJnYmFcIixcbiAgXCJyb3V0ZVwiLFxuICBcInNlY3JldFwiLFxuICBcInNsdWdcIixcbiAgXCJzdGF0dXNcIixcbiAgXCJ0YWdcIixcbiAgXCJ0ZW1wbGF0ZVwiLFxuICBcInRoZW1lXCIsXG4gIFwidHlwZVwiLFxuICBcInRleHRUaGVtZVwiLFxuICBcInVuaXRcIixcbiAgXCJ1cmxcIixcbiAgXCJ1c2VybmFtZVwiLFxuICBcInZhcmlhbnRcIixcbiAgXCJ3ZWJzaXRlXCJcbl0pO1xuZnVuY3Rpb24gaXNWYWxpZERhdGUoZGF0ZVN0cmluZykge1xuICByZXR1cm4gL15cXGR7NH0tXFxkezJ9LVxcZHsyfS8udGVzdChkYXRlU3RyaW5nKSA/ICEhRGF0ZS5wYXJzZShkYXRlU3RyaW5nKSA6ICExO1xufVxuZnVuY3Rpb24gaXNWYWxpZFVSTCh1cmwpIHtcbiAgdHJ5IHtcbiAgICBuZXcgVVJMKHVybCwgdXJsLnN0YXJ0c1dpdGgoXCIvXCIpID8gXCJodHRwczovL2FjbWUuY29tXCIgOiB2b2lkIDApO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgcmV0dXJuICEwO1xufVxuZnVuY3Rpb24gaGFzVHlwZUxpa2UocGF0aCkge1xuICByZXR1cm4gcGF0aC5zb21lKChzZWdtZW50KSA9PiB0eXBlb2Ygc2VnbWVudCA9PSBcInN0cmluZ1wiICYmIHNlZ21lbnQubWF0Y2goL3R5cGUvaSkgIT09IG51bGwpO1xufVxuY29uc3QgVFJVTkNBVEVfTEVOR1RIID0gMjA7XG5mdW5jdGlvbiBzdGVnYUVuY29kZVNvdXJjZU1hcChyZXN1bHQsIHJlc3VsdFNvdXJjZU1hcCwgY29uZmlnKSB7XG4gIGNvbnN0IHsgZmlsdGVyLCBsb2dnZXIsIGVuYWJsZWQgfSA9IGNvbmZpZztcbiAgaWYgKCFlbmFibGVkKSB7XG4gICAgY29uc3QgbXNnID0gXCJjb25maWcuZW5hYmxlZCBtdXN0IGJlIHRydWUsIGRvbid0IGNhbGwgdGhpcyBmdW5jdGlvbiBvdGhlcndpc2VcIjtcbiAgICB0aHJvdyBsb2dnZXI/LmVycm9yPy4oYFtAc2FuaXR5L2NsaWVudF06ICR7bXNnfWAsIHsgcmVzdWx0LCByZXN1bHRTb3VyY2VNYXAsIGNvbmZpZyB9KSwgbmV3IFR5cGVFcnJvcihtc2cpO1xuICB9XG4gIGlmICghcmVzdWx0U291cmNlTWFwKVxuICAgIHJldHVybiBsb2dnZXI/LmVycm9yPy4oXCJbQHNhbml0eS9jbGllbnRdOiBNaXNzaW5nIENvbnRlbnQgU291cmNlIE1hcCBmcm9tIHJlc3BvbnNlIGJvZHlcIiwge1xuICAgICAgcmVzdWx0LFxuICAgICAgcmVzdWx0U291cmNlTWFwLFxuICAgICAgY29uZmlnXG4gICAgfSksIHJlc3VsdDtcbiAgaWYgKCFjb25maWcuc3R1ZGlvVXJsKSB7XG4gICAgY29uc3QgbXNnID0gXCJjb25maWcuc3R1ZGlvVXJsIG11c3QgYmUgZGVmaW5lZFwiO1xuICAgIHRocm93IGxvZ2dlcj8uZXJyb3I/LihgW0BzYW5pdHkvY2xpZW50XTogJHttc2d9YCwgeyByZXN1bHQsIHJlc3VsdFNvdXJjZU1hcCwgY29uZmlnIH0pLCBuZXcgVHlwZUVycm9yKG1zZyk7XG4gIH1cbiAgY29uc3QgcmVwb3J0ID0ge1xuICAgIGVuY29kZWQ6IFtdLFxuICAgIHNraXBwZWQ6IFtdXG4gIH0sIHJlc3VsdFdpdGhTdGVnYSA9IGVuY29kZUludG9SZXN1bHQoXG4gICAgcmVzdWx0LFxuICAgIHJlc3VsdFNvdXJjZU1hcCxcbiAgICAoeyBzb3VyY2VQYXRoLCBzb3VyY2VEb2N1bWVudCwgcmVzdWx0UGF0aCwgdmFsdWUgfSkgPT4ge1xuICAgICAgaWYgKCh0eXBlb2YgZmlsdGVyID09IFwiZnVuY3Rpb25cIiA/IGZpbHRlcih7IHNvdXJjZVBhdGgsIHJlc3VsdFBhdGgsIGZpbHRlckRlZmF1bHQsIHNvdXJjZURvY3VtZW50LCB2YWx1ZSB9KSA6IGZpbHRlckRlZmF1bHQoeyBzb3VyY2VQYXRoLCByZXN1bHRQYXRoLCBmaWx0ZXJEZWZhdWx0LCBzb3VyY2VEb2N1bWVudCwgdmFsdWUgfSkpID09PSAhMSlcbiAgICAgICAgcmV0dXJuIGxvZ2dlciAmJiByZXBvcnQuc2tpcHBlZC5wdXNoKHtcbiAgICAgICAgICBwYXRoOiBwcmV0dHlQYXRoRm9yTG9nZ2luZyhzb3VyY2VQYXRoKSxcbiAgICAgICAgICB2YWx1ZTogYCR7dmFsdWUuc2xpY2UoMCwgVFJVTkNBVEVfTEVOR1RIKX0ke3ZhbHVlLmxlbmd0aCA+IFRSVU5DQVRFX0xFTkdUSCA/IFwiLi4uXCIgOiBcIlwifWAsXG4gICAgICAgICAgbGVuZ3RoOiB2YWx1ZS5sZW5ndGhcbiAgICAgICAgfSksIHZhbHVlO1xuICAgICAgbG9nZ2VyICYmIHJlcG9ydC5lbmNvZGVkLnB1c2goe1xuICAgICAgICBwYXRoOiBwcmV0dHlQYXRoRm9yTG9nZ2luZyhzb3VyY2VQYXRoKSxcbiAgICAgICAgdmFsdWU6IGAke3ZhbHVlLnNsaWNlKDAsIFRSVU5DQVRFX0xFTkdUSCl9JHt2YWx1ZS5sZW5ndGggPiBUUlVOQ0FURV9MRU5HVEggPyBcIi4uLlwiIDogXCJcIn1gLFxuICAgICAgICBsZW5ndGg6IHZhbHVlLmxlbmd0aFxuICAgICAgfSk7XG4gICAgICBjb25zdCB7IGJhc2VVcmwsIHdvcmtzcGFjZSwgdG9vbCB9ID0gcmVzb2x2ZVN0dWRpb0Jhc2VSb3V0ZShcbiAgICAgICAgdHlwZW9mIGNvbmZpZy5zdHVkaW9VcmwgPT0gXCJmdW5jdGlvblwiID8gY29uZmlnLnN0dWRpb1VybChzb3VyY2VEb2N1bWVudCkgOiBjb25maWcuc3R1ZGlvVXJsXG4gICAgICApO1xuICAgICAgaWYgKCFiYXNlVXJsKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICBjb25zdCB7IF9pZDogaWQsIF90eXBlOiB0eXBlLCBfcHJvamVjdElkOiBwcm9qZWN0SWQsIF9kYXRhc2V0OiBkYXRhc2V0IH0gPSBzb3VyY2VEb2N1bWVudDtcbiAgICAgIHJldHVybiBDKFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAge1xuICAgICAgICAgIG9yaWdpbjogXCJzYW5pdHkuaW9cIixcbiAgICAgICAgICBocmVmOiBjcmVhdGVFZGl0VXJsKHtcbiAgICAgICAgICAgIGJhc2VVcmwsXG4gICAgICAgICAgICB3b3Jrc3BhY2UsXG4gICAgICAgICAgICB0b29sLFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcGF0aDogc291cmNlUGF0aCxcbiAgICAgICAgICAgIC4uLiFjb25maWcub21pdENyb3NzRGF0YXNldFJlZmVyZW5jZURhdGEgJiYgeyBkYXRhc2V0LCBwcm9qZWN0SWQgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIC8vIFdlIHVzZSBjdXN0b20gbG9naWMgdG8gZGV0ZXJtaW5lIGlmIHdlIHNob3VsZCBza2lwIGVuY29kaW5nXG4gICAgICAgICExXG4gICAgICApO1xuICAgIH1cbiAgKTtcbiAgaWYgKGxvZ2dlcikge1xuICAgIGNvbnN0IGlzU2tpcHBpbmcgPSByZXBvcnQuc2tpcHBlZC5sZW5ndGgsIGlzRW5jb2RpbmcgPSByZXBvcnQuZW5jb2RlZC5sZW5ndGg7XG4gICAgaWYgKChpc1NraXBwaW5nIHx8IGlzRW5jb2RpbmcpICYmICgobG9nZ2VyPy5ncm91cENvbGxhcHNlZCB8fCBsb2dnZXIubG9nKT8uKFwiW0BzYW5pdHkvY2xpZW50XTogRW5jb2Rpbmcgc291cmNlIG1hcCBpbnRvIHJlc3VsdFwiKSwgbG9nZ2VyLmxvZz8uKFxuICAgICAgYFtAc2FuaXR5L2NsaWVudF06IFBhdGhzIGVuY29kZWQ6ICR7cmVwb3J0LmVuY29kZWQubGVuZ3RofSwgc2tpcHBlZDogJHtyZXBvcnQuc2tpcHBlZC5sZW5ndGh9YFxuICAgICkpLCByZXBvcnQuZW5jb2RlZC5sZW5ndGggPiAwICYmIChsb2dnZXI/LmxvZz8uKFwiW0BzYW5pdHkvY2xpZW50XTogVGFibGUgb2YgZW5jb2RlZCBwYXRoc1wiKSwgKGxvZ2dlcj8udGFibGUgfHwgbG9nZ2VyLmxvZyk/LihyZXBvcnQuZW5jb2RlZCkpLCByZXBvcnQuc2tpcHBlZC5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBza2lwcGVkID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAgIGZvciAoY29uc3QgeyBwYXRoIH0gb2YgcmVwb3J0LnNraXBwZWQpXG4gICAgICAgIHNraXBwZWQuYWRkKHBhdGgucmVwbGFjZShyZUtleVNlZ21lbnQsIFwiMFwiKS5yZXBsYWNlKC9cXFtcXGQrXFxdL2csIFwiW11cIikpO1xuICAgICAgbG9nZ2VyPy5sb2c/LihcIltAc2FuaXR5L2NsaWVudF06IExpc3Qgb2Ygc2tpcHBlZCBwYXRoc1wiLCBbLi4uc2tpcHBlZC52YWx1ZXMoKV0pO1xuICAgIH1cbiAgICAoaXNTa2lwcGluZyB8fCBpc0VuY29kaW5nKSAmJiBsb2dnZXI/Lmdyb3VwRW5kPy4oKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0V2l0aFN0ZWdhO1xufVxuZnVuY3Rpb24gcHJldHR5UGF0aEZvckxvZ2dpbmcocGF0aCkge1xuICByZXR1cm4gdG9TdHJpbmcoanNvblBhdGhUb1N0dWRpb1BhdGgocGF0aCkpO1xufVxudmFyIHN0ZWdhRW5jb2RlU291cmNlTWFwJDEgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgc3RlZ2FFbmNvZGVTb3VyY2VNYXBcbn0pO1xuZXhwb3J0IHtcbiAgZW5jb2RlSW50b1Jlc3VsdCxcbiAgc3RlZ2FFbmNvZGVTb3VyY2VNYXAsXG4gIHN0ZWdhRW5jb2RlU291cmNlTWFwJDFcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGVnYUVuY29kZVNvdXJjZU1hcC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJDIiwicmVLZXlTZWdtZW50IiwiaXNLZXlTZWdtZW50Iiwic2VnbWVudCIsInRlc3QiLCJ0cmltIiwidG9TdHJpbmciLCJwYXRoIiwiQXJyYXkiLCJpc0FycmF5IiwiRXJyb3IiLCJyZWR1Y2UiLCJ0YXJnZXQiLCJpIiwic2VnbWVudFR5cGUiLCJfa2V5IiwiZnJvbSIsInRvIiwiSlNPTiIsInN0cmluZ2lmeSIsIkVTQ0FQRSIsIlVORVNDQVBFIiwianNvblBhdGgiLCJtYXAiLCJyZXBsYWNlIiwibWF0Y2giLCJfaW5kZXgiLCJqb2luIiwicGFyc2VKc29uUGF0aCIsInBhcnNlZCIsInBhcnNlUmUiLCJleGVjIiwia2V5IiwibSIsInB1c2giLCJwYXJzZUludCIsImpzb25QYXRoVG9TdHVkaW9QYXRoIiwianNvblBhdGhUb01hcHBpbmdQYXRoIiwicmVzb2x2ZU1hcHBpbmciLCJyZXN1bHRQYXRoIiwiY3NtIiwibWFwcGluZ3MiLCJyZXN1bHRNYXBwaW5nUGF0aCIsIm1hcHBpbmciLCJtYXRjaGVkUGF0aCIsInBhdGhTdWZmaXgiLCJPYmplY3QiLCJlbnRyaWVzIiwiZmlsdGVyIiwic3RhcnRzV2l0aCIsInNvcnQiLCJrZXkxIiwia2V5MiIsImxlbmd0aCIsInN1YnN0cmluZyIsInZhbHVlIiwiaXNSZWNvcmQiLCJ3YWxrTWFwIiwibWFwcGluZ0ZuIiwidiIsImlkeCIsImNvbmNhdCIsIl90eXBlIiwicmVzdWx0IiwiY2hpbGRyZW4iLCJ0ZXh0IiwiZnJvbUVudHJpZXMiLCJrIiwiZW5jb2RlSW50b1Jlc3VsdCIsImVuY29kZXIiLCJyZXNvbHZlTWFwcGluZ1Jlc3VsdCIsInR5cGUiLCJzb3VyY2UiLCJzb3VyY2VEb2N1bWVudCIsImRvY3VtZW50cyIsImRvY3VtZW50Iiwic291cmNlUGF0aCIsInBhdGhzIiwibWF0Y2hQYXRoU2VnbWVudHMiLCJmdWxsU291cmNlU2VnbWVudHMiLCJzbGljZSIsIkRSQUZUU19QUkVGSVgiLCJnZXRQdWJsaXNoZWRJZCIsImlkIiwiY3JlYXRlRWRpdFVybCIsIm9wdGlvbnMiLCJiYXNlVXJsIiwid29ya3NwYWNlIiwiX3dvcmtzcGFjZSIsInRvb2wiLCJfdG9vbCIsIl9pZCIsInByb2plY3RJZCIsImRhdGFzZXQiLCJlbmRzV2l0aCIsInN0cmluZ2lmaWVkUGF0aCIsInNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInNldCIsInNlZ21lbnRzIiwicm91dGVyUGFyYW1zIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVzb2x2ZVN0dWRpb0Jhc2VSb3V0ZSIsInN0dWRpb1VybCIsImZpbHRlckRlZmF1bHQiLCJpc1ZhbGlkRGF0ZSIsImlzVmFsaWRVUkwiLCJlbmRQYXRoIiwiYXQiLCJzb21lIiwiaGFzVHlwZUxpa2UiLCJkZW55bGlzdCIsImhhcyIsIlNldCIsImRhdGVTdHJpbmciLCJEYXRlIiwicGFyc2UiLCJ1cmwiLCJVUkwiLCJUUlVOQ0FURV9MRU5HVEgiLCJzdGVnYUVuY29kZVNvdXJjZU1hcCIsInJlc3VsdFNvdXJjZU1hcCIsImNvbmZpZyIsImxvZ2dlciIsImVuYWJsZWQiLCJtc2ciLCJlcnJvciIsIlR5cGVFcnJvciIsInJlcG9ydCIsImVuY29kZWQiLCJza2lwcGVkIiwicmVzdWx0V2l0aFN0ZWdhIiwicHJldHR5UGF0aEZvckxvZ2dpbmciLCJfcHJvamVjdElkIiwiX2RhdGFzZXQiLCJvcmlnaW4iLCJocmVmIiwib21pdENyb3NzRGF0YXNldFJlZmVyZW5jZURhdGEiLCJpc1NraXBwaW5nIiwiaXNFbmNvZGluZyIsImdyb3VwQ29sbGFwc2VkIiwibG9nIiwidGFibGUiLCJhZGQiLCJ2YWx1ZXMiLCJncm91cEVuZCIsInN0ZWdhRW5jb2RlU291cmNlTWFwJDEiLCJmcmVlemUiLCJfX3Byb3RvX18iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/client/dist/_chunks-es/stegaEncodeSourceMap.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@sanity/client/dist/index.js":
/*!***************************************************!*\
  !*** ./node_modules/@sanity/client/dist/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePatch: () => (/* binding */ BasePatch),\n/* harmony export */   BaseTransaction: () => (/* binding */ BaseTransaction),\n/* harmony export */   ClientError: () => (/* binding */ ClientError),\n/* harmony export */   CorsOriginError: () => (/* binding */ CorsOriginError),\n/* harmony export */   ObservablePatch: () => (/* binding */ ObservablePatch),\n/* harmony export */   ObservableSanityClient: () => (/* binding */ ObservableSanityClient),\n/* harmony export */   ObservableTransaction: () => (/* binding */ ObservableTransaction),\n/* harmony export */   Patch: () => (/* binding */ Patch),\n/* harmony export */   SanityClient: () => (/* binding */ SanityClient),\n/* harmony export */   ServerError: () => (/* binding */ ServerError),\n/* harmony export */   Transaction: () => (/* binding */ Transaction),\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   \"default\": () => (/* binding */ deprecatedCreateClient),\n/* harmony export */   requester: () => (/* binding */ requester),\n/* harmony export */   unstable__adapter: () => (/* reexport safe */ get_it__WEBPACK_IMPORTED_MODULE_7__.a),\n/* harmony export */   unstable__environment: () => (/* reexport safe */ get_it__WEBPACK_IMPORTED_MODULE_0__.environment),\n/* harmony export */   validateApiPerspective: () => (/* binding */ validateApiPerspective)\n/* harmony export */ });\n/* harmony import */ var get_it__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! get-it */ \"(ssr)/./node_modules/get-it/dist/index.js\");\n/* harmony import */ var get_it__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! get-it */ \"(ssr)/./node_modules/get-it/dist/_chunks-es/node-request.js\");\n/* harmony import */ var get_it_middleware__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! get-it/middleware */ \"(ssr)/./node_modules/get-it/dist/middleware.js\");\n/* harmony import */ var _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=Observable,from,lastValueFrom!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/Observable.js\");\n/* harmony import */ var _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Observable,from,lastValueFrom!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/from.js\");\n/* harmony import */ var _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Observable,from,lastValueFrom!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/lastValueFrom.js\");\n/* harmony import */ var _chunks_es_stegaClean_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./_chunks-es/stegaClean.js */ \"(ssr)/./node_modules/@sanity/client/dist/_chunks-es/stegaClean.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ \"(ssr)/./node_modules/rxjs/dist/cjs/operators/index.js\");\n\n\n\n\n\n\nclass ClientError extends Error {\n    constructor(res){\n        const props = extractErrorProps(res);\n        var _temp;\n        _temp = super(props.message), this.statusCode = 400, _temp, Object.assign(this, props);\n    }\n}\nclass ServerError extends Error {\n    constructor(res){\n        const props = extractErrorProps(res);\n        var _temp;\n        _temp = super(props.message), this.statusCode = 500, _temp, Object.assign(this, props);\n    }\n}\nfunction extractErrorProps(res) {\n    const body = res.body, props = {\n        response: res,\n        statusCode: res.statusCode,\n        responseBody: stringifyBody(body, res),\n        message: \"\",\n        details: void 0\n    };\n    if (body.error && body.message) return props.message = `${body.error} - ${body.message}`, props;\n    if (isMutationError(body) || isActionError(body)) {\n        const allItems = body.error.items || [], items = allItems.slice(0, 5).map((item)=>item.error?.description).filter(Boolean);\n        let itemsStr = items.length ? `:\n- ${items.join(`\n- `)}` : \"\";\n        return allItems.length > 5 && (itemsStr += `\n...and ${allItems.length - 5} more`), props.message = `${body.error.description}${itemsStr}`, props.details = body.error, props;\n    }\n    return body.error && body.error.description ? (props.message = body.error.description, props.details = body.error, props) : (props.message = body.error || body.message || httpErrorMessage(res), props);\n}\nfunction isMutationError(body) {\n    return isPlainObject(body) && isPlainObject(body.error) && body.error.type === \"mutationError\" && typeof body.error.description == \"string\";\n}\nfunction isActionError(body) {\n    return isPlainObject(body) && isPlainObject(body.error) && body.error.type === \"actionError\" && typeof body.error.description == \"string\";\n}\nfunction isPlainObject(obj) {\n    return typeof obj == \"object\" && obj !== null && !Array.isArray(obj);\n}\nfunction httpErrorMessage(res) {\n    const statusMessage = res.statusMessage ? ` ${res.statusMessage}` : \"\";\n    return `${res.method}-request to ${res.url} resulted in HTTP ${res.statusCode}${statusMessage}`;\n}\nfunction stringifyBody(body, res) {\n    return (res.headers[\"content-type\"] || \"\").toLowerCase().indexOf(\"application/json\") !== -1 ? JSON.stringify(body, null, 2) : body;\n}\nclass CorsOriginError extends Error {\n    constructor({ projectId: projectId2 }){\n        super(\"CorsOriginError\"), this.name = \"CorsOriginError\", this.projectId = projectId2;\n        const url = new URL(`https://sanity.io/manage/project/${projectId2}/api`);\n        if (typeof location < \"u\") {\n            const { origin } = location;\n            url.searchParams.set(\"cors\", \"add\"), url.searchParams.set(\"origin\", origin), this.addOriginUrl = url, this.message = `The current origin is not allowed to connect to the Live Content API. Add it here: ${url}`;\n        } else this.message = `The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${url}`;\n    }\n}\nconst httpError = {\n    onResponse: (res)=>{\n        if (res.statusCode >= 500) throw new ServerError(res);\n        if (res.statusCode >= 400) throw new ClientError(res);\n        return res;\n    }\n}, printWarnings = {\n    onResponse: (res)=>{\n        const warn = res.headers[\"x-sanity-warning\"];\n        return (Array.isArray(warn) ? warn : [\n            warn\n        ]).filter(Boolean).forEach((msg)=>console.warn(msg)), res;\n    }\n};\nfunction defineHttpRequest(envMiddleware) {\n    return (0,get_it__WEBPACK_IMPORTED_MODULE_0__.getIt)([\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.retry)({\n            shouldRetry\n        }),\n        ...envMiddleware,\n        printWarnings,\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.jsonRequest)(),\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.jsonResponse)(),\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.progress)(),\n        httpError,\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.observable)({\n            implementation: _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable\n        })\n    ]);\n}\nfunction shouldRetry(err, attempt, options) {\n    if (options.maxRetries === 0) return !1;\n    const isSafe = options.method === \"GET\" || options.method === \"HEAD\", isQuery = (options.uri || options.url).startsWith(\"/data/query\"), isRetriableResponse = err.response && (err.response.statusCode === 429 || err.response.statusCode === 502 || err.response.statusCode === 503);\n    return (isSafe || isQuery) && isRetriableResponse ? !0 : get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.retry.shouldRetry(err, attempt, options);\n}\nconst BASE_URL = \"https://www.sanity.io/help/\";\nfunction generateHelpUrl(slug) {\n    return BASE_URL + slug;\n}\nconst VALID_ASSET_TYPES = [\n    \"image\",\n    \"file\"\n], VALID_INSERT_LOCATIONS = [\n    \"before\",\n    \"after\",\n    \"replace\"\n], dataset = (name2)=>{\n    if (!/^(~[a-z0-9]{1}[-\\w]{0,63}|[a-z0-9]{1}[-\\w]{0,63})$/.test(name2)) throw new Error(\"Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters\");\n}, projectId = (id)=>{\n    if (!/^[-a-z0-9]+$/i.test(id)) throw new Error(\"`projectId` can only contain only a-z, 0-9 and dashes\");\n}, validateAssetType = (type)=>{\n    if (VALID_ASSET_TYPES.indexOf(type) === -1) throw new Error(`Invalid asset type: ${type}. Must be one of ${VALID_ASSET_TYPES.join(\", \")}`);\n}, validateObject = (op, val)=>{\n    if (val === null || typeof val != \"object\" || Array.isArray(val)) throw new Error(`${op}() takes an object of properties`);\n}, validateDocumentId = (op, id)=>{\n    if (typeof id != \"string\" || !/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(id) || id.includes(\"..\")) throw new Error(`${op}(): \"${id}\" is not a valid document ID`);\n}, requireDocumentId = (op, doc)=>{\n    if (!doc._id) throw new Error(`${op}() requires that the document contains an ID (\"_id\" property)`);\n    validateDocumentId(op, doc._id);\n}, validateInsert = (at, selector, items)=>{\n    const signature = \"insert(at, selector, items)\";\n    if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n        const valid = VALID_INSERT_LOCATIONS.map((loc)=>`\"${loc}\"`).join(\", \");\n        throw new Error(`${signature} takes an \"at\"-argument which is one of: ${valid}`);\n    }\n    if (typeof selector != \"string\") throw new Error(`${signature} takes a \"selector\"-argument which must be a string`);\n    if (!Array.isArray(items)) throw new Error(`${signature} takes an \"items\"-argument which must be an array`);\n}, hasDataset = (config)=>{\n    if (!config.dataset) throw new Error(\"`dataset` must be provided to perform queries\");\n    return config.dataset || \"\";\n}, requestTag = (tag)=>{\n    if (typeof tag != \"string\" || !/^[a-z0-9._-]{1,75}$/i.test(tag)) throw new Error(\"Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.\");\n    return tag;\n};\nfunction once(fn) {\n    let didCall = !1, returnValue;\n    return (...args)=>(didCall || (returnValue = fn(...args), didCall = !0), returnValue);\n}\nconst createWarningPrinter = (message)=>// eslint-disable-next-line no-console\n    once((...args)=>console.warn(message.join(\" \"), ...args)), printCdnAndWithCredentialsWarning = createWarningPrinter([\n    \"Because you set `withCredentials` to true, we will override your `useCdn`\",\n    \"setting to be false since (cookie-based) credentials are never set on the CDN\"\n]), printCdnWarning = createWarningPrinter([\n    \"Since you haven't set a value for `useCdn`, we will deliver content using our\",\n    \"global, edge-cached API-CDN. If you wish to have content delivered faster, set\",\n    \"`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API.\"\n]), printCdnPreviewDraftsWarning = createWarningPrinter([\n    \"The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.\",\n    \"The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning.\"\n]), printBrowserTokenWarning = createWarningPrinter([\n    \"You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.\",\n    `See ${generateHelpUrl(\"js-client-browser-token\")} for more information and how to hide this warning.`\n]), printNoApiVersionSpecifiedWarning = createWarningPrinter([\n    \"Using the Sanity client without specifying an API version is deprecated.\",\n    `See ${generateHelpUrl(\"js-client-api-version\")}`\n]), printNoDefaultExport = createWarningPrinter([\n    \"The default export of @sanity/client has been deprecated. Use the named export `createClient` instead.\"\n]), defaultCdnHost = \"apicdn.sanity.io\", defaultConfig = {\n    apiHost: \"https://api.sanity.io\",\n    apiVersion: \"1\",\n    useProjectHostname: !0,\n    stega: {\n        enabled: !1\n    }\n}, LOCALHOSTS = [\n    \"localhost\",\n    \"127.0.0.1\",\n    \"0.0.0.0\"\n], isLocal = (host)=>LOCALHOSTS.indexOf(host) !== -1;\nfunction validateApiVersion(apiVersion) {\n    if (apiVersion === \"1\" || apiVersion === \"X\") return;\n    const apiDate = new Date(apiVersion);\n    if (!(/^\\d{4}-\\d{2}-\\d{2}$/.test(apiVersion) && apiDate instanceof Date && apiDate.getTime() > 0)) throw new Error(\"Invalid API version string, expected `1` or date in format `YYYY-MM-DD`\");\n}\nfunction validateApiPerspective(perspective) {\n    if (Array.isArray(perspective)) {\n        for (const perspectiveValue of perspective)if (perspectiveValue !== \"published\" && perspectiveValue !== \"drafts\" && !(typeof perspectiveValue == \"string\" && perspectiveValue.startsWith(\"r\") && perspectiveValue !== \"raw\")) throw new TypeError(\"Invalid API perspective value, expected `published`, `drafts` or a valid release identifier string\");\n        return;\n    }\n    switch(perspective){\n        case \"previewDrafts\":\n        case \"drafts\":\n        case \"published\":\n        case \"raw\":\n            return;\n        default:\n            throw new TypeError(\"Invalid API perspective string, expected `published`, `previewDrafts` or `raw`\");\n    }\n}\nconst initConfig = (config, prevConfig)=>{\n    const specifiedConfig = {\n        ...prevConfig,\n        ...config,\n        stega: {\n            ...typeof prevConfig.stega == \"boolean\" ? {\n                enabled: prevConfig.stega\n            } : prevConfig.stega || defaultConfig.stega,\n            ...typeof config.stega == \"boolean\" ? {\n                enabled: config.stega\n            } : config.stega || {}\n        }\n    };\n    specifiedConfig.apiVersion || printNoApiVersionSpecifiedWarning();\n    const newConfig = {\n        ...defaultConfig,\n        ...specifiedConfig\n    }, projectBased = newConfig.useProjectHostname;\n    if (typeof Promise > \"u\") {\n        const helpUrl = generateHelpUrl(\"js-client-promise-polyfill\");\n        throw new Error(`No native Promise-implementation found, polyfill needed - see ${helpUrl}`);\n    }\n    if (projectBased && !newConfig.projectId) throw new Error(\"Configuration must contain `projectId`\");\n    if (typeof newConfig.perspective < \"u\" && validateApiPerspective(newConfig.perspective), \"encodeSourceMap\" in newConfig) throw new Error(\"It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?\");\n    if (\"encodeSourceMapAtPath\" in newConfig) throw new Error(\"It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?\");\n    if (typeof newConfig.stega.enabled != \"boolean\") throw new Error(`stega.enabled must be a boolean, received ${newConfig.stega.enabled}`);\n    if (newConfig.stega.enabled && newConfig.stega.studioUrl === void 0) throw new Error(\"stega.studioUrl must be defined when stega.enabled is true\");\n    if (newConfig.stega.enabled && typeof newConfig.stega.studioUrl != \"string\" && typeof newConfig.stega.studioUrl != \"function\") throw new Error(`stega.studioUrl must be a string or a function, received ${newConfig.stega.studioUrl}`);\n    const isBrowser =  false && 0, isLocalhost = isBrowser && isLocal(window.location.hostname);\n    isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== !0 ? printBrowserTokenWarning() : typeof newConfig.useCdn > \"u\" && printCdnWarning(), projectBased && projectId(newConfig.projectId), newConfig.dataset && dataset(newConfig.dataset), \"requestTagPrefix\" in newConfig && (newConfig.requestTagPrefix = newConfig.requestTagPrefix ? requestTag(newConfig.requestTagPrefix).replace(/\\.+$/, \"\") : void 0), newConfig.apiVersion = `${newConfig.apiVersion}`.replace(/^v/, \"\"), newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost, newConfig.useCdn === !0 && newConfig.withCredentials && printCdnAndWithCredentialsWarning(), newConfig.useCdn = newConfig.useCdn !== !1 && !newConfig.withCredentials, validateApiVersion(newConfig.apiVersion);\n    const hostParts = newConfig.apiHost.split(\"://\", 2), protocol = hostParts[0], host = hostParts[1], cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n    return newConfig.useProjectHostname ? (newConfig.url = `${protocol}://${newConfig.projectId}.${host}/v${newConfig.apiVersion}`, newConfig.cdnUrl = `${protocol}://${newConfig.projectId}.${cdnHost}/v${newConfig.apiVersion}`) : (newConfig.url = `${newConfig.apiHost}/v${newConfig.apiVersion}`, newConfig.cdnUrl = newConfig.url), newConfig;\n};\nfunction getSelection(sel) {\n    if (typeof sel == \"string\") return {\n        id: sel\n    };\n    if (Array.isArray(sel)) return {\n        query: \"*[_id in $ids]\",\n        params: {\n            ids: sel\n        }\n    };\n    if (typeof sel == \"object\" && sel !== null && \"query\" in sel && typeof sel.query == \"string\") return \"params\" in sel && typeof sel.params == \"object\" && sel.params !== null ? {\n        query: sel.query,\n        params: sel.params\n    } : {\n        query: sel.query\n    };\n    const selectionOpts = [\n        \"* Document ID (<docId>)\",\n        \"* Array of document IDs\",\n        \"* Object containing `query`\"\n    ].join(`\n`);\n    throw new Error(`Unknown selection - must be one of:\n\n${selectionOpts}`);\n}\nclass BasePatch {\n    constructor(selection, operations = {}){\n        this.selection = selection, this.operations = operations;\n    }\n    /**\n   * Sets the given attributes to the document. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */ set(attrs) {\n        return this._assign(\"set\", attrs);\n    }\n    /**\n   * Sets the given attributes to the document if they are not currently set. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */ setIfMissing(attrs) {\n        return this._assign(\"setIfMissing\", attrs);\n    }\n    /**\n   * Performs a \"diff-match-patch\" operation on the string attributes provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to perform operation on. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"dmp\"\\}\n   */ diffMatchPatch(attrs) {\n        return validateObject(\"diffMatchPatch\", attrs), this._assign(\"diffMatchPatch\", attrs);\n    }\n    /**\n   * Unsets the attribute paths provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attribute paths to unset.\n   */ unset(attrs) {\n        if (!Array.isArray(attrs)) throw new Error(\"unset(attrs) takes an array of attributes to unset, non-array given\");\n        return this.operations = Object.assign({}, this.operations, {\n            unset: attrs\n        }), this;\n    }\n    /**\n   * Increment a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to increment, values representing the number to increment by.\n   */ inc(attrs) {\n        return this._assign(\"inc\", attrs);\n    }\n    /**\n   * Decrement a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to decrement, values representing the number to decrement by.\n   */ dec(attrs) {\n        return this._assign(\"dec\", attrs);\n    }\n    /**\n   * Provides methods for modifying arrays, by inserting, appending and replacing elements via a JSONPath expression.\n   *\n   * @param at - Location to insert at, relative to the given selector, or 'replace' the matched path\n   * @param selector - JSONPath expression, eg `comments[-1]` or `blocks[_key==\"abc123\"]`\n   * @param items - Array of items to insert/replace\n   */ insert(at, selector, items) {\n        return validateInsert(at, selector, items), this._assign(\"insert\", {\n            [at]: selector,\n            items\n        });\n    }\n    /**\n   * Append the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to append to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to append to the array\n   */ append(selector, items) {\n        return this.insert(\"after\", `${selector}[-1]`, items);\n    }\n    /**\n   * Prepend the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to prepend to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to prepend to the array\n   */ prepend(selector, items) {\n        return this.insert(\"before\", `${selector}[0]`, items);\n    }\n    /**\n   * Change the contents of an array by removing existing elements and/or adding new elements.\n   *\n   * @param selector - Attribute or JSONPath expression for array\n   * @param start - Index at which to start changing the array (with origin 0). If greater than the length of the array, actual starting index will be set to the length of the array. If negative, will begin that many elements from the end of the array (with origin -1) and will be set to 0 if absolute value is greater than the length of the array.x\n   * @param deleteCount - An integer indicating the number of old array elements to remove.\n   * @param items - The elements to add to the array, beginning at the start index. If you don't specify any elements, splice() will only remove elements from the array.\n   */ splice(selector, start, deleteCount, items) {\n        const delAll = typeof deleteCount > \"u\" || deleteCount === -1, startIndex = start < 0 ? start - 1 : start, delCount = delAll ? -1 : Math.max(0, start + deleteCount), delRange = startIndex < 0 && delCount >= 0 ? \"\" : delCount, rangeSelector = `${selector}[${startIndex}:${delRange}]`;\n        return this.insert(\"replace\", rangeSelector, items || []);\n    }\n    /**\n   * Adds a revision clause, preventing the document from being patched if the `_rev` property does not match the given value\n   *\n   * @param rev - Revision to lock the patch to\n   */ ifRevisionId(rev) {\n        return this.operations.ifRevisionID = rev, this;\n    }\n    /**\n   * Return a plain JSON representation of the patch\n   */ serialize() {\n        return {\n            ...getSelection(this.selection),\n            ...this.operations\n        };\n    }\n    /**\n   * Return a plain JSON representation of the patch\n   */ toJSON() {\n        return this.serialize();\n    }\n    /**\n   * Clears the patch of all operations\n   */ reset() {\n        return this.operations = {}, this;\n    }\n    _assign(op, props, merge = !0) {\n        return validateObject(op, props), this.operations = Object.assign({}, this.operations, {\n            [op]: Object.assign({}, merge && this.operations[op] || {}, props)\n        }), this;\n    }\n    _set(op, props) {\n        return this._assign(op, props, !1);\n    }\n}\nclass ObservablePatch extends BasePatch {\n    #client;\n    constructor(selection, operations, client){\n        super(selection, operations), this.#client = client;\n    }\n    /**\n   * Clones the patch\n   */ clone() {\n        return new ObservablePatch(this.selection, {\n            ...this.operations\n        }, this.#client);\n    }\n    commit(options) {\n        if (!this.#client) throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n        const returnFirst = typeof this.selection == \"string\", opts = Object.assign({\n            returnFirst,\n            returnDocuments: !0\n        }, options);\n        return this.#client.mutate({\n            patch: this.serialize()\n        }, opts);\n    }\n}\nclass Patch extends BasePatch {\n    #client;\n    constructor(selection, operations, client){\n        super(selection, operations), this.#client = client;\n    }\n    /**\n   * Clones the patch\n   */ clone() {\n        return new Patch(this.selection, {\n            ...this.operations\n        }, this.#client);\n    }\n    commit(options) {\n        if (!this.#client) throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n        const returnFirst = typeof this.selection == \"string\", opts = Object.assign({\n            returnFirst,\n            returnDocuments: !0\n        }, options);\n        return this.#client.mutate({\n            patch: this.serialize()\n        }, opts);\n    }\n}\nconst defaultMutateOptions = {\n    returnDocuments: !1\n};\nclass BaseTransaction {\n    constructor(operations = [], transactionId){\n        this.operations = operations, this.trxId = transactionId;\n    }\n    /**\n   * Creates a new Sanity document. If `_id` is provided and already exists, the mutation will fail. If no `_id` is given, one will automatically be generated by the database.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create. Requires a `_type` property.\n   */ create(doc) {\n        return validateObject(\"create\", doc), this._add({\n            create: doc\n        });\n    }\n    /**\n   * Creates a new Sanity document. If a document with the same `_id` already exists, the create operation will be ignored.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create if it does not already exist. Requires `_id` and `_type` properties.\n   */ createIfNotExists(doc) {\n        const op = \"createIfNotExists\";\n        return validateObject(op, doc), requireDocumentId(op, doc), this._add({\n            [op]: doc\n        });\n    }\n    /**\n   * Creates a new Sanity document, or replaces an existing one if the same `_id` is already used.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create or replace. Requires `_id` and `_type` properties.\n   */ createOrReplace(doc) {\n        const op = \"createOrReplace\";\n        return validateObject(op, doc), requireDocumentId(op, doc), this._add({\n            [op]: doc\n        });\n    }\n    /**\n   * Deletes the document with the given document ID\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param documentId - Document ID to delete\n   */ delete(documentId) {\n        return validateDocumentId(\"delete\", documentId), this._add({\n            delete: {\n                id: documentId\n            }\n        });\n    }\n    transactionId(id) {\n        return id ? (this.trxId = id, this) : this.trxId;\n    }\n    /**\n   * Return a plain JSON representation of the transaction\n   */ serialize() {\n        return [\n            ...this.operations\n        ];\n    }\n    /**\n   * Return a plain JSON representation of the transaction\n   */ toJSON() {\n        return this.serialize();\n    }\n    /**\n   * Clears the transaction of all operations\n   */ reset() {\n        return this.operations = [], this;\n    }\n    _add(mut) {\n        return this.operations.push(mut), this;\n    }\n}\nclass Transaction extends BaseTransaction {\n    #client;\n    constructor(operations, client, transactionId){\n        super(operations, transactionId), this.#client = client;\n    }\n    /**\n   * Clones the transaction\n   */ clone() {\n        return new Transaction([\n            ...this.operations\n        ], this.#client, this.trxId);\n    }\n    commit(options) {\n        if (!this.#client) throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n        return this.#client.mutate(this.serialize(), Object.assign({\n            transactionId: this.trxId\n        }, defaultMutateOptions, options || {}));\n    }\n    patch(patchOrDocumentId, patchOps) {\n        const isBuilder = typeof patchOps == \"function\";\n        if (typeof patchOrDocumentId != \"string\" && patchOrDocumentId instanceof Patch) return this._add({\n            patch: patchOrDocumentId.serialize()\n        });\n        if (isBuilder) {\n            const patch = patchOps(new Patch(patchOrDocumentId, {}, this.#client));\n            if (!(patch instanceof Patch)) throw new Error(\"function passed to `patch()` must return the patch\");\n            return this._add({\n                patch: patch.serialize()\n            });\n        }\n        return this._add({\n            patch: {\n                id: patchOrDocumentId,\n                ...patchOps\n            }\n        });\n    }\n}\nclass ObservableTransaction extends BaseTransaction {\n    #client;\n    constructor(operations, client, transactionId){\n        super(operations, transactionId), this.#client = client;\n    }\n    /**\n   * Clones the transaction\n   */ clone() {\n        return new ObservableTransaction([\n            ...this.operations\n        ], this.#client, this.trxId);\n    }\n    commit(options) {\n        if (!this.#client) throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n        return this.#client.mutate(this.serialize(), Object.assign({\n            transactionId: this.trxId\n        }, defaultMutateOptions, options || {}));\n    }\n    patch(patchOrDocumentId, patchOps) {\n        const isBuilder = typeof patchOps == \"function\";\n        if (typeof patchOrDocumentId != \"string\" && patchOrDocumentId instanceof ObservablePatch) return this._add({\n            patch: patchOrDocumentId.serialize()\n        });\n        if (isBuilder) {\n            const patch = patchOps(new ObservablePatch(patchOrDocumentId, {}, this.#client));\n            if (!(patch instanceof ObservablePatch)) throw new Error(\"function passed to `patch()` must return the patch\");\n            return this._add({\n                patch: patch.serialize()\n            });\n        }\n        return this._add({\n            patch: {\n                id: patchOrDocumentId,\n                ...patchOps\n            }\n        });\n    }\n}\nconst projectHeader = \"X-Sanity-Project-ID\";\nfunction requestOptions(config, overrides = {}) {\n    const headers2 = {}, token = overrides.token || config.token;\n    token && (headers2.Authorization = `Bearer ${token}`), !overrides.useGlobalApi && !config.useProjectHostname && config.projectId && (headers2[projectHeader] = config.projectId);\n    const withCredentials = !!(typeof overrides.withCredentials > \"u\" ? config.token || config.withCredentials : overrides.withCredentials), timeout = typeof overrides.timeout > \"u\" ? config.timeout : overrides.timeout;\n    return Object.assign({}, overrides, {\n        headers: Object.assign({}, headers2, overrides.headers || {}),\n        timeout: typeof timeout > \"u\" ? 5 * 60 * 1e3 : timeout,\n        proxy: overrides.proxy || config.proxy,\n        json: !0,\n        withCredentials,\n        fetch: typeof overrides.fetch == \"object\" && typeof config.fetch == \"object\" ? {\n            ...config.fetch,\n            ...overrides.fetch\n        } : overrides.fetch || config.fetch\n    });\n}\nconst encodeQueryString = ({ query, params = {}, options = {} })=>{\n    const searchParams = new URLSearchParams(), { tag, includeMutations, returnQuery, ...opts } = options;\n    tag && searchParams.append(\"tag\", tag), searchParams.append(\"query\", query);\n    for (const [key, value] of Object.entries(params))searchParams.append(`$${key}`, JSON.stringify(value));\n    for (const [key, value] of Object.entries(opts))value && searchParams.append(key, `${value}`);\n    return returnQuery === !1 && searchParams.append(\"returnQuery\", \"false\"), includeMutations === !1 && searchParams.append(\"includeMutations\", \"false\"), `?${searchParams}`;\n}, excludeFalsey = (param, defValue)=>param === !1 ? void 0 : typeof param > \"u\" ? defValue : param, getMutationQuery = (options = {})=>({\n        dryRun: options.dryRun,\n        returnIds: !0,\n        returnDocuments: excludeFalsey(options.returnDocuments, !0),\n        visibility: options.visibility || \"sync\",\n        autoGenerateArrayKeys: options.autoGenerateArrayKeys,\n        skipCrossDatasetReferenceValidation: options.skipCrossDatasetReferenceValidation\n    }), isResponse = (event)=>event.type === \"response\", getBody = (event)=>event.body, indexBy = (docs, attr)=>docs.reduce((indexed, doc)=>(indexed[attr(doc)] = doc, indexed), /* @__PURE__ */ Object.create(null)), getQuerySizeLimit = 11264;\nfunction _fetch(client, httpRequest, _stega, query, _params = {}, options = {}) {\n    const stega = \"stega\" in options ? {\n        ..._stega || {},\n        ...typeof options.stega == \"boolean\" ? {\n            enabled: options.stega\n        } : options.stega || {}\n    } : _stega, params = stega.enabled ? (0,_chunks_es_stegaClean_js__WEBPACK_IMPORTED_MODULE_3__.stegaClean)(_params) : _params, mapResponse = options.filterResponse === !1 ? (res)=>res : (res)=>res.result, { cache, next, ...opts } = {\n        // Opt out of setting a `signal` on an internal `fetch` if one isn't provided.\n        // This is necessary in React Server Components to avoid opting out of Request Memoization.\n        useAbortSignal: typeof options.signal < \"u\",\n        // Set `resultSourceMap' when stega is enabled, as it's required for encoding.\n        resultSourceMap: stega.enabled ? \"withKeyArraySelector\" : options.resultSourceMap,\n        ...options,\n        // Default to not returning the query, unless `filterResponse` is `false`,\n        // or `returnQuery` is explicitly set. `true` is the default in Content Lake, so skip if truthy\n        returnQuery: options.filterResponse === !1 && options.returnQuery !== !1\n    }, reqOpts = typeof cache < \"u\" || typeof next < \"u\" ? {\n        ...opts,\n        fetch: {\n            cache,\n            next\n        }\n    } : opts, $request = _dataRequest(client, httpRequest, \"query\", {\n        query,\n        params\n    }, reqOpts);\n    return stega.enabled ? $request.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.combineLatestWith)((0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.from)(__webpack_require__.e(/*! import() */ \"vendor-chunks/@sanity\").then(__webpack_require__.bind(__webpack_require__, /*! ./_chunks-es/stegaEncodeSourceMap.js */ \"(ssr)/./node_modules/@sanity/client/dist/_chunks-es/stegaEncodeSourceMap.js\")).then(function(n) {\n        return n.stegaEncodeSourceMap$1;\n    }).then(({ stegaEncodeSourceMap })=>stegaEncodeSourceMap))), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(([res, stegaEncodeSourceMap])=>{\n        const result = stegaEncodeSourceMap(res.result, res.resultSourceMap, stega);\n        return mapResponse({\n            ...res,\n            result\n        });\n    })) : $request.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(mapResponse));\n}\nfunction _getDocument(client, httpRequest, id, opts = {}) {\n    const options = {\n        uri: _getDataUrl(client, \"doc\", id),\n        json: !0,\n        tag: opts.tag,\n        signal: opts.signal\n    };\n    return _requestObservable(client, httpRequest, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.filter)(isResponse), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)((event)=>event.body.documents && event.body.documents[0]));\n}\nfunction _getDocuments(client, httpRequest, ids, opts = {}) {\n    const options = {\n        uri: _getDataUrl(client, \"doc\", ids.join(\",\")),\n        json: !0,\n        tag: opts.tag,\n        signal: opts.signal\n    };\n    return _requestObservable(client, httpRequest, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.filter)(isResponse), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)((event)=>{\n        const indexed = indexBy(event.body.documents || [], (doc)=>doc._id);\n        return ids.map((id)=>indexed[id] || null);\n    }));\n}\nfunction _createIfNotExists(client, httpRequest, doc, options) {\n    return requireDocumentId(\"createIfNotExists\", doc), _create(client, httpRequest, doc, \"createIfNotExists\", options);\n}\nfunction _createOrReplace(client, httpRequest, doc, options) {\n    return requireDocumentId(\"createOrReplace\", doc), _create(client, httpRequest, doc, \"createOrReplace\", options);\n}\nfunction _delete(client, httpRequest, selection, options) {\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: [\n            {\n                delete: getSelection(selection)\n            }\n        ]\n    }, options);\n}\nfunction _mutate(client, httpRequest, mutations, options) {\n    let mut;\n    mutations instanceof Patch || mutations instanceof ObservablePatch ? mut = {\n        patch: mutations.serialize()\n    } : mutations instanceof Transaction || mutations instanceof ObservableTransaction ? mut = mutations.serialize() : mut = mutations;\n    const muts = Array.isArray(mut) ? mut : [\n        mut\n    ], transactionId = options && options.transactionId || void 0;\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: muts,\n        transactionId\n    }, options);\n}\nfunction _action(client, httpRequest, actions, options) {\n    const acts = Array.isArray(actions) ? actions : [\n        actions\n    ], transactionId = options && options.transactionId || void 0, skipCrossDatasetReferenceValidation = options && options.skipCrossDatasetReferenceValidation || void 0, dryRun = options && options.dryRun || void 0;\n    return _dataRequest(client, httpRequest, \"actions\", {\n        actions: acts,\n        transactionId,\n        skipCrossDatasetReferenceValidation,\n        dryRun\n    }, options);\n}\nfunction _dataRequest(client, httpRequest, endpoint, body, options = {}) {\n    const isMutation = endpoint === \"mutate\", isAction = endpoint === \"actions\", isQuery = endpoint === \"query\", strQuery = isMutation || isAction ? \"\" : encodeQueryString(body), useGet = !isMutation && !isAction && strQuery.length < getQuerySizeLimit, stringQuery = useGet ? strQuery : \"\", returnFirst = options.returnFirst, { timeout, token, tag, headers: headers2, returnQuery, lastLiveEventId, cacheMode } = options, uri = _getDataUrl(client, endpoint, stringQuery), reqOptions = {\n        method: useGet ? \"GET\" : \"POST\",\n        uri,\n        json: !0,\n        body: useGet ? void 0 : body,\n        query: isMutation && getMutationQuery(options),\n        timeout,\n        headers: headers2,\n        token,\n        tag,\n        returnQuery,\n        perspective: options.perspective,\n        resultSourceMap: options.resultSourceMap,\n        lastLiveEventId: Array.isArray(lastLiveEventId) ? lastLiveEventId[0] : lastLiveEventId,\n        cacheMode,\n        canUseCdn: isQuery,\n        signal: options.signal,\n        fetch: options.fetch,\n        useAbortSignal: options.useAbortSignal,\n        useCdn: options.useCdn\n    };\n    return _requestObservable(client, httpRequest, reqOptions).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.filter)(isResponse), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(getBody), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)((res)=>{\n        if (!isMutation) return res;\n        const results = res.results || [];\n        if (options.returnDocuments) return returnFirst ? results[0] && results[0].document : results.map((mut)=>mut.document);\n        const key = returnFirst ? \"documentId\" : \"documentIds\", ids = returnFirst ? results[0] && results[0].id : results.map((mut)=>mut.id);\n        return {\n            transactionId: res.transactionId,\n            results,\n            [key]: ids\n        };\n    }));\n}\nfunction _create(client, httpRequest, doc, op, options = {}) {\n    const mutation = {\n        [op]: doc\n    }, opts = Object.assign({\n        returnFirst: !0,\n        returnDocuments: !0\n    }, options);\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: [\n            mutation\n        ]\n    }, opts);\n}\nfunction _requestObservable(client, httpRequest, options) {\n    const uri = options.url || options.uri, config = client.config(), canUseCdn = typeof options.canUseCdn > \"u\" ? [\n        \"GET\",\n        \"HEAD\"\n    ].indexOf(options.method || \"GET\") >= 0 && uri.indexOf(\"/data/\") === 0 : options.canUseCdn;\n    let useCdn = (options.useCdn ?? config.useCdn) && canUseCdn;\n    const tag = options.tag && config.requestTagPrefix ? [\n        config.requestTagPrefix,\n        options.tag\n    ].join(\".\") : options.tag || config.requestTagPrefix;\n    if (tag && options.tag !== null && (options.query = {\n        tag: requestTag(tag),\n        ...options.query\n    }), [\n        \"GET\",\n        \"HEAD\",\n        \"POST\"\n    ].indexOf(options.method || \"GET\") >= 0 && uri.indexOf(\"/data/query/\") === 0) {\n        const resultSourceMap = options.resultSourceMap ?? config.resultSourceMap;\n        resultSourceMap !== void 0 && resultSourceMap !== !1 && (options.query = {\n            resultSourceMap,\n            ...options.query\n        });\n        const perspectiveOption = options.perspective || config.perspective;\n        typeof perspectiveOption < \"u\" && (validateApiPerspective(perspectiveOption), options.query = {\n            perspective: Array.isArray(perspectiveOption) ? perspectiveOption.join(\",\") : perspectiveOption,\n            ...options.query\n        }, perspectiveOption === \"previewDrafts\" && useCdn && (useCdn = !1, printCdnPreviewDraftsWarning())), options.lastLiveEventId && (options.query = {\n            ...options.query,\n            lastLiveEventId: options.lastLiveEventId\n        }), options.returnQuery === !1 && (options.query = {\n            returnQuery: \"false\",\n            ...options.query\n        }), useCdn && options.cacheMode == \"noStale\" && (options.query = {\n            cacheMode: \"noStale\",\n            ...options.query\n        });\n    }\n    const reqOptions = requestOptions(config, Object.assign({}, options, {\n        url: _getUrl(client, uri, useCdn)\n    })), request = new _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((subscriber)=>httpRequest(reqOptions, config.requester).subscribe(subscriber));\n    return options.signal ? request.pipe(_withAbortSignal(options.signal)) : request;\n}\nfunction _request(client, httpRequest, options) {\n    return _requestObservable(client, httpRequest, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.filter)((event)=>event.type === \"response\"), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)((event)=>event.body));\n}\nfunction _getDataUrl(client, operation, path) {\n    const config = client.config(), catalog = hasDataset(config), baseUri = `/${operation}/${catalog}`;\n    return `/data${path ? `${baseUri}/${path}` : baseUri}`.replace(/\\/($|\\?)/, \"$1\");\n}\nfunction _getUrl(client, uri, canUseCdn = !1) {\n    const { url, cdnUrl } = client.config();\n    return `${canUseCdn ? cdnUrl : url}/${uri.replace(/^\\//, \"\")}`;\n}\nfunction _withAbortSignal(signal) {\n    return (input)=>new _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>{\n            const abort = ()=>observer.error(_createAbortError(signal));\n            if (signal && signal.aborted) {\n                abort();\n                return;\n            }\n            const subscription = input.subscribe(observer);\n            return signal.addEventListener(\"abort\", abort), ()=>{\n                signal.removeEventListener(\"abort\", abort), subscription.unsubscribe();\n            };\n        });\n}\nconst isDomExceptionSupported = !!globalThis.DOMException;\nfunction _createAbortError(signal) {\n    if (isDomExceptionSupported) return new DOMException(signal?.reason ?? \"The operation was aborted.\", \"AbortError\");\n    const error = new Error(signal?.reason ?? \"The operation was aborted.\");\n    return error.name = \"AbortError\", error;\n}\nclass ObservableAssetsClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    upload(assetType, body, options) {\n        return _upload(this.#client, this.#httpRequest, assetType, body, options);\n    }\n}\nclass AssetsClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    upload(assetType, body, options) {\n        const observable2 = _upload(this.#client, this.#httpRequest, assetType, body, options);\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(observable2.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.filter)((event)=>event.type === \"response\"), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)((event)=>event.body.document)));\n    }\n}\nfunction _upload(client, httpRequest, assetType, body, opts = {}) {\n    validateAssetType(assetType);\n    let meta = opts.extract || void 0;\n    meta && !meta.length && (meta = [\n        \"none\"\n    ]);\n    const dataset2 = hasDataset(client.config()), assetEndpoint = assetType === \"image\" ? \"images\" : \"files\", options = optionsFromFile(opts, body), { tag, label, title, description, creditLine, filename, source } = options, query = {\n        label,\n        title,\n        description,\n        filename,\n        meta,\n        creditLine\n    };\n    return source && (query.sourceId = source.id, query.sourceName = source.name, query.sourceUrl = source.url), _requestObservable(client, httpRequest, {\n        tag,\n        method: \"POST\",\n        timeout: options.timeout || 0,\n        uri: `/assets/${assetEndpoint}/${dataset2}`,\n        headers: options.contentType ? {\n            \"Content-Type\": options.contentType\n        } : {},\n        query,\n        body\n    });\n}\nfunction optionsFromFile(opts, file) {\n    return typeof File > \"u\" || !(file instanceof File) ? opts : Object.assign({\n        filename: opts.preserveFilename === !1 ? void 0 : file.name,\n        contentType: file.type\n    }, opts);\n}\nvar defaults = (obj, defaults2)=>Object.keys(defaults2).concat(Object.keys(obj)).reduce((target, prop)=>(target[prop] = typeof obj[prop] > \"u\" ? defaults2[prop] : obj[prop], target), {});\nconst pick = (obj, props)=>props.reduce((selection, prop)=>(typeof obj[prop] > \"u\" || (selection[prop] = obj[prop]), selection), {}), MAX_URL_LENGTH = 14800, possibleOptions = [\n    \"includePreviousRevision\",\n    \"includeResult\",\n    \"includeMutations\",\n    \"visibility\",\n    \"effectFormat\",\n    \"tag\"\n], defaultOptions = {\n    includeResult: !0\n};\nfunction _listen(query, params, opts = {}) {\n    const { url, token, withCredentials, requestTagPrefix } = this.config(), tag = opts.tag && requestTagPrefix ? [\n        requestTagPrefix,\n        opts.tag\n    ].join(\".\") : opts.tag, options = {\n        ...defaults(opts, defaultOptions),\n        tag\n    }, listenOpts = pick(options, possibleOptions), qs = encodeQueryString({\n        query,\n        params,\n        options: {\n            tag,\n            ...listenOpts\n        }\n    }), uri = `${url}${_getDataUrl(this, \"listen\", qs)}`;\n    if (uri.length > MAX_URL_LENGTH) return new _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>observer.error(new Error(\"Query too large for listener\")));\n    const listenFor = options.events ? options.events : [\n        \"mutation\"\n    ], shouldEmitReconnect = listenFor.indexOf(\"reconnect\") !== -1, esOptions = {};\n    return (token || withCredentials) && (esOptions.withCredentials = !0), token && (esOptions.headers = {\n        Authorization: `Bearer ${token}`\n    }), new _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>{\n        let es, reconnectTimer, stopped = !1, unsubscribed = !1;\n        open();\n        function onError() {\n            stopped || (emitReconnect(), !stopped && es.readyState === es.CLOSED && (unsubscribe(), clearTimeout(reconnectTimer), reconnectTimer = setTimeout(open, 100)));\n        }\n        function onChannelError(err) {\n            observer.error(cooerceError(err));\n        }\n        function onMessage(evt) {\n            const event = parseEvent$1(evt);\n            return event instanceof Error ? observer.error(event) : observer.next(event);\n        }\n        function onDisconnect() {\n            stopped = !0, unsubscribe(), observer.complete();\n        }\n        function unsubscribe() {\n            es && (es.removeEventListener(\"error\", onError), es.removeEventListener(\"channelError\", onChannelError), es.removeEventListener(\"disconnect\", onDisconnect), listenFor.forEach((type)=>es.removeEventListener(type, onMessage)), es.close());\n        }\n        function emitReconnect() {\n            shouldEmitReconnect && observer.next({\n                type: \"reconnect\"\n            });\n        }\n        async function getEventSource() {\n            const { default: EventSource2 } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@sanity\"), __webpack_require__.e(\"vendor-chunks/eventsource\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @sanity/eventsource */ \"(ssr)/./node_modules/@sanity/eventsource/node.js\", 19));\n            if (unsubscribed) return;\n            const evs = new EventSource2(uri, esOptions);\n            return evs.addEventListener(\"error\", onError), evs.addEventListener(\"channelError\", onChannelError), evs.addEventListener(\"disconnect\", onDisconnect), listenFor.forEach((type)=>evs.addEventListener(type, onMessage)), evs;\n        }\n        function open() {\n            getEventSource().then((eventSource)=>{\n                eventSource && (es = eventSource, unsubscribed && unsubscribe());\n            }).catch((reason)=>{\n                observer.error(reason), stop();\n            });\n        }\n        function stop() {\n            stopped = !0, unsubscribe(), unsubscribed = !0;\n        }\n        return stop;\n    });\n}\nfunction parseEvent$1(event) {\n    try {\n        const data = event.data && JSON.parse(event.data) || {};\n        return Object.assign({\n            type: event.type\n        }, data);\n    } catch (err) {\n        return err;\n    }\n}\nfunction cooerceError(err) {\n    if (err instanceof Error) return err;\n    const evt = parseEvent$1(err);\n    return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\nfunction extractErrorMessage(err) {\n    return err.error ? err.error.description ? err.error.description : typeof err.error == \"string\" ? err.error : JSON.stringify(err.error, null, 2) : err.message || \"Unknown listener error\";\n}\nconst requiredApiVersion = \"2021-03-26\";\nclass LiveClient {\n    #client;\n    constructor(client){\n        this.#client = client;\n    }\n    /**\n   * Requires `apiVersion` to be `2021-03-26` or later.\n   */ events({ includeDrafts = !1, tag: _tag } = {}) {\n        const { projectId: projectId2, apiVersion: _apiVersion, token, withCredentials, requestTagPrefix } = this.#client.config(), apiVersion = _apiVersion.replace(/^v/, \"\");\n        if (apiVersion !== \"X\" && apiVersion < requiredApiVersion) throw new Error(`The live events API requires API version ${requiredApiVersion} or later. The current API version is ${apiVersion}. Please update your API version to use this feature.`);\n        if (includeDrafts && !token && !withCredentials) throw new Error(\"The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.\");\n        if (includeDrafts && apiVersion !== \"X\") throw new Error(\"The live events API requires API version X when 'includeDrafts: true'. This API is experimental and may change or even be removed.\");\n        const path = _getDataUrl(this.#client, \"live/events\"), url = new URL(this.#client.getUrl(path, !1)), tag = _tag && requestTagPrefix ? [\n            requestTagPrefix,\n            _tag\n        ].join(\".\") : _tag;\n        tag && url.searchParams.set(\"tag\", tag), includeDrafts && url.searchParams.set(\"includeDrafts\", \"true\");\n        const listenFor = [\n            \"restart\",\n            \"message\",\n            \"welcome\",\n            \"reconnect\"\n        ], esOptions = {};\n        return includeDrafts && token && (esOptions.headers = {\n            Authorization: `Bearer ${token}`\n        }), includeDrafts && withCredentials && (esOptions.withCredentials = !0), new _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>{\n            let es, reconnectTimer, stopped = !1, unsubscribed = !1;\n            open();\n            function onError(evt) {\n                if (!stopped) {\n                    if (\"data\" in evt) {\n                        const event = parseEvent(evt);\n                        observer.error(new Error(event.message, {\n                            cause: event\n                        }));\n                    }\n                    es.readyState === es.CLOSED && (unsubscribe(), clearTimeout(reconnectTimer), reconnectTimer = setTimeout(open, 100));\n                }\n            }\n            function onMessage(evt) {\n                const event = parseEvent(evt);\n                return event instanceof Error ? observer.error(event) : observer.next(event);\n            }\n            function unsubscribe() {\n                if (es) {\n                    es.removeEventListener(\"error\", onError);\n                    for (const type of listenFor)es.removeEventListener(type, onMessage);\n                    es.close();\n                }\n            }\n            async function getEventSource() {\n                const EventSourceImplementation = typeof EventSource > \"u\" || esOptions.headers || esOptions.withCredentials ? (await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@sanity\"), __webpack_require__.e(\"vendor-chunks/eventsource\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @sanity/eventsource */ \"(ssr)/./node_modules/@sanity/eventsource/node.js\", 19))).default : EventSource;\n                if (unsubscribed) return;\n                try {\n                    if (await fetch(url, {\n                        method: \"OPTIONS\",\n                        mode: \"cors\",\n                        credentials: esOptions.withCredentials ? \"include\" : \"omit\",\n                        headers: esOptions.headers\n                    }), unsubscribed) return;\n                } catch  {\n                    throw new CorsOriginError({\n                        projectId: projectId2\n                    });\n                }\n                const evs = new EventSourceImplementation(url.toString(), esOptions);\n                evs.addEventListener(\"error\", onError);\n                for (const type of listenFor)evs.addEventListener(type, onMessage);\n                return evs;\n            }\n            function open() {\n                getEventSource().then((eventSource)=>{\n                    eventSource && (es = eventSource, unsubscribed && unsubscribe());\n                }).catch((reason)=>{\n                    observer.error(reason), stop();\n                });\n            }\n            function stop() {\n                stopped = !0, unsubscribe(), unsubscribed = !0;\n            }\n            return stop;\n        });\n    }\n}\nfunction parseEvent(event) {\n    try {\n        const data = event.data && JSON.parse(event.data) || {};\n        return {\n            type: event.type,\n            id: event.lastEventId,\n            ...data\n        };\n    } catch (err) {\n        return err;\n    }\n}\nclass ObservableDatasetsClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */ create(name2, options) {\n        return _modify(this.#client, this.#httpRequest, \"PUT\", name2, options);\n    }\n    /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */ edit(name2, options) {\n        return _modify(this.#client, this.#httpRequest, \"PATCH\", name2, options);\n    }\n    /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */ delete(name2) {\n        return _modify(this.#client, this.#httpRequest, \"DELETE\", name2);\n    }\n    /**\n   * Fetch a list of datasets for the configured project\n   */ list() {\n        return _request(this.#client, this.#httpRequest, {\n            uri: \"/datasets\",\n            tag: null\n        });\n    }\n}\nclass DatasetsClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */ create(name2, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_modify(this.#client, this.#httpRequest, \"PUT\", name2, options));\n    }\n    /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */ edit(name2, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_modify(this.#client, this.#httpRequest, \"PATCH\", name2, options));\n    }\n    /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */ delete(name2) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_modify(this.#client, this.#httpRequest, \"DELETE\", name2));\n    }\n    /**\n   * Fetch a list of datasets for the configured project\n   */ list() {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_request(this.#client, this.#httpRequest, {\n            uri: \"/datasets\",\n            tag: null\n        }));\n    }\n}\nfunction _modify(client, httpRequest, method, name2, options) {\n    return dataset(name2), _request(client, httpRequest, {\n        method,\n        uri: `/datasets/${name2}`,\n        body: options,\n        tag: null\n    });\n}\nclass ObservableProjectsClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    list(options) {\n        const uri = options?.includeMembers === !1 ? \"/projects?includeMembers=false\" : \"/projects\";\n        return _request(this.#client, this.#httpRequest, {\n            uri\n        });\n    }\n    /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */ getById(projectId2) {\n        return _request(this.#client, this.#httpRequest, {\n            uri: `/projects/${projectId2}`\n        });\n    }\n}\nclass ProjectsClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    list(options) {\n        const uri = options?.includeMembers === !1 ? \"/projects?includeMembers=false\" : \"/projects\";\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_request(this.#client, this.#httpRequest, {\n            uri\n        }));\n    }\n    /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */ getById(projectId2) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_request(this.#client, this.#httpRequest, {\n            uri: `/projects/${projectId2}`\n        }));\n    }\n}\nclass ObservableUsersClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */ getById(id) {\n        return _request(this.#client, this.#httpRequest, {\n            uri: `/users/${id}`\n        });\n    }\n}\nclass UsersClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */ getById(id) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_request(this.#client, this.#httpRequest, {\n            uri: `/users/${id}`\n        }));\n    }\n}\nclass ObservableSanityClient {\n    /**\n   * Private properties\n   */ #clientConfig;\n    #httpRequest;\n    constructor(httpRequest, config = defaultConfig){\n        /**\n   * Instance properties\n   */ this.listen = _listen;\n        this.config(config), this.#httpRequest = httpRequest, this.assets = new ObservableAssetsClient(this, this.#httpRequest), this.datasets = new ObservableDatasetsClient(this, this.#httpRequest), this.live = new LiveClient(this), this.projects = new ObservableProjectsClient(this, this.#httpRequest), this.users = new ObservableUsersClient(this, this.#httpRequest);\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new ObservableSanityClient(this.#httpRequest, this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) return {\n            ...this.#clientConfig\n        };\n        if (this.#clientConfig && this.#clientConfig.allowReconfigure === !1) throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n        return this.#clientConfig = initConfig(newConfig, this.#clientConfig || {}), this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        const thisConfig = this.config();\n        return new ObservableSanityClient(this.#httpRequest, {\n            ...thisConfig,\n            ...newConfig,\n            stega: {\n                ...thisConfig.stega || {},\n                ...typeof newConfig?.stega == \"boolean\" ? {\n                    enabled: newConfig.stega\n                } : newConfig?.stega || {}\n            }\n        });\n    }\n    fetch(query, params, options) {\n        return _fetch(this, this.#httpRequest, this.#clientConfig.stega, query, params, options);\n    }\n    /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */ getDocument(id, options) {\n        return _getDocument(this, this.#httpRequest, id, options);\n    }\n    /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */ getDocuments(ids, options) {\n        return _getDocuments(this, this.#httpRequest, ids, options);\n    }\n    create(document, options) {\n        return _create(this, this.#httpRequest, document, \"create\", options);\n    }\n    createIfNotExists(document, options) {\n        return _createIfNotExists(this, this.#httpRequest, document, options);\n    }\n    createOrReplace(document, options) {\n        return _createOrReplace(this, this.#httpRequest, document, options);\n    }\n    delete(selection, options) {\n        return _delete(this, this.#httpRequest, selection, options);\n    }\n    mutate(operations, options) {\n        return _mutate(this, this.#httpRequest, operations, options);\n    }\n    /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */ patch(selection, operations) {\n        return new ObservablePatch(selection, operations, this);\n    }\n    /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */ transaction(operations) {\n        return new ObservableTransaction(operations, this);\n    }\n    /**\n   * Perform action operations against the configured dataset\n   *\n   * @param operations - Action operation(s) to execute\n   * @param options - Action options\n   */ action(operations, options) {\n        return _action(this, this.#httpRequest, operations, options);\n    }\n    /**\n   * Perform an HTTP request against the Sanity API\n   *\n   * @param options - Request options\n   */ request(options) {\n        return _request(this, this.#httpRequest, options);\n    }\n    /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */ getUrl(uri, canUseCdn) {\n        return _getUrl(this, uri, canUseCdn);\n    }\n    /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */ getDataUrl(operation, path) {\n        return _getDataUrl(this, operation, path);\n    }\n}\nclass SanityClient {\n    /**\n   * Private properties\n   */ #clientConfig;\n    #httpRequest;\n    constructor(httpRequest, config = defaultConfig){\n        /**\n   * Instance properties\n   */ this.listen = _listen;\n        this.config(config), this.#httpRequest = httpRequest, this.assets = new AssetsClient(this, this.#httpRequest), this.datasets = new DatasetsClient(this, this.#httpRequest), this.live = new LiveClient(this), this.projects = new ProjectsClient(this, this.#httpRequest), this.users = new UsersClient(this, this.#httpRequest), this.observable = new ObservableSanityClient(httpRequest, config);\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new SanityClient(this.#httpRequest, this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) return {\n            ...this.#clientConfig\n        };\n        if (this.#clientConfig && this.#clientConfig.allowReconfigure === !1) throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n        return this.observable && this.observable.config(newConfig), this.#clientConfig = initConfig(newConfig, this.#clientConfig || {}), this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        const thisConfig = this.config();\n        return new SanityClient(this.#httpRequest, {\n            ...thisConfig,\n            ...newConfig,\n            stega: {\n                ...thisConfig.stega || {},\n                ...typeof newConfig?.stega == \"boolean\" ? {\n                    enabled: newConfig.stega\n                } : newConfig?.stega || {}\n            }\n        });\n    }\n    fetch(query, params, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_fetch(this, this.#httpRequest, this.#clientConfig.stega, query, params, options));\n    }\n    /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */ getDocument(id, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_getDocument(this, this.#httpRequest, id, options));\n    }\n    /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */ getDocuments(ids, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_getDocuments(this, this.#httpRequest, ids, options));\n    }\n    create(document, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_create(this, this.#httpRequest, document, \"create\", options));\n    }\n    createIfNotExists(document, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_createIfNotExists(this, this.#httpRequest, document, options));\n    }\n    createOrReplace(document, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_createOrReplace(this, this.#httpRequest, document, options));\n    }\n    delete(selection, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_delete(this, this.#httpRequest, selection, options));\n    }\n    mutate(operations, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_mutate(this, this.#httpRequest, operations, options));\n    }\n    /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */ patch(documentId, operations) {\n        return new Patch(documentId, operations, this);\n    }\n    /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */ transaction(operations) {\n        return new Transaction(operations, this);\n    }\n    /**\n   * Perform action operations against the configured dataset\n   * Returns a promise that resolves to the transaction result\n   *\n   * @param operations - Action operation(s) to execute\n   * @param options - Action options\n   */ action(operations, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_action(this, this.#httpRequest, operations, options));\n    }\n    /**\n   * Perform a request against the Sanity API\n   * NOTE: Only use this for Sanity API endpoints, not for your own APIs!\n   *\n   * @param options - Request options\n   * @returns Promise resolving to the response body\n   */ request(options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_request(this, this.#httpRequest, options));\n    }\n    /**\n   * Perform an HTTP request a `/data` sub-endpoint\n   * NOTE: Considered internal, thus marked as deprecated. Use `request` instead.\n   *\n   * @deprecated - Use `request()` or your own HTTP library instead\n   * @param endpoint - Endpoint to hit (mutate, query etc)\n   * @param body - Request body\n   * @param options - Request options\n   * @internal\n   */ dataRequest(endpoint, body, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_dataRequest(this, this.#httpRequest, endpoint, body, options));\n    }\n    /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */ getUrl(uri, canUseCdn) {\n        return _getUrl(this, uri, canUseCdn);\n    }\n    /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */ getDataUrl(operation, path) {\n        return _getDataUrl(this, operation, path);\n    }\n}\nfunction defineCreateClientExports(envMiddleware, ClassConstructor) {\n    const defaultRequester = defineHttpRequest(envMiddleware);\n    return {\n        requester: defaultRequester,\n        createClient: (config)=>new ClassConstructor((options, requester2)=>(requester2 || defaultRequester)({\n                    maxRedirects: 0,\n                    maxRetries: config.maxRetries,\n                    retryDelay: config.retryDelay,\n                    ...options\n                }), config)\n    };\n}\nfunction defineDeprecatedCreateClient(createClient2) {\n    return function(config) {\n        return printNoDefaultExport(), createClient2(config);\n    };\n}\nvar name = \"@sanity/client\", version = \"6.24.1\";\nconst middleware = [\n    (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.debug)({\n        verbose: !0,\n        namespace: \"sanity:client\"\n    }),\n    (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.headers)({\n        \"User-Agent\": `${name} ${version}`\n    }),\n    // Enable keep-alive, and in addition limit the number of sockets that can be opened.\n    // This avoids opening too many connections to the server if someone tries to execute\n    // a bunch of requests in parallel. It's recommended to have a concurrency limit\n    // at a \"higher limit\" (i.e. you shouldn't actually execute hundreds of requests in parallel),\n    // and this is mainly to minimize the impact for the network and server.\n    //\n    // We're currently matching the same defaults as browsers:\n    // https://stackoverflow.com/questions/26003756/is-there-a-limit-practical-or-otherwise-to-the-number-of-web-sockets-a-page-op\n    (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.agent)({\n        keepAlive: !0,\n        maxSockets: 30,\n        maxTotalSockets: 256\n    })\n], exp = defineCreateClientExports(middleware, SanityClient), requester = exp.requester, createClient = exp.createClient, deprecatedCreateClient = defineDeprecatedCreateClient(createClient);\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStCO0FBQ2U7QUFDb0U7QUFDM0Q7QUFDQztBQUNRO0FBQ2hFLE1BQU1rQixvQkFBb0JDO0lBS3hCQyxZQUFZQyxHQUFHLENBQUU7UUFDZixNQUFNQyxRQUFRQyxrQkFBa0JGOztRQUNoQyxhQUFLLENBQUNDLE1BQU1FLE9BQU8sUUFMckJDLGFBQWEsWUFLV0MsT0FBT0MsTUFBTSxDQUFDLElBQUksRUFBRUw7SUFDNUM7QUFDRjtBQUNBLE1BQU1NLG9CQUFvQlQ7SUFLeEJDLFlBQVlDLEdBQUcsQ0FBRTtRQUNmLE1BQU1DLFFBQVFDLGtCQUFrQkY7O1FBQ2hDLGFBQUssQ0FBQ0MsTUFBTUUsT0FBTyxRQUxyQkMsYUFBYSxZQUtXQyxPQUFPQyxNQUFNLENBQUMsSUFBSSxFQUFFTDtJQUM1QztBQUNGO0FBQ0EsU0FBU0Msa0JBQWtCRixHQUFHO0lBQzVCLE1BQU1RLE9BQU9SLElBQUlRLElBQUksRUFBRVAsUUFBUTtRQUM3QlEsVUFBVVQ7UUFDVkksWUFBWUosSUFBSUksVUFBVTtRQUMxQk0sY0FBY0MsY0FBY0gsTUFBTVI7UUFDbENHLFNBQVM7UUFDVFMsU0FBUyxLQUFLO0lBQ2hCO0lBQ0EsSUFBSUosS0FBS0ssS0FBSyxJQUFJTCxLQUFLTCxPQUFPLEVBQzVCLE9BQU9GLE1BQU1FLE9BQU8sR0FBRyxDQUFDLEVBQUVLLEtBQUtLLEtBQUssQ0FBQyxHQUFHLEVBQUVMLEtBQUtMLE9BQU8sQ0FBQyxDQUFDLEVBQUVGO0lBQzVELElBQUlhLGdCQUFnQk4sU0FBU08sY0FBY1AsT0FBTztRQUNoRCxNQUFNUSxXQUFXUixLQUFLSyxLQUFLLENBQUNJLEtBQUssSUFBSSxFQUFFLEVBQUVBLFFBQVFELFNBQVNFLEtBQUssQ0FBQyxHQUFHLEdBQUd2QixHQUFHLENBQUMsQ0FBQ3dCLE9BQVNBLEtBQUtOLEtB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WCxhQUFhLEVBQUU0WCxnQkFBZ0I7SUFDaEUsTUFBTUMsbUJBQW1COVgsa0JBQWtCQztJQUMzQyxPQUFPO1FBQUVxUCxXQUFXd0k7UUFBa0JDLGNBQWMsQ0FBQ3pWLFNBQVcsSUFBSXVWLGlCQUNsRSxDQUFDdlgsU0FBUzBYLGFBQWUsQ0FBQ0EsY0FBY0YsZ0JBQWUsRUFBRztvQkFDeERHLGNBQWM7b0JBQ2QxWCxZQUFZK0IsT0FBTy9CLFVBQVU7b0JBQzdCMlgsWUFBWTVWLE9BQU80VixVQUFVO29CQUM3QixHQUFHNVgsT0FBTztnQkFDWixJQUNBZ0M7SUFDQTtBQUNKO0FBQ0EsU0FBUzZWLDZCQUE2QkMsYUFBYTtJQUNqRCxPQUFPLFNBQVM5VixNQUFNO1FBQ3BCLE9BQU9jLHdCQUF3QmdWLGNBQWM5VjtJQUMvQztBQUNGO0FBQ0EsSUFBSXBELE9BQU8sa0JBQWtCbVosVUFBVTtBQUN2QyxNQUFNQyxhQUFhO0lBQ2pCMWMsd0RBQUtBLENBQUM7UUFBRTJjLFNBQVMsQ0FBQztRQUFHQyxXQUFXO0lBQWdCO0lBQ2hEM2MsMERBQU9BLENBQUM7UUFBRSxjQUFjLENBQUMsRUFBRXFELEtBQUssQ0FBQyxFQUFFbVosUUFBUSxDQUFDO0lBQUM7SUFDN0MscUZBQXFGO0lBQ3JGLHFGQUFxRjtJQUNyRixnRkFBZ0Y7SUFDaEYsOEZBQThGO0lBQzlGLHdFQUF3RTtJQUN4RSxFQUFFO0lBQ0YsMERBQTBEO0lBQzFELDhIQUE4SDtJQUM5SHZjLHdEQUFLQSxDQUFDO1FBQ0oyYyxXQUFXLENBQUM7UUFDWkMsWUFBWTtRQUNaQyxpQkFBaUI7SUFDbkI7Q0FDRCxFQUFFQyxNQUFNaEIsMEJBQTBCVSxZQUFZWixlQUFlcEksWUFBWXNKLElBQUl0SixTQUFTLEVBQUV5SSxlQUFlYSxJQUFJYixZQUFZLEVBQUVjLHlCQUF5QlYsNkJBQTZCSjtBQW1COUssQ0FDRixpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZG1pc3Npb24tdXBsaWZ0Ly4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvY2xpZW50L2Rpc3QvaW5kZXguanM/ZWU4YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRJdCB9IGZyb20gXCJnZXQtaXRcIjtcbmltcG9ydCB7IGFkYXB0ZXIsIGVudmlyb25tZW50IH0gZnJvbSBcImdldC1pdFwiO1xuaW1wb3J0IHsgcmV0cnksIGpzb25SZXF1ZXN0LCBqc29uUmVzcG9uc2UsIHByb2dyZXNzLCBvYnNlcnZhYmxlLCBkZWJ1ZywgaGVhZGVycywgYWdlbnQgfSBmcm9tIFwiZ2V0LWl0L21pZGRsZXdhcmVcIjtcbmltcG9ydCB7IE9ic2VydmFibGUsIGZyb20sIGxhc3RWYWx1ZUZyb20gfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgc3RlZ2FDbGVhbiB9IGZyb20gXCIuL19jaHVua3MtZXMvc3RlZ2FDbGVhbi5qc1wiO1xuaW1wb3J0IHsgY29tYmluZUxhdGVzdFdpdGgsIG1hcCwgZmlsdGVyIH0gZnJvbSBcInJ4anMvb3BlcmF0b3JzXCI7XG5jbGFzcyBDbGllbnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcmVzcG9uc2U7XG4gIHN0YXR1c0NvZGUgPSA0MDA7XG4gIHJlc3BvbnNlQm9keTtcbiAgZGV0YWlscztcbiAgY29uc3RydWN0b3IocmVzKSB7XG4gICAgY29uc3QgcHJvcHMgPSBleHRyYWN0RXJyb3JQcm9wcyhyZXMpO1xuICAgIHN1cGVyKHByb3BzLm1lc3NhZ2UpLCBPYmplY3QuYXNzaWduKHRoaXMsIHByb3BzKTtcbiAgfVxufVxuY2xhc3MgU2VydmVyRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHJlc3BvbnNlO1xuICBzdGF0dXNDb2RlID0gNTAwO1xuICByZXNwb25zZUJvZHk7XG4gIGRldGFpbHM7XG4gIGNvbnN0cnVjdG9yKHJlcykge1xuICAgIGNvbnN0IHByb3BzID0gZXh0cmFjdEVycm9yUHJvcHMocmVzKTtcbiAgICBzdXBlcihwcm9wcy5tZXNzYWdlKSwgT2JqZWN0LmFzc2lnbih0aGlzLCBwcm9wcyk7XG4gIH1cbn1cbmZ1bmN0aW9uIGV4dHJhY3RFcnJvclByb3BzKHJlcykge1xuICBjb25zdCBib2R5ID0gcmVzLmJvZHksIHByb3BzID0ge1xuICAgIHJlc3BvbnNlOiByZXMsXG4gICAgc3RhdHVzQ29kZTogcmVzLnN0YXR1c0NvZGUsXG4gICAgcmVzcG9uc2VCb2R5OiBzdHJpbmdpZnlCb2R5KGJvZHksIHJlcyksXG4gICAgbWVzc2FnZTogXCJcIixcbiAgICBkZXRhaWxzOiB2b2lkIDBcbiAgfTtcbiAgaWYgKGJvZHkuZXJyb3IgJiYgYm9keS5tZXNzYWdlKVxuICAgIHJldHVybiBwcm9wcy5tZXNzYWdlID0gYCR7Ym9keS5lcnJvcn0gLSAke2JvZHkubWVzc2FnZX1gLCBwcm9wcztcbiAgaWYgKGlzTXV0YXRpb25FcnJvcihib2R5KSB8fCBpc0FjdGlvbkVycm9yKGJvZHkpKSB7XG4gICAgY29uc3QgYWxsSXRlbXMgPSBib2R5LmVycm9yLml0ZW1zIHx8IFtdLCBpdGVtcyA9IGFsbEl0ZW1zLnNsaWNlKDAsIDUpLm1hcCgoaXRlbSkgPT4gaXRlbS5lcnJvcj8uZGVzY3JpcHRpb24pLmZpbHRlcihCb29sZWFuKTtcbiAgICBsZXQgaXRlbXNTdHIgPSBpdGVtcy5sZW5ndGggPyBgOlxuLSAke2l0ZW1zLmpvaW4oYFxuLSBgKX1gIDogXCJcIjtcbiAgICByZXR1cm4gYWxsSXRlbXMubGVuZ3RoID4gNSAmJiAoaXRlbXNTdHIgKz0gYFxuLi4uYW5kICR7YWxsSXRlbXMubGVuZ3RoIC0gNX0gbW9yZWApLCBwcm9wcy5tZXNzYWdlID0gYCR7Ym9keS5lcnJvci5kZXNjcmlwdGlvbn0ke2l0ZW1zU3RyfWAsIHByb3BzLmRldGFpbHMgPSBib2R5LmVycm9yLCBwcm9wcztcbiAgfVxuICByZXR1cm4gYm9keS5lcnJvciAmJiBib2R5LmVycm9yLmRlc2NyaXB0aW9uID8gKHByb3BzLm1lc3NhZ2UgPSBib2R5LmVycm9yLmRlc2NyaXB0aW9uLCBwcm9wcy5kZXRhaWxzID0gYm9keS5lcnJvciwgcHJvcHMpIDogKHByb3BzLm1lc3NhZ2UgPSBib2R5LmVycm9yIHx8IGJvZHkubWVzc2FnZSB8fCBodHRwRXJyb3JNZXNzYWdlKHJlcyksIHByb3BzKTtcbn1cbmZ1bmN0aW9uIGlzTXV0YXRpb25FcnJvcihib2R5KSB7XG4gIHJldHVybiBpc1BsYWluT2JqZWN0KGJvZHkpICYmIGlzUGxhaW5PYmplY3QoYm9keS5lcnJvcikgJiYgYm9keS5lcnJvci50eXBlID09PSBcIm11dGF0aW9uRXJyb3JcIiAmJiB0eXBlb2YgYm9keS5lcnJvci5kZXNjcmlwdGlvbiA9PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gaXNBY3Rpb25FcnJvcihib2R5KSB7XG4gIHJldHVybiBpc1BsYWluT2JqZWN0KGJvZHkpICYmIGlzUGxhaW5PYmplY3QoYm9keS5lcnJvcikgJiYgYm9keS5lcnJvci50eXBlID09PSBcImFjdGlvbkVycm9yXCIgJiYgdHlwZW9mIGJvZHkuZXJyb3IuZGVzY3JpcHRpb24gPT0gXCJzdHJpbmdcIjtcbn1cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09IFwib2JqZWN0XCIgJiYgb2JqICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KG9iaik7XG59XG5mdW5jdGlvbiBodHRwRXJyb3JNZXNzYWdlKHJlcykge1xuICBjb25zdCBzdGF0dXNNZXNzYWdlID0gcmVzLnN0YXR1c01lc3NhZ2UgPyBgICR7cmVzLnN0YXR1c01lc3NhZ2V9YCA6IFwiXCI7XG4gIHJldHVybiBgJHtyZXMubWV0aG9kfS1yZXF1ZXN0IHRvICR7cmVzLnVybH0gcmVzdWx0ZWQgaW4gSFRUUCAke3Jlcy5zdGF0dXNDb2RlfSR7c3RhdHVzTWVzc2FnZX1gO1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5Qm9keShib2R5LCByZXMpIHtcbiAgcmV0dXJuIChyZXMuaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJhcHBsaWNhdGlvbi9qc29uXCIpICE9PSAtMSA/IEpTT04uc3RyaW5naWZ5KGJvZHksIG51bGwsIDIpIDogYm9keTtcbn1cbmNsYXNzIENvcnNPcmlnaW5FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHJvamVjdElkO1xuICBhZGRPcmlnaW5Vcmw7XG4gIGNvbnN0cnVjdG9yKHsgcHJvamVjdElkOiBwcm9qZWN0SWQyIH0pIHtcbiAgICBzdXBlcihcIkNvcnNPcmlnaW5FcnJvclwiKSwgdGhpcy5uYW1lID0gXCJDb3JzT3JpZ2luRXJyb3JcIiwgdGhpcy5wcm9qZWN0SWQgPSBwcm9qZWN0SWQyO1xuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYGh0dHBzOi8vc2FuaXR5LmlvL21hbmFnZS9wcm9qZWN0LyR7cHJvamVjdElkMn0vYXBpYCk7XG4gICAgaWYgKHR5cGVvZiBsb2NhdGlvbiA8IFwidVwiKSB7XG4gICAgICBjb25zdCB7IG9yaWdpbiB9ID0gbG9jYXRpb247XG4gICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChcImNvcnNcIiwgXCJhZGRcIiksIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwib3JpZ2luXCIsIG9yaWdpbiksIHRoaXMuYWRkT3JpZ2luVXJsID0gdXJsLCB0aGlzLm1lc3NhZ2UgPSBgVGhlIGN1cnJlbnQgb3JpZ2luIGlzIG5vdCBhbGxvd2VkIHRvIGNvbm5lY3QgdG8gdGhlIExpdmUgQ29udGVudCBBUEkuIEFkZCBpdCBoZXJlOiAke3VybH1gO1xuICAgIH0gZWxzZVxuICAgICAgdGhpcy5tZXNzYWdlID0gYFRoZSBjdXJyZW50IG9yaWdpbiBpcyBub3QgYWxsb3dlZCB0byBjb25uZWN0IHRvIHRoZSBMaXZlIENvbnRlbnQgQVBJLiBDaGFuZ2UgeW91ciBjb25maWd1cmF0aW9uIGhlcmU6ICR7dXJsfWA7XG4gIH1cbn1cbmNvbnN0IGh0dHBFcnJvciA9IHtcbiAgb25SZXNwb25zZTogKHJlcykgPT4ge1xuICAgIGlmIChyZXMuc3RhdHVzQ29kZSA+PSA1MDApXG4gICAgICB0aHJvdyBuZXcgU2VydmVyRXJyb3IocmVzKTtcbiAgICBpZiAocmVzLnN0YXR1c0NvZGUgPj0gNDAwKVxuICAgICAgdGhyb3cgbmV3IENsaWVudEVycm9yKHJlcyk7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxufSwgcHJpbnRXYXJuaW5ncyA9IHtcbiAgb25SZXNwb25zZTogKHJlcykgPT4ge1xuICAgIGNvbnN0IHdhcm4gPSByZXMuaGVhZGVyc1tcIngtc2FuaXR5LXdhcm5pbmdcIl07XG4gICAgcmV0dXJuIChBcnJheS5pc0FycmF5KHdhcm4pID8gd2FybiA6IFt3YXJuXSkuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goKG1zZykgPT4gY29uc29sZS53YXJuKG1zZykpLCByZXM7XG4gIH1cbn07XG5mdW5jdGlvbiBkZWZpbmVIdHRwUmVxdWVzdChlbnZNaWRkbGV3YXJlKSB7XG4gIHJldHVybiBnZXRJdChbXG4gICAgcmV0cnkoeyBzaG91bGRSZXRyeSB9KSxcbiAgICAuLi5lbnZNaWRkbGV3YXJlLFxuICAgIHByaW50V2FybmluZ3MsXG4gICAganNvblJlcXVlc3QoKSxcbiAgICBqc29uUmVzcG9uc2UoKSxcbiAgICBwcm9ncmVzcygpLFxuICAgIGh0dHBFcnJvcixcbiAgICBvYnNlcnZhYmxlKHsgaW1wbGVtZW50YXRpb246IE9ic2VydmFibGUgfSlcbiAgXSk7XG59XG5mdW5jdGlvbiBzaG91bGRSZXRyeShlcnIsIGF0dGVtcHQsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMubWF4UmV0cmllcyA9PT0gMClcbiAgICByZXR1cm4gITE7XG4gIGNvbnN0IGlzU2FmZSA9IG9wdGlvbnMubWV0aG9kID09PSBcIkdFVFwiIHx8IG9wdGlvbnMubWV0aG9kID09PSBcIkhFQURcIiwgaXNRdWVyeSA9IChvcHRpb25zLnVyaSB8fCBvcHRpb25zLnVybCkuc3RhcnRzV2l0aChcIi9kYXRhL3F1ZXJ5XCIpLCBpc1JldHJpYWJsZVJlc3BvbnNlID0gZXJyLnJlc3BvbnNlICYmIChlcnIucmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gNDI5IHx8IGVyci5yZXNwb25zZS5zdGF0dXNDb2RlID09PSA1MDIgfHwgZXJyLnJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDUwMyk7XG4gIHJldHVybiAoaXNTYWZlIHx8IGlzUXVlcnkpICYmIGlzUmV0cmlhYmxlUmVzcG9uc2UgPyAhMCA6IHJldHJ5LnNob3VsZFJldHJ5KGVyciwgYXR0ZW1wdCwgb3B0aW9ucyk7XG59XG5jb25zdCBCQVNFX1VSTCA9IFwiaHR0cHM6Ly93d3cuc2FuaXR5LmlvL2hlbHAvXCI7XG5mdW5jdGlvbiBnZW5lcmF0ZUhlbHBVcmwoc2x1Zykge1xuICByZXR1cm4gQkFTRV9VUkwgKyBzbHVnO1xufVxuY29uc3QgVkFMSURfQVNTRVRfVFlQRVMgPSBbXCJpbWFnZVwiLCBcImZpbGVcIl0sIFZBTElEX0lOU0VSVF9MT0NBVElPTlMgPSBbXCJiZWZvcmVcIiwgXCJhZnRlclwiLCBcInJlcGxhY2VcIl0sIGRhdGFzZXQgPSAobmFtZTIpID0+IHtcbiAgaWYgKCEvXih+W2EtejAtOV17MX1bLVxcd117MCw2M318W2EtejAtOV17MX1bLVxcd117MCw2M30pJC8udGVzdChuYW1lMikpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJEYXRhc2V0cyBjYW4gb25seSBjb250YWluIGxvd2VyY2FzZSBjaGFyYWN0ZXJzLCBudW1iZXJzLCB1bmRlcnNjb3JlcyBhbmQgZGFzaGVzLCBhbmQgc3RhcnQgd2l0aCB0aWxkZSwgYW5kIGJlIG1heGltdW0gNjQgY2hhcmFjdGVyc1wiXG4gICAgKTtcbn0sIHByb2plY3RJZCA9IChpZCkgPT4ge1xuICBpZiAoIS9eWy1hLXowLTldKyQvaS50ZXN0KGlkKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJgcHJvamVjdElkYCBjYW4gb25seSBjb250YWluIG9ubHkgYS16LCAwLTkgYW5kIGRhc2hlc1wiKTtcbn0sIHZhbGlkYXRlQXNzZXRUeXBlID0gKHR5cGUpID0+IHtcbiAgaWYgKFZBTElEX0FTU0VUX1RZUEVTLmluZGV4T2YodHlwZSkgPT09IC0xKVxuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhc3NldCB0eXBlOiAke3R5cGV9LiBNdXN0IGJlIG9uZSBvZiAke1ZBTElEX0FTU0VUX1RZUEVTLmpvaW4oXCIsIFwiKX1gKTtcbn0sIHZhbGlkYXRlT2JqZWN0ID0gKG9wLCB2YWwpID0+IHtcbiAgaWYgKHZhbCA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsICE9IFwib2JqZWN0XCIgfHwgQXJyYXkuaXNBcnJheSh2YWwpKVxuICAgIHRocm93IG5ldyBFcnJvcihgJHtvcH0oKSB0YWtlcyBhbiBvYmplY3Qgb2YgcHJvcGVydGllc2ApO1xufSwgdmFsaWRhdGVEb2N1bWVudElkID0gKG9wLCBpZCkgPT4ge1xuICBpZiAodHlwZW9mIGlkICE9IFwic3RyaW5nXCIgfHwgIS9eW2EtejAtOV9dW2EtejAtOV8uLV17MCwxMjd9JC9pLnRlc3QoaWQpIHx8IGlkLmluY2x1ZGVzKFwiLi5cIikpXG4gICAgdGhyb3cgbmV3IEVycm9yKGAke29wfSgpOiBcIiR7aWR9XCIgaXMgbm90IGEgdmFsaWQgZG9jdW1lbnQgSURgKTtcbn0sIHJlcXVpcmVEb2N1bWVudElkID0gKG9wLCBkb2MpID0+IHtcbiAgaWYgKCFkb2MuX2lkKVxuICAgIHRocm93IG5ldyBFcnJvcihgJHtvcH0oKSByZXF1aXJlcyB0aGF0IHRoZSBkb2N1bWVudCBjb250YWlucyBhbiBJRCAoXCJfaWRcIiBwcm9wZXJ0eSlgKTtcbiAgdmFsaWRhdGVEb2N1bWVudElkKG9wLCBkb2MuX2lkKTtcbn0sIHZhbGlkYXRlSW5zZXJ0ID0gKGF0LCBzZWxlY3RvciwgaXRlbXMpID0+IHtcbiAgY29uc3Qgc2lnbmF0dXJlID0gXCJpbnNlcnQoYXQsIHNlbGVjdG9yLCBpdGVtcylcIjtcbiAgaWYgKFZBTElEX0lOU0VSVF9MT0NBVElPTlMuaW5kZXhPZihhdCkgPT09IC0xKSB7XG4gICAgY29uc3QgdmFsaWQgPSBWQUxJRF9JTlNFUlRfTE9DQVRJT05TLm1hcCgobG9jKSA9PiBgXCIke2xvY31cImApLmpvaW4oXCIsIFwiKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7c2lnbmF0dXJlfSB0YWtlcyBhbiBcImF0XCItYXJndW1lbnQgd2hpY2ggaXMgb25lIG9mOiAke3ZhbGlkfWApO1xuICB9XG4gIGlmICh0eXBlb2Ygc2VsZWN0b3IgIT0gXCJzdHJpbmdcIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7c2lnbmF0dXJlfSB0YWtlcyBhIFwic2VsZWN0b3JcIi1hcmd1bWVudCB3aGljaCBtdXN0IGJlIGEgc3RyaW5nYCk7XG4gIGlmICghQXJyYXkuaXNBcnJheShpdGVtcykpXG4gICAgdGhyb3cgbmV3IEVycm9yKGAke3NpZ25hdHVyZX0gdGFrZXMgYW4gXCJpdGVtc1wiLWFyZ3VtZW50IHdoaWNoIG11c3QgYmUgYW4gYXJyYXlgKTtcbn0sIGhhc0RhdGFzZXQgPSAoY29uZmlnKSA9PiB7XG4gIGlmICghY29uZmlnLmRhdGFzZXQpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYGRhdGFzZXRgIG11c3QgYmUgcHJvdmlkZWQgdG8gcGVyZm9ybSBxdWVyaWVzXCIpO1xuICByZXR1cm4gY29uZmlnLmRhdGFzZXQgfHwgXCJcIjtcbn0sIHJlcXVlc3RUYWcgPSAodGFnKSA9PiB7XG4gIGlmICh0eXBlb2YgdGFnICE9IFwic3RyaW5nXCIgfHwgIS9eW2EtejAtOS5fLV17MSw3NX0kL2kudGVzdCh0YWcpKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiVGFnIGNhbiBvbmx5IGNvbnRhaW4gYWxwaGFudW1lcmljIGNoYXJhY3RlcnMsIHVuZGVyc2NvcmVzLCBkYXNoZXMgYW5kIGRvdHMsIGFuZCBiZSBiZXR3ZWVuIG9uZSBhbmQgNzUgY2hhcmFjdGVycyBsb25nLlwiXG4gICAgKTtcbiAgcmV0dXJuIHRhZztcbn07XG5mdW5jdGlvbiBvbmNlKGZuKSB7XG4gIGxldCBkaWRDYWxsID0gITEsIHJldHVyblZhbHVlO1xuICByZXR1cm4gKC4uLmFyZ3MpID0+IChkaWRDYWxsIHx8IChyZXR1cm5WYWx1ZSA9IGZuKC4uLmFyZ3MpLCBkaWRDYWxsID0gITApLCByZXR1cm5WYWx1ZSk7XG59XG5jb25zdCBjcmVhdGVXYXJuaW5nUHJpbnRlciA9IChtZXNzYWdlKSA9PiAoXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gIG9uY2UoKC4uLmFyZ3MpID0+IGNvbnNvbGUud2FybihtZXNzYWdlLmpvaW4oXCIgXCIpLCAuLi5hcmdzKSlcbiksIHByaW50Q2RuQW5kV2l0aENyZWRlbnRpYWxzV2FybmluZyA9IGNyZWF0ZVdhcm5pbmdQcmludGVyKFtcbiAgXCJCZWNhdXNlIHlvdSBzZXQgYHdpdGhDcmVkZW50aWFsc2AgdG8gdHJ1ZSwgd2Ugd2lsbCBvdmVycmlkZSB5b3VyIGB1c2VDZG5gXCIsXG4gIFwic2V0dGluZyB0byBiZSBmYWxzZSBzaW5jZSAoY29va2llLWJhc2VkKSBjcmVkZW50aWFscyBhcmUgbmV2ZXIgc2V0IG9uIHRoZSBDRE5cIlxuXSksIHByaW50Q2RuV2FybmluZyA9IGNyZWF0ZVdhcm5pbmdQcmludGVyKFtcbiAgXCJTaW5jZSB5b3UgaGF2ZW4ndCBzZXQgYSB2YWx1ZSBmb3IgYHVzZUNkbmAsIHdlIHdpbGwgZGVsaXZlciBjb250ZW50IHVzaW5nIG91clwiLFxuICBcImdsb2JhbCwgZWRnZS1jYWNoZWQgQVBJLUNETi4gSWYgeW91IHdpc2ggdG8gaGF2ZSBjb250ZW50IGRlbGl2ZXJlZCBmYXN0ZXIsIHNldFwiLFxuICBcImB1c2VDZG46IGZhbHNlYCB0byB1c2UgdGhlIExpdmUgQVBJLiBOb3RlOiBZb3UgbWF5IGluY3VyIGhpZ2hlciBjb3N0cyB1c2luZyB0aGUgbGl2ZSBBUEkuXCJcbl0pLCBwcmludENkblByZXZpZXdEcmFmdHNXYXJuaW5nID0gY3JlYXRlV2FybmluZ1ByaW50ZXIoW1xuICBcIlRoZSBTYW5pdHkgY2xpZW50IGlzIGNvbmZpZ3VyZWQgd2l0aCB0aGUgYHBlcnNwZWN0aXZlYCBzZXQgdG8gYHByZXZpZXdEcmFmdHNgLCB3aGljaCBkb2Vzbid0IHN1cHBvcnQgdGhlIEFQSS1DRE4uXCIsXG4gIFwiVGhlIExpdmUgQVBJIHdpbGwgYmUgdXNlZCBpbnN0ZWFkLiBTZXQgYHVzZUNkbjogZmFsc2VgIGluIHlvdXIgY29uZmlndXJhdGlvbiB0byBoaWRlIHRoaXMgd2FybmluZy5cIlxuXSksIHByaW50QnJvd3NlclRva2VuV2FybmluZyA9IGNyZWF0ZVdhcm5pbmdQcmludGVyKFtcbiAgXCJZb3UgaGF2ZSBjb25maWd1cmVkIFNhbml0eSBjbGllbnQgdG8gdXNlIGEgdG9rZW4gaW4gdGhlIGJyb3dzZXIuIFRoaXMgbWF5IGNhdXNlIHVuaW50ZW50aW9uYWwgc2VjdXJpdHkgaXNzdWVzLlwiLFxuICBgU2VlICR7Z2VuZXJhdGVIZWxwVXJsKFxuICAgIFwianMtY2xpZW50LWJyb3dzZXItdG9rZW5cIlxuICApfSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgaG93IHRvIGhpZGUgdGhpcyB3YXJuaW5nLmBcbl0pLCBwcmludE5vQXBpVmVyc2lvblNwZWNpZmllZFdhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXG4gIFwiVXNpbmcgdGhlIFNhbml0eSBjbGllbnQgd2l0aG91dCBzcGVjaWZ5aW5nIGFuIEFQSSB2ZXJzaW9uIGlzIGRlcHJlY2F0ZWQuXCIsXG4gIGBTZWUgJHtnZW5lcmF0ZUhlbHBVcmwoXCJqcy1jbGllbnQtYXBpLXZlcnNpb25cIil9YFxuXSksIHByaW50Tm9EZWZhdWx0RXhwb3J0ID0gY3JlYXRlV2FybmluZ1ByaW50ZXIoW1xuICBcIlRoZSBkZWZhdWx0IGV4cG9ydCBvZiBAc2FuaXR5L2NsaWVudCBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgdGhlIG5hbWVkIGV4cG9ydCBgY3JlYXRlQ2xpZW50YCBpbnN0ZWFkLlwiXG5dKSwgZGVmYXVsdENkbkhvc3QgPSBcImFwaWNkbi5zYW5pdHkuaW9cIiwgZGVmYXVsdENvbmZpZyA9IHtcbiAgYXBpSG9zdDogXCJodHRwczovL2FwaS5zYW5pdHkuaW9cIixcbiAgYXBpVmVyc2lvbjogXCIxXCIsXG4gIHVzZVByb2plY3RIb3N0bmFtZTogITAsXG4gIHN0ZWdhOiB7IGVuYWJsZWQ6ICExIH1cbn0sIExPQ0FMSE9TVFMgPSBbXCJsb2NhbGhvc3RcIiwgXCIxMjcuMC4wLjFcIiwgXCIwLjAuMC4wXCJdLCBpc0xvY2FsID0gKGhvc3QpID0+IExPQ0FMSE9TVFMuaW5kZXhPZihob3N0KSAhPT0gLTE7XG5mdW5jdGlvbiB2YWxpZGF0ZUFwaVZlcnNpb24oYXBpVmVyc2lvbikge1xuICBpZiAoYXBpVmVyc2lvbiA9PT0gXCIxXCIgfHwgYXBpVmVyc2lvbiA9PT0gXCJYXCIpXG4gICAgcmV0dXJuO1xuICBjb25zdCBhcGlEYXRlID0gbmV3IERhdGUoYXBpVmVyc2lvbik7XG4gIGlmICghKC9eXFxkezR9LVxcZHsyfS1cXGR7Mn0kLy50ZXN0KGFwaVZlcnNpb24pICYmIGFwaURhdGUgaW5zdGFuY2VvZiBEYXRlICYmIGFwaURhdGUuZ2V0VGltZSgpID4gMCkpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBBUEkgdmVyc2lvbiBzdHJpbmcsIGV4cGVjdGVkIGAxYCBvciBkYXRlIGluIGZvcm1hdCBgWVlZWS1NTS1ERGBcIik7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlKHBlcnNwZWN0aXZlKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHBlcnNwZWN0aXZlKSkge1xuICAgIGZvciAoY29uc3QgcGVyc3BlY3RpdmVWYWx1ZSBvZiBwZXJzcGVjdGl2ZSlcbiAgICAgIGlmIChwZXJzcGVjdGl2ZVZhbHVlICE9PSBcInB1Ymxpc2hlZFwiICYmIHBlcnNwZWN0aXZlVmFsdWUgIT09IFwiZHJhZnRzXCIgJiYgISh0eXBlb2YgcGVyc3BlY3RpdmVWYWx1ZSA9PSBcInN0cmluZ1wiICYmIHBlcnNwZWN0aXZlVmFsdWUuc3RhcnRzV2l0aChcInJcIikgJiYgcGVyc3BlY3RpdmVWYWx1ZSAhPT0gXCJyYXdcIikpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgXCJJbnZhbGlkIEFQSSBwZXJzcGVjdGl2ZSB2YWx1ZSwgZXhwZWN0ZWQgYHB1Ymxpc2hlZGAsIGBkcmFmdHNgIG9yIGEgdmFsaWQgcmVsZWFzZSBpZGVudGlmaWVyIHN0cmluZ1wiXG4gICAgICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHN3aXRjaCAocGVyc3BlY3RpdmUpIHtcbiAgICBjYXNlIFwicHJldmlld0RyYWZ0c1wiOlxuICAgIGNhc2UgXCJkcmFmdHNcIjpcbiAgICBjYXNlIFwicHVibGlzaGVkXCI6XG4gICAgY2FzZSBcInJhd1wiOlxuICAgICAgcmV0dXJuO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICBcIkludmFsaWQgQVBJIHBlcnNwZWN0aXZlIHN0cmluZywgZXhwZWN0ZWQgYHB1Ymxpc2hlZGAsIGBwcmV2aWV3RHJhZnRzYCBvciBgcmF3YFwiXG4gICAgICApO1xuICB9XG59XG5jb25zdCBpbml0Q29uZmlnID0gKGNvbmZpZywgcHJldkNvbmZpZykgPT4ge1xuICBjb25zdCBzcGVjaWZpZWRDb25maWcgPSB7XG4gICAgLi4ucHJldkNvbmZpZyxcbiAgICAuLi5jb25maWcsXG4gICAgc3RlZ2E6IHtcbiAgICAgIC4uLnR5cGVvZiBwcmV2Q29uZmlnLnN0ZWdhID09IFwiYm9vbGVhblwiID8geyBlbmFibGVkOiBwcmV2Q29uZmlnLnN0ZWdhIH0gOiBwcmV2Q29uZmlnLnN0ZWdhIHx8IGRlZmF1bHRDb25maWcuc3RlZ2EsXG4gICAgICAuLi50eXBlb2YgY29uZmlnLnN0ZWdhID09IFwiYm9vbGVhblwiID8geyBlbmFibGVkOiBjb25maWcuc3RlZ2EgfSA6IGNvbmZpZy5zdGVnYSB8fCB7fVxuICAgIH1cbiAgfTtcbiAgc3BlY2lmaWVkQ29uZmlnLmFwaVZlcnNpb24gfHwgcHJpbnROb0FwaVZlcnNpb25TcGVjaWZpZWRXYXJuaW5nKCk7XG4gIGNvbnN0IG5ld0NvbmZpZyA9IHtcbiAgICAuLi5kZWZhdWx0Q29uZmlnLFxuICAgIC4uLnNwZWNpZmllZENvbmZpZ1xuICB9LCBwcm9qZWN0QmFzZWQgPSBuZXdDb25maWcudXNlUHJvamVjdEhvc3RuYW1lO1xuICBpZiAodHlwZW9mIFByb21pc2UgPiBcInVcIikge1xuICAgIGNvbnN0IGhlbHBVcmwgPSBnZW5lcmF0ZUhlbHBVcmwoXCJqcy1jbGllbnQtcHJvbWlzZS1wb2x5ZmlsbFwiKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIG5hdGl2ZSBQcm9taXNlLWltcGxlbWVudGF0aW9uIGZvdW5kLCBwb2x5ZmlsbCBuZWVkZWQgLSBzZWUgJHtoZWxwVXJsfWApO1xuICB9XG4gIGlmIChwcm9qZWN0QmFzZWQgJiYgIW5ld0NvbmZpZy5wcm9qZWN0SWQpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ29uZmlndXJhdGlvbiBtdXN0IGNvbnRhaW4gYHByb2plY3RJZGBcIik7XG4gIGlmICh0eXBlb2YgbmV3Q29uZmlnLnBlcnNwZWN0aXZlIDwgXCJ1XCIgJiYgdmFsaWRhdGVBcGlQZXJzcGVjdGl2ZShuZXdDb25maWcucGVyc3BlY3RpdmUpLCBcImVuY29kZVNvdXJjZU1hcFwiIGluIG5ld0NvbmZpZylcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkl0IGxvb2tzIGxpa2UgeW91J3JlIHVzaW5nIG9wdGlvbnMgbWVhbnQgZm9yICdAc2FuaXR5L3ByZXZpZXcta2l0L2NsaWVudCcuICdlbmNvZGVTb3VyY2VNYXAnIGlzIG5vdCBzdXBwb3J0ZWQgaW4gJ0BzYW5pdHkvY2xpZW50Jy4gRGlkIHlvdSBtZWFuICdzdGVnYS5lbmFibGVkJz9cIlxuICAgICk7XG4gIGlmIChcImVuY29kZVNvdXJjZU1hcEF0UGF0aFwiIGluIG5ld0NvbmZpZylcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkl0IGxvb2tzIGxpa2UgeW91J3JlIHVzaW5nIG9wdGlvbnMgbWVhbnQgZm9yICdAc2FuaXR5L3ByZXZpZXcta2l0L2NsaWVudCcuICdlbmNvZGVTb3VyY2VNYXBBdFBhdGgnIGlzIG5vdCBzdXBwb3J0ZWQgaW4gJ0BzYW5pdHkvY2xpZW50Jy4gRGlkIHlvdSBtZWFuICdzdGVnYS5maWx0ZXInP1wiXG4gICAgKTtcbiAgaWYgKHR5cGVvZiBuZXdDb25maWcuc3RlZ2EuZW5hYmxlZCAhPSBcImJvb2xlYW5cIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoYHN0ZWdhLmVuYWJsZWQgbXVzdCBiZSBhIGJvb2xlYW4sIHJlY2VpdmVkICR7bmV3Q29uZmlnLnN0ZWdhLmVuYWJsZWR9YCk7XG4gIGlmIChuZXdDb25maWcuc3RlZ2EuZW5hYmxlZCAmJiBuZXdDb25maWcuc3RlZ2Euc3R1ZGlvVXJsID09PSB2b2lkIDApXG4gICAgdGhyb3cgbmV3IEVycm9yKFwic3RlZ2Euc3R1ZGlvVXJsIG11c3QgYmUgZGVmaW5lZCB3aGVuIHN0ZWdhLmVuYWJsZWQgaXMgdHJ1ZVwiKTtcbiAgaWYgKG5ld0NvbmZpZy5zdGVnYS5lbmFibGVkICYmIHR5cGVvZiBuZXdDb25maWcuc3RlZ2Euc3R1ZGlvVXJsICE9IFwic3RyaW5nXCIgJiYgdHlwZW9mIG5ld0NvbmZpZy5zdGVnYS5zdHVkaW9VcmwgIT0gXCJmdW5jdGlvblwiKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBzdGVnYS5zdHVkaW9VcmwgbXVzdCBiZSBhIHN0cmluZyBvciBhIGZ1bmN0aW9uLCByZWNlaXZlZCAke25ld0NvbmZpZy5zdGVnYS5zdHVkaW9Vcmx9YFxuICAgICk7XG4gIGNvbnN0IGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgPCBcInVcIiAmJiB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLCBpc0xvY2FsaG9zdCA9IGlzQnJvd3NlciAmJiBpc0xvY2FsKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk7XG4gIGlzQnJvd3NlciAmJiBpc0xvY2FsaG9zdCAmJiBuZXdDb25maWcudG9rZW4gJiYgbmV3Q29uZmlnLmlnbm9yZUJyb3dzZXJUb2tlbldhcm5pbmcgIT09ICEwID8gcHJpbnRCcm93c2VyVG9rZW5XYXJuaW5nKCkgOiB0eXBlb2YgbmV3Q29uZmlnLnVzZUNkbiA+IFwidVwiICYmIHByaW50Q2RuV2FybmluZygpLCBwcm9qZWN0QmFzZWQgJiYgcHJvamVjdElkKG5ld0NvbmZpZy5wcm9qZWN0SWQpLCBuZXdDb25maWcuZGF0YXNldCAmJiBkYXRhc2V0KG5ld0NvbmZpZy5kYXRhc2V0KSwgXCJyZXF1ZXN0VGFnUHJlZml4XCIgaW4gbmV3Q29uZmlnICYmIChuZXdDb25maWcucmVxdWVzdFRhZ1ByZWZpeCA9IG5ld0NvbmZpZy5yZXF1ZXN0VGFnUHJlZml4ID8gcmVxdWVzdFRhZyhuZXdDb25maWcucmVxdWVzdFRhZ1ByZWZpeCkucmVwbGFjZSgvXFwuKyQvLCBcIlwiKSA6IHZvaWQgMCksIG5ld0NvbmZpZy5hcGlWZXJzaW9uID0gYCR7bmV3Q29uZmlnLmFwaVZlcnNpb259YC5yZXBsYWNlKC9edi8sIFwiXCIpLCBuZXdDb25maWcuaXNEZWZhdWx0QXBpID0gbmV3Q29uZmlnLmFwaUhvc3QgPT09IGRlZmF1bHRDb25maWcuYXBpSG9zdCwgbmV3Q29uZmlnLnVzZUNkbiA9PT0gITAgJiYgbmV3Q29uZmlnLndpdGhDcmVkZW50aWFscyAmJiBwcmludENkbkFuZFdpdGhDcmVkZW50aWFsc1dhcm5pbmcoKSwgbmV3Q29uZmlnLnVzZUNkbiA9IG5ld0NvbmZpZy51c2VDZG4gIT09ICExICYmICFuZXdDb25maWcud2l0aENyZWRlbnRpYWxzLCB2YWxpZGF0ZUFwaVZlcnNpb24obmV3Q29uZmlnLmFwaVZlcnNpb24pO1xuICBjb25zdCBob3N0UGFydHMgPSBuZXdDb25maWcuYXBpSG9zdC5zcGxpdChcIjovL1wiLCAyKSwgcHJvdG9jb2wgPSBob3N0UGFydHNbMF0sIGhvc3QgPSBob3N0UGFydHNbMV0sIGNkbkhvc3QgPSBuZXdDb25maWcuaXNEZWZhdWx0QXBpID8gZGVmYXVsdENkbkhvc3QgOiBob3N0O1xuICByZXR1cm4gbmV3Q29uZmlnLnVzZVByb2plY3RIb3N0bmFtZSA/IChuZXdDb25maWcudXJsID0gYCR7cHJvdG9jb2x9Oi8vJHtuZXdDb25maWcucHJvamVjdElkfS4ke2hvc3R9L3Yke25ld0NvbmZpZy5hcGlWZXJzaW9ufWAsIG5ld0NvbmZpZy5jZG5VcmwgPSBgJHtwcm90b2NvbH06Ly8ke25ld0NvbmZpZy5wcm9qZWN0SWR9LiR7Y2RuSG9zdH0vdiR7bmV3Q29uZmlnLmFwaVZlcnNpb259YCkgOiAobmV3Q29uZmlnLnVybCA9IGAke25ld0NvbmZpZy5hcGlIb3N0fS92JHtuZXdDb25maWcuYXBpVmVyc2lvbn1gLCBuZXdDb25maWcuY2RuVXJsID0gbmV3Q29uZmlnLnVybCksIG5ld0NvbmZpZztcbn07XG5mdW5jdGlvbiBnZXRTZWxlY3Rpb24oc2VsKSB7XG4gIGlmICh0eXBlb2Ygc2VsID09IFwic3RyaW5nXCIpXG4gICAgcmV0dXJuIHsgaWQ6IHNlbCB9O1xuICBpZiAoQXJyYXkuaXNBcnJheShzZWwpKVxuICAgIHJldHVybiB7IHF1ZXJ5OiBcIipbX2lkIGluICRpZHNdXCIsIHBhcmFtczogeyBpZHM6IHNlbCB9IH07XG4gIGlmICh0eXBlb2Ygc2VsID09IFwib2JqZWN0XCIgJiYgc2VsICE9PSBudWxsICYmIFwicXVlcnlcIiBpbiBzZWwgJiYgdHlwZW9mIHNlbC5xdWVyeSA9PSBcInN0cmluZ1wiKVxuICAgIHJldHVybiBcInBhcmFtc1wiIGluIHNlbCAmJiB0eXBlb2Ygc2VsLnBhcmFtcyA9PSBcIm9iamVjdFwiICYmIHNlbC5wYXJhbXMgIT09IG51bGwgPyB7IHF1ZXJ5OiBzZWwucXVlcnksIHBhcmFtczogc2VsLnBhcmFtcyB9IDogeyBxdWVyeTogc2VsLnF1ZXJ5IH07XG4gIGNvbnN0IHNlbGVjdGlvbk9wdHMgPSBbXG4gICAgXCIqIERvY3VtZW50IElEICg8ZG9jSWQ+KVwiLFxuICAgIFwiKiBBcnJheSBvZiBkb2N1bWVudCBJRHNcIixcbiAgICBcIiogT2JqZWN0IGNvbnRhaW5pbmcgYHF1ZXJ5YFwiXG4gIF0uam9pbihgXG5gKTtcbiAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHNlbGVjdGlvbiAtIG11c3QgYmUgb25lIG9mOlxuXG4ke3NlbGVjdGlvbk9wdHN9YCk7XG59XG5jbGFzcyBCYXNlUGF0Y2gge1xuICBzZWxlY3Rpb247XG4gIG9wZXJhdGlvbnM7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdGlvbiwgb3BlcmF0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5zZWxlY3Rpb24gPSBzZWxlY3Rpb24sIHRoaXMub3BlcmF0aW9ucyA9IG9wZXJhdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGdpdmVuIGF0dHJpYnV0ZXMgdG8gdGhlIGRvY3VtZW50LiBEb2VzIE5PVCBtZXJnZSBvYmplY3RzLlxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHBhdGNoLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBhdHRycyAtIEF0dHJpYnV0ZXMgdG8gc2V0LiBUbyBzZXQgYSBkZWVwIGF0dHJpYnV0ZSwgdXNlIEpTT05NYXRjaCwgZWc6IFxce1wibmVzdGVkLnByb3BcIjogXCJ2YWx1ZVwiXFx9XG4gICAqL1xuICBzZXQoYXR0cnMpIHtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKFwic2V0XCIsIGF0dHJzKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgZ2l2ZW4gYXR0cmlidXRlcyB0byB0aGUgZG9jdW1lbnQgaWYgdGhleSBhcmUgbm90IGN1cnJlbnRseSBzZXQuIERvZXMgTk9UIG1lcmdlIG9iamVjdHMuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgcGF0Y2gsIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGF0dHJzIC0gQXR0cmlidXRlcyB0byBzZXQuIFRvIHNldCBhIGRlZXAgYXR0cmlidXRlLCB1c2UgSlNPTk1hdGNoLCBlZzogXFx7XCJuZXN0ZWQucHJvcFwiOiBcInZhbHVlXCJcXH1cbiAgICovXG4gIHNldElmTWlzc2luZyhhdHRycykge1xuICAgIHJldHVybiB0aGlzLl9hc3NpZ24oXCJzZXRJZk1pc3NpbmdcIiwgYXR0cnMpO1xuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhIFwiZGlmZi1tYXRjaC1wYXRjaFwiIG9wZXJhdGlvbiBvbiB0aGUgc3RyaW5nIGF0dHJpYnV0ZXMgcHJvdmlkZWQuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgcGF0Y2gsIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGF0dHJzIC0gQXR0cmlidXRlcyB0byBwZXJmb3JtIG9wZXJhdGlvbiBvbi4gVG8gc2V0IGEgZGVlcCBhdHRyaWJ1dGUsIHVzZSBKU09OTWF0Y2gsIGVnOiBcXHtcIm5lc3RlZC5wcm9wXCI6IFwiZG1wXCJcXH1cbiAgICovXG4gIGRpZmZNYXRjaFBhdGNoKGF0dHJzKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRlT2JqZWN0KFwiZGlmZk1hdGNoUGF0Y2hcIiwgYXR0cnMpLCB0aGlzLl9hc3NpZ24oXCJkaWZmTWF0Y2hQYXRjaFwiLCBhdHRycyk7XG4gIH1cbiAgLyoqXG4gICAqIFVuc2V0cyB0aGUgYXR0cmlidXRlIHBhdGhzIHByb3ZpZGVkLlxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHBhdGNoLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBhdHRycyAtIEF0dHJpYnV0ZSBwYXRocyB0byB1bnNldC5cbiAgICovXG4gIHVuc2V0KGF0dHJzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGF0dHJzKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInVuc2V0KGF0dHJzKSB0YWtlcyBhbiBhcnJheSBvZiBhdHRyaWJ1dGVzIHRvIHVuc2V0LCBub24tYXJyYXkgZ2l2ZW5cIik7XG4gICAgcmV0dXJuIHRoaXMub3BlcmF0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3BlcmF0aW9ucywgeyB1bnNldDogYXR0cnMgfSksIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEluY3JlbWVudCBhIG51bWVyaWMgdmFsdWUuIEVhY2ggZW50cnkgaW4gdGhlIGFyZ3VtZW50IGlzIGVpdGhlciBhbiBhdHRyaWJ1dGUgb3IgYSBKU09OIHBhdGguIFRoZSB2YWx1ZSBtYXkgYmUgYSBwb3NpdGl2ZSBvciBuZWdhdGl2ZSBpbnRlZ2VyIG9yIGZsb2F0aW5nLXBvaW50IHZhbHVlLiBUaGUgb3BlcmF0aW9uIHdpbGwgZmFpbCBpZiB0YXJnZXQgdmFsdWUgaXMgbm90IGEgbnVtZXJpYyB2YWx1ZSwgb3IgZG9lc24ndCBleGlzdC5cbiAgICpcbiAgICogQHBhcmFtIGF0dHJzIC0gT2JqZWN0IG9mIGF0dHJpYnV0ZSBwYXRocyB0byBpbmNyZW1lbnQsIHZhbHVlcyByZXByZXNlbnRpbmcgdGhlIG51bWJlciB0byBpbmNyZW1lbnQgYnkuXG4gICAqL1xuICBpbmMoYXR0cnMpIHtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKFwiaW5jXCIsIGF0dHJzKTtcbiAgfVxuICAvKipcbiAgICogRGVjcmVtZW50IGEgbnVtZXJpYyB2YWx1ZS4gRWFjaCBlbnRyeSBpbiB0aGUgYXJndW1lbnQgaXMgZWl0aGVyIGFuIGF0dHJpYnV0ZSBvciBhIEpTT04gcGF0aC4gVGhlIHZhbHVlIG1heSBiZSBhIHBvc2l0aXZlIG9yIG5lZ2F0aXZlIGludGVnZXIgb3IgZmxvYXRpbmctcG9pbnQgdmFsdWUuIFRoZSBvcGVyYXRpb24gd2lsbCBmYWlsIGlmIHRhcmdldCB2YWx1ZSBpcyBub3QgYSBudW1lcmljIHZhbHVlLCBvciBkb2Vzbid0IGV4aXN0LlxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBPYmplY3Qgb2YgYXR0cmlidXRlIHBhdGhzIHRvIGRlY3JlbWVudCwgdmFsdWVzIHJlcHJlc2VudGluZyB0aGUgbnVtYmVyIHRvIGRlY3JlbWVudCBieS5cbiAgICovXG4gIGRlYyhhdHRycykge1xuICAgIHJldHVybiB0aGlzLl9hc3NpZ24oXCJkZWNcIiwgYXR0cnMpO1xuICB9XG4gIC8qKlxuICAgKiBQcm92aWRlcyBtZXRob2RzIGZvciBtb2RpZnlpbmcgYXJyYXlzLCBieSBpbnNlcnRpbmcsIGFwcGVuZGluZyBhbmQgcmVwbGFjaW5nIGVsZW1lbnRzIHZpYSBhIEpTT05QYXRoIGV4cHJlc3Npb24uXG4gICAqXG4gICAqIEBwYXJhbSBhdCAtIExvY2F0aW9uIHRvIGluc2VydCBhdCwgcmVsYXRpdmUgdG8gdGhlIGdpdmVuIHNlbGVjdG9yLCBvciAncmVwbGFjZScgdGhlIG1hdGNoZWQgcGF0aFxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBKU09OUGF0aCBleHByZXNzaW9uLCBlZyBgY29tbWVudHNbLTFdYCBvciBgYmxvY2tzW19rZXk9PVwiYWJjMTIzXCJdYFxuICAgKiBAcGFyYW0gaXRlbXMgLSBBcnJheSBvZiBpdGVtcyB0byBpbnNlcnQvcmVwbGFjZVxuICAgKi9cbiAgaW5zZXJ0KGF0LCBzZWxlY3RvciwgaXRlbXMpIHtcbiAgICByZXR1cm4gdmFsaWRhdGVJbnNlcnQoYXQsIHNlbGVjdG9yLCBpdGVtcyksIHRoaXMuX2Fzc2lnbihcImluc2VydFwiLCB7IFthdF06IHNlbGVjdG9yLCBpdGVtcyB9KTtcbiAgfVxuICAvKipcbiAgICogQXBwZW5kIHRoZSBnaXZlbiBpdGVtcyB0byB0aGUgYXJyYXkgYXQgdGhlIGdpdmVuIEpTT05QYXRoXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RvciAtIEF0dHJpYnV0ZS9wYXRoIHRvIGFwcGVuZCB0bywgZWcgYGNvbW1lbnRzYCBvciBgcGVyc29uLmhvYmJpZXNgXG4gICAqIEBwYXJhbSBpdGVtcyAtIEFycmF5IG9mIGl0ZW1zIHRvIGFwcGVuZCB0byB0aGUgYXJyYXlcbiAgICovXG4gIGFwcGVuZChzZWxlY3RvciwgaXRlbXMpIHtcbiAgICByZXR1cm4gdGhpcy5pbnNlcnQoXCJhZnRlclwiLCBgJHtzZWxlY3Rvcn1bLTFdYCwgaXRlbXMpO1xuICB9XG4gIC8qKlxuICAgKiBQcmVwZW5kIHRoZSBnaXZlbiBpdGVtcyB0byB0aGUgYXJyYXkgYXQgdGhlIGdpdmVuIEpTT05QYXRoXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RvciAtIEF0dHJpYnV0ZS9wYXRoIHRvIHByZXBlbmQgdG8sIGVnIGBjb21tZW50c2Agb3IgYHBlcnNvbi5ob2JiaWVzYFxuICAgKiBAcGFyYW0gaXRlbXMgLSBBcnJheSBvZiBpdGVtcyB0byBwcmVwZW5kIHRvIHRoZSBhcnJheVxuICAgKi9cbiAgcHJlcGVuZChzZWxlY3RvciwgaXRlbXMpIHtcbiAgICByZXR1cm4gdGhpcy5pbnNlcnQoXCJiZWZvcmVcIiwgYCR7c2VsZWN0b3J9WzBdYCwgaXRlbXMpO1xuICB9XG4gIC8qKlxuICAgKiBDaGFuZ2UgdGhlIGNvbnRlbnRzIG9mIGFuIGFycmF5IGJ5IHJlbW92aW5nIGV4aXN0aW5nIGVsZW1lbnRzIGFuZC9vciBhZGRpbmcgbmV3IGVsZW1lbnRzLlxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBBdHRyaWJ1dGUgb3IgSlNPTlBhdGggZXhwcmVzc2lvbiBmb3IgYXJyYXlcbiAgICogQHBhcmFtIHN0YXJ0IC0gSW5kZXggYXQgd2hpY2ggdG8gc3RhcnQgY2hhbmdpbmcgdGhlIGFycmF5ICh3aXRoIG9yaWdpbiAwKS4gSWYgZ3JlYXRlciB0aGFuIHRoZSBsZW5ndGggb2YgdGhlIGFycmF5LCBhY3R1YWwgc3RhcnRpbmcgaW5kZXggd2lsbCBiZSBzZXQgdG8gdGhlIGxlbmd0aCBvZiB0aGUgYXJyYXkuIElmIG5lZ2F0aXZlLCB3aWxsIGJlZ2luIHRoYXQgbWFueSBlbGVtZW50cyBmcm9tIHRoZSBlbmQgb2YgdGhlIGFycmF5ICh3aXRoIG9yaWdpbiAtMSkgYW5kIHdpbGwgYmUgc2V0IHRvIDAgaWYgYWJzb2x1dGUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHRoZSBsZW5ndGggb2YgdGhlIGFycmF5LnhcbiAgICogQHBhcmFtIGRlbGV0ZUNvdW50IC0gQW4gaW50ZWdlciBpbmRpY2F0aW5nIHRoZSBudW1iZXIgb2Ygb2xkIGFycmF5IGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICogQHBhcmFtIGl0ZW1zIC0gVGhlIGVsZW1lbnRzIHRvIGFkZCB0byB0aGUgYXJyYXksIGJlZ2lubmluZyBhdCB0aGUgc3RhcnQgaW5kZXguIElmIHlvdSBkb24ndCBzcGVjaWZ5IGFueSBlbGVtZW50cywgc3BsaWNlKCkgd2lsbCBvbmx5IHJlbW92ZSBlbGVtZW50cyBmcm9tIHRoZSBhcnJheS5cbiAgICovXG4gIHNwbGljZShzZWxlY3Rvciwgc3RhcnQsIGRlbGV0ZUNvdW50LCBpdGVtcykge1xuICAgIGNvbnN0IGRlbEFsbCA9IHR5cGVvZiBkZWxldGVDb3VudCA+IFwidVwiIHx8IGRlbGV0ZUNvdW50ID09PSAtMSwgc3RhcnRJbmRleCA9IHN0YXJ0IDwgMCA/IHN0YXJ0IC0gMSA6IHN0YXJ0LCBkZWxDb3VudCA9IGRlbEFsbCA/IC0xIDogTWF0aC5tYXgoMCwgc3RhcnQgKyBkZWxldGVDb3VudCksIGRlbFJhbmdlID0gc3RhcnRJbmRleCA8IDAgJiYgZGVsQ291bnQgPj0gMCA/IFwiXCIgOiBkZWxDb3VudCwgcmFuZ2VTZWxlY3RvciA9IGAke3NlbGVjdG9yfVske3N0YXJ0SW5kZXh9OiR7ZGVsUmFuZ2V9XWA7XG4gICAgcmV0dXJuIHRoaXMuaW5zZXJ0KFwicmVwbGFjZVwiLCByYW5nZVNlbGVjdG9yLCBpdGVtcyB8fCBbXSk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgYSByZXZpc2lvbiBjbGF1c2UsIHByZXZlbnRpbmcgdGhlIGRvY3VtZW50IGZyb20gYmVpbmcgcGF0Y2hlZCBpZiB0aGUgYF9yZXZgIHByb3BlcnR5IGRvZXMgbm90IG1hdGNoIHRoZSBnaXZlbiB2YWx1ZVxuICAgKlxuICAgKiBAcGFyYW0gcmV2IC0gUmV2aXNpb24gdG8gbG9jayB0aGUgcGF0Y2ggdG9cbiAgICovXG4gIGlmUmV2aXNpb25JZChyZXYpIHtcbiAgICByZXR1cm4gdGhpcy5vcGVyYXRpb25zLmlmUmV2aXNpb25JRCA9IHJldiwgdGhpcztcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGEgcGxhaW4gSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgcGF0Y2hcbiAgICovXG4gIHNlcmlhbGl6ZSgpIHtcbiAgICByZXR1cm4geyAuLi5nZXRTZWxlY3Rpb24odGhpcy5zZWxlY3Rpb24pLCAuLi50aGlzLm9wZXJhdGlvbnMgfTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGEgcGxhaW4gSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgcGF0Y2hcbiAgICovXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gdGhpcy5zZXJpYWxpemUoKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIHRoZSBwYXRjaCBvZiBhbGwgb3BlcmF0aW9uc1xuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMub3BlcmF0aW9ucyA9IHt9LCB0aGlzO1xuICB9XG4gIF9hc3NpZ24ob3AsIHByb3BzLCBtZXJnZSA9ICEwKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRlT2JqZWN0KG9wLCBwcm9wcyksIHRoaXMub3BlcmF0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3BlcmF0aW9ucywge1xuICAgICAgW29wXTogT2JqZWN0LmFzc2lnbih7fSwgbWVyZ2UgJiYgdGhpcy5vcGVyYXRpb25zW29wXSB8fCB7fSwgcHJvcHMpXG4gICAgfSksIHRoaXM7XG4gIH1cbiAgX3NldChvcCwgcHJvcHMpIHtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKG9wLCBwcm9wcywgITEpO1xuICB9XG59XG5jbGFzcyBPYnNlcnZhYmxlUGF0Y2ggZXh0ZW5kcyBCYXNlUGF0Y2gge1xuICAjY2xpZW50O1xuICBjb25zdHJ1Y3RvcihzZWxlY3Rpb24sIG9wZXJhdGlvbnMsIGNsaWVudCkge1xuICAgIHN1cGVyKHNlbGVjdGlvbiwgb3BlcmF0aW9ucyksIHRoaXMuI2NsaWVudCA9IGNsaWVudDtcbiAgfVxuICAvKipcbiAgICogQ2xvbmVzIHRoZSBwYXRjaFxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlUGF0Y2godGhpcy5zZWxlY3Rpb24sIHsgLi4udGhpcy5vcGVyYXRpb25zIH0sIHRoaXMuI2NsaWVudCk7XG4gIH1cbiAgY29tbWl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuI2NsaWVudClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJObyBgY2xpZW50YCBwYXNzZWQgdG8gcGF0Y2gsIGVpdGhlciBwcm92aWRlIG9uZSBvciBwYXNzIHRoZSBwYXRjaCB0byBhIGNsaWVudHMgYG11dGF0ZSgpYCBtZXRob2RcIlxuICAgICAgKTtcbiAgICBjb25zdCByZXR1cm5GaXJzdCA9IHR5cGVvZiB0aGlzLnNlbGVjdGlvbiA9PSBcInN0cmluZ1wiLCBvcHRzID0gT2JqZWN0LmFzc2lnbih7IHJldHVybkZpcnN0LCByZXR1cm5Eb2N1bWVudHM6ICEwIH0sIG9wdGlvbnMpO1xuICAgIHJldHVybiB0aGlzLiNjbGllbnQubXV0YXRlKHsgcGF0Y2g6IHRoaXMuc2VyaWFsaXplKCkgfSwgb3B0cyk7XG4gIH1cbn1cbmNsYXNzIFBhdGNoIGV4dGVuZHMgQmFzZVBhdGNoIHtcbiAgI2NsaWVudDtcbiAgY29uc3RydWN0b3Ioc2VsZWN0aW9uLCBvcGVyYXRpb25zLCBjbGllbnQpIHtcbiAgICBzdXBlcihzZWxlY3Rpb24sIG9wZXJhdGlvbnMpLCB0aGlzLiNjbGllbnQgPSBjbGllbnQ7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgcGF0Y2hcbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgUGF0Y2godGhpcy5zZWxlY3Rpb24sIHsgLi4udGhpcy5vcGVyYXRpb25zIH0sIHRoaXMuI2NsaWVudCk7XG4gIH1cbiAgY29tbWl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuI2NsaWVudClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJObyBgY2xpZW50YCBwYXNzZWQgdG8gcGF0Y2gsIGVpdGhlciBwcm92aWRlIG9uZSBvciBwYXNzIHRoZSBwYXRjaCB0byBhIGNsaWVudHMgYG11dGF0ZSgpYCBtZXRob2RcIlxuICAgICAgKTtcbiAgICBjb25zdCByZXR1cm5GaXJzdCA9IHR5cGVvZiB0aGlzLnNlbGVjdGlvbiA9PSBcInN0cmluZ1wiLCBvcHRzID0gT2JqZWN0LmFzc2lnbih7IHJldHVybkZpcnN0LCByZXR1cm5Eb2N1bWVudHM6ICEwIH0sIG9wdGlvbnMpO1xuICAgIHJldHVybiB0aGlzLiNjbGllbnQubXV0YXRlKHsgcGF0Y2g6IHRoaXMuc2VyaWFsaXplKCkgfSwgb3B0cyk7XG4gIH1cbn1cbmNvbnN0IGRlZmF1bHRNdXRhdGVPcHRpb25zID0geyByZXR1cm5Eb2N1bWVudHM6ICExIH07XG5jbGFzcyBCYXNlVHJhbnNhY3Rpb24ge1xuICBvcGVyYXRpb25zO1xuICB0cnhJZDtcbiAgY29uc3RydWN0b3Iob3BlcmF0aW9ucyA9IFtdLCB0cmFuc2FjdGlvbklkKSB7XG4gICAgdGhpcy5vcGVyYXRpb25zID0gb3BlcmF0aW9ucywgdGhpcy50cnhJZCA9IHRyYW5zYWN0aW9uSWQ7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgU2FuaXR5IGRvY3VtZW50LiBJZiBgX2lkYCBpcyBwcm92aWRlZCBhbmQgYWxyZWFkeSBleGlzdHMsIHRoZSBtdXRhdGlvbiB3aWxsIGZhaWwuIElmIG5vIGBfaWRgIGlzIGdpdmVuLCBvbmUgd2lsbCBhdXRvbWF0aWNhbGx5IGJlIGdlbmVyYXRlZCBieSB0aGUgZGF0YWJhc2UuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24sIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGRvYyAtIERvY3VtZW50IHRvIGNyZWF0ZS4gUmVxdWlyZXMgYSBgX3R5cGVgIHByb3BlcnR5LlxuICAgKi9cbiAgY3JlYXRlKGRvYykge1xuICAgIHJldHVybiB2YWxpZGF0ZU9iamVjdChcImNyZWF0ZVwiLCBkb2MpLCB0aGlzLl9hZGQoeyBjcmVhdGU6IGRvYyB9KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBTYW5pdHkgZG9jdW1lbnQuIElmIGEgZG9jdW1lbnQgd2l0aCB0aGUgc2FtZSBgX2lkYCBhbHJlYWR5IGV4aXN0cywgdGhlIGNyZWF0ZSBvcGVyYXRpb24gd2lsbCBiZSBpZ25vcmVkLlxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHRyYW5zYWN0aW9uLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBkb2MgLSBEb2N1bWVudCB0byBjcmVhdGUgaWYgaXQgZG9lcyBub3QgYWxyZWFkeSBleGlzdC4gUmVxdWlyZXMgYF9pZGAgYW5kIGBfdHlwZWAgcHJvcGVydGllcy5cbiAgICovXG4gIGNyZWF0ZUlmTm90RXhpc3RzKGRvYykge1xuICAgIGNvbnN0IG9wID0gXCJjcmVhdGVJZk5vdEV4aXN0c1wiO1xuICAgIHJldHVybiB2YWxpZGF0ZU9iamVjdChvcCwgZG9jKSwgcmVxdWlyZURvY3VtZW50SWQob3AsIGRvYyksIHRoaXMuX2FkZCh7IFtvcF06IGRvYyB9KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBTYW5pdHkgZG9jdW1lbnQsIG9yIHJlcGxhY2VzIGFuIGV4aXN0aW5nIG9uZSBpZiB0aGUgc2FtZSBgX2lkYCBpcyBhbHJlYWR5IHVzZWQuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24sIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGRvYyAtIERvY3VtZW50IHRvIGNyZWF0ZSBvciByZXBsYWNlLiBSZXF1aXJlcyBgX2lkYCBhbmQgYF90eXBlYCBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgY3JlYXRlT3JSZXBsYWNlKGRvYykge1xuICAgIGNvbnN0IG9wID0gXCJjcmVhdGVPclJlcGxhY2VcIjtcbiAgICByZXR1cm4gdmFsaWRhdGVPYmplY3Qob3AsIGRvYyksIHJlcXVpcmVEb2N1bWVudElkKG9wLCBkb2MpLCB0aGlzLl9hZGQoeyBbb3BdOiBkb2MgfSk7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZXMgdGhlIGRvY3VtZW50IHdpdGggdGhlIGdpdmVuIGRvY3VtZW50IElEXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24sIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGRvY3VtZW50SWQgLSBEb2N1bWVudCBJRCB0byBkZWxldGVcbiAgICovXG4gIGRlbGV0ZShkb2N1bWVudElkKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRlRG9jdW1lbnRJZChcImRlbGV0ZVwiLCBkb2N1bWVudElkKSwgdGhpcy5fYWRkKHsgZGVsZXRlOiB7IGlkOiBkb2N1bWVudElkIH0gfSk7XG4gIH1cbiAgdHJhbnNhY3Rpb25JZChpZCkge1xuICAgIHJldHVybiBpZCA/ICh0aGlzLnRyeElkID0gaWQsIHRoaXMpIDogdGhpcy50cnhJZDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGEgcGxhaW4gSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgdHJhbnNhY3Rpb25cbiAgICovXG4gIHNlcmlhbGl6ZSgpIHtcbiAgICByZXR1cm4gWy4uLnRoaXMub3BlcmF0aW9uc107XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIHBsYWluIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHRyYW5zYWN0aW9uXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VyaWFsaXplKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgdHJhbnNhY3Rpb24gb2YgYWxsIG9wZXJhdGlvbnNcbiAgICovXG4gIHJlc2V0KCkge1xuICAgIHJldHVybiB0aGlzLm9wZXJhdGlvbnMgPSBbXSwgdGhpcztcbiAgfVxuICBfYWRkKG11dCkge1xuICAgIHJldHVybiB0aGlzLm9wZXJhdGlvbnMucHVzaChtdXQpLCB0aGlzO1xuICB9XG59XG5jbGFzcyBUcmFuc2FjdGlvbiBleHRlbmRzIEJhc2VUcmFuc2FjdGlvbiB7XG4gICNjbGllbnQ7XG4gIGNvbnN0cnVjdG9yKG9wZXJhdGlvbnMsIGNsaWVudCwgdHJhbnNhY3Rpb25JZCkge1xuICAgIHN1cGVyKG9wZXJhdGlvbnMsIHRyYW5zYWN0aW9uSWQpLCB0aGlzLiNjbGllbnQgPSBjbGllbnQ7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgdHJhbnNhY3Rpb25cbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgVHJhbnNhY3Rpb24oWy4uLnRoaXMub3BlcmF0aW9uc10sIHRoaXMuI2NsaWVudCwgdGhpcy50cnhJZCk7XG4gIH1cbiAgY29tbWl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuI2NsaWVudClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJObyBgY2xpZW50YCBwYXNzZWQgdG8gdHJhbnNhY3Rpb24sIGVpdGhlciBwcm92aWRlIG9uZSBvciBwYXNzIHRoZSB0cmFuc2FjdGlvbiB0byBhIGNsaWVudHMgYG11dGF0ZSgpYCBtZXRob2RcIlxuICAgICAgKTtcbiAgICByZXR1cm4gdGhpcy4jY2xpZW50Lm11dGF0ZShcbiAgICAgIHRoaXMuc2VyaWFsaXplKCksXG4gICAgICBPYmplY3QuYXNzaWduKHsgdHJhbnNhY3Rpb25JZDogdGhpcy50cnhJZCB9LCBkZWZhdWx0TXV0YXRlT3B0aW9ucywgb3B0aW9ucyB8fCB7fSlcbiAgICApO1xuICB9XG4gIHBhdGNoKHBhdGNoT3JEb2N1bWVudElkLCBwYXRjaE9wcykge1xuICAgIGNvbnN0IGlzQnVpbGRlciA9IHR5cGVvZiBwYXRjaE9wcyA9PSBcImZ1bmN0aW9uXCI7XG4gICAgaWYgKHR5cGVvZiBwYXRjaE9yRG9jdW1lbnRJZCAhPSBcInN0cmluZ1wiICYmIHBhdGNoT3JEb2N1bWVudElkIGluc3RhbmNlb2YgUGF0Y2gpXG4gICAgICByZXR1cm4gdGhpcy5fYWRkKHsgcGF0Y2g6IHBhdGNoT3JEb2N1bWVudElkLnNlcmlhbGl6ZSgpIH0pO1xuICAgIGlmIChpc0J1aWxkZXIpIHtcbiAgICAgIGNvbnN0IHBhdGNoID0gcGF0Y2hPcHMobmV3IFBhdGNoKHBhdGNoT3JEb2N1bWVudElkLCB7fSwgdGhpcy4jY2xpZW50KSk7XG4gICAgICBpZiAoIShwYXRjaCBpbnN0YW5jZW9mIFBhdGNoKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZnVuY3Rpb24gcGFzc2VkIHRvIGBwYXRjaCgpYCBtdXN0IHJldHVybiB0aGUgcGF0Y2hcIik7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkKHsgcGF0Y2g6IHBhdGNoLnNlcmlhbGl6ZSgpIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWRkKHsgcGF0Y2g6IHsgaWQ6IHBhdGNoT3JEb2N1bWVudElkLCAuLi5wYXRjaE9wcyB9IH0pO1xuICB9XG59XG5jbGFzcyBPYnNlcnZhYmxlVHJhbnNhY3Rpb24gZXh0ZW5kcyBCYXNlVHJhbnNhY3Rpb24ge1xuICAjY2xpZW50O1xuICBjb25zdHJ1Y3RvcihvcGVyYXRpb25zLCBjbGllbnQsIHRyYW5zYWN0aW9uSWQpIHtcbiAgICBzdXBlcihvcGVyYXRpb25zLCB0cmFuc2FjdGlvbklkKSwgdGhpcy4jY2xpZW50ID0gY2xpZW50O1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHRyYW5zYWN0aW9uXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGVUcmFuc2FjdGlvbihbLi4udGhpcy5vcGVyYXRpb25zXSwgdGhpcy4jY2xpZW50LCB0aGlzLnRyeElkKTtcbiAgfVxuICBjb21taXQob3B0aW9ucykge1xuICAgIGlmICghdGhpcy4jY2xpZW50KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIk5vIGBjbGllbnRgIHBhc3NlZCB0byB0cmFuc2FjdGlvbiwgZWl0aGVyIHByb3ZpZGUgb25lIG9yIHBhc3MgdGhlIHRyYW5zYWN0aW9uIHRvIGEgY2xpZW50cyBgbXV0YXRlKClgIG1ldGhvZFwiXG4gICAgICApO1xuICAgIHJldHVybiB0aGlzLiNjbGllbnQubXV0YXRlKFxuICAgICAgdGhpcy5zZXJpYWxpemUoKSxcbiAgICAgIE9iamVjdC5hc3NpZ24oeyB0cmFuc2FjdGlvbklkOiB0aGlzLnRyeElkIH0sIGRlZmF1bHRNdXRhdGVPcHRpb25zLCBvcHRpb25zIHx8IHt9KVxuICAgICk7XG4gIH1cbiAgcGF0Y2gocGF0Y2hPckRvY3VtZW50SWQsIHBhdGNoT3BzKSB7XG4gICAgY29uc3QgaXNCdWlsZGVyID0gdHlwZW9mIHBhdGNoT3BzID09IFwiZnVuY3Rpb25cIjtcbiAgICBpZiAodHlwZW9mIHBhdGNoT3JEb2N1bWVudElkICE9IFwic3RyaW5nXCIgJiYgcGF0Y2hPckRvY3VtZW50SWQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlUGF0Y2gpXG4gICAgICByZXR1cm4gdGhpcy5fYWRkKHsgcGF0Y2g6IHBhdGNoT3JEb2N1bWVudElkLnNlcmlhbGl6ZSgpIH0pO1xuICAgIGlmIChpc0J1aWxkZXIpIHtcbiAgICAgIGNvbnN0IHBhdGNoID0gcGF0Y2hPcHMobmV3IE9ic2VydmFibGVQYXRjaChwYXRjaE9yRG9jdW1lbnRJZCwge30sIHRoaXMuI2NsaWVudCkpO1xuICAgICAgaWYgKCEocGF0Y2ggaW5zdGFuY2VvZiBPYnNlcnZhYmxlUGF0Y2gpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJmdW5jdGlvbiBwYXNzZWQgdG8gYHBhdGNoKClgIG11c3QgcmV0dXJuIHRoZSBwYXRjaFwiKTtcbiAgICAgIHJldHVybiB0aGlzLl9hZGQoeyBwYXRjaDogcGF0Y2guc2VyaWFsaXplKCkgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9hZGQoeyBwYXRjaDogeyBpZDogcGF0Y2hPckRvY3VtZW50SWQsIC4uLnBhdGNoT3BzIH0gfSk7XG4gIH1cbn1cbmNvbnN0IHByb2plY3RIZWFkZXIgPSBcIlgtU2FuaXR5LVByb2plY3QtSURcIjtcbmZ1bmN0aW9uIHJlcXVlc3RPcHRpb25zKGNvbmZpZywgb3ZlcnJpZGVzID0ge30pIHtcbiAgY29uc3QgaGVhZGVyczIgPSB7fSwgdG9rZW4gPSBvdmVycmlkZXMudG9rZW4gfHwgY29uZmlnLnRva2VuO1xuICB0b2tlbiAmJiAoaGVhZGVyczIuQXV0aG9yaXphdGlvbiA9IGBCZWFyZXIgJHt0b2tlbn1gKSwgIW92ZXJyaWRlcy51c2VHbG9iYWxBcGkgJiYgIWNvbmZpZy51c2VQcm9qZWN0SG9zdG5hbWUgJiYgY29uZmlnLnByb2plY3RJZCAmJiAoaGVhZGVyczJbcHJvamVjdEhlYWRlcl0gPSBjb25maWcucHJvamVjdElkKTtcbiAgY29uc3Qgd2l0aENyZWRlbnRpYWxzID0gISEodHlwZW9mIG92ZXJyaWRlcy53aXRoQ3JlZGVudGlhbHMgPiBcInVcIiA/IGNvbmZpZy50b2tlbiB8fCBjb25maWcud2l0aENyZWRlbnRpYWxzIDogb3ZlcnJpZGVzLndpdGhDcmVkZW50aWFscyksIHRpbWVvdXQgPSB0eXBlb2Ygb3ZlcnJpZGVzLnRpbWVvdXQgPiBcInVcIiA/IGNvbmZpZy50aW1lb3V0IDogb3ZlcnJpZGVzLnRpbWVvdXQ7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBvdmVycmlkZXMsIHtcbiAgICBoZWFkZXJzOiBPYmplY3QuYXNzaWduKHt9LCBoZWFkZXJzMiwgb3ZlcnJpZGVzLmhlYWRlcnMgfHwge30pLFxuICAgIHRpbWVvdXQ6IHR5cGVvZiB0aW1lb3V0ID4gXCJ1XCIgPyA1ICogNjAgKiAxZTMgOiB0aW1lb3V0LFxuICAgIHByb3h5OiBvdmVycmlkZXMucHJveHkgfHwgY29uZmlnLnByb3h5LFxuICAgIGpzb246ICEwLFxuICAgIHdpdGhDcmVkZW50aWFscyxcbiAgICBmZXRjaDogdHlwZW9mIG92ZXJyaWRlcy5mZXRjaCA9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBjb25maWcuZmV0Y2ggPT0gXCJvYmplY3RcIiA/IHsgLi4uY29uZmlnLmZldGNoLCAuLi5vdmVycmlkZXMuZmV0Y2ggfSA6IG92ZXJyaWRlcy5mZXRjaCB8fCBjb25maWcuZmV0Y2hcbiAgfSk7XG59XG5jb25zdCBlbmNvZGVRdWVyeVN0cmluZyA9ICh7XG4gIHF1ZXJ5LFxuICBwYXJhbXMgPSB7fSxcbiAgb3B0aW9ucyA9IHt9XG59KSA9PiB7XG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKSwgeyB0YWcsIGluY2x1ZGVNdXRhdGlvbnMsIHJldHVyblF1ZXJ5LCAuLi5vcHRzIH0gPSBvcHRpb25zO1xuICB0YWcgJiYgc2VhcmNoUGFyYW1zLmFwcGVuZChcInRhZ1wiLCB0YWcpLCBzZWFyY2hQYXJhbXMuYXBwZW5kKFwicXVlcnlcIiwgcXVlcnkpO1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwYXJhbXMpKVxuICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQoYCQke2tleX1gLCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhvcHRzKSlcbiAgICB2YWx1ZSAmJiBzZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgYCR7dmFsdWV9YCk7XG4gIHJldHVybiByZXR1cm5RdWVyeSA9PT0gITEgJiYgc2VhcmNoUGFyYW1zLmFwcGVuZChcInJldHVyblF1ZXJ5XCIsIFwiZmFsc2VcIiksIGluY2x1ZGVNdXRhdGlvbnMgPT09ICExICYmIHNlYXJjaFBhcmFtcy5hcHBlbmQoXCJpbmNsdWRlTXV0YXRpb25zXCIsIFwiZmFsc2VcIiksIGA/JHtzZWFyY2hQYXJhbXN9YDtcbn0sIGV4Y2x1ZGVGYWxzZXkgPSAocGFyYW0sIGRlZlZhbHVlKSA9PiBwYXJhbSA9PT0gITEgPyB2b2lkIDAgOiB0eXBlb2YgcGFyYW0gPiBcInVcIiA/IGRlZlZhbHVlIDogcGFyYW0sIGdldE11dGF0aW9uUXVlcnkgPSAob3B0aW9ucyA9IHt9KSA9PiAoe1xuICBkcnlSdW46IG9wdGlvbnMuZHJ5UnVuLFxuICByZXR1cm5JZHM6ICEwLFxuICByZXR1cm5Eb2N1bWVudHM6IGV4Y2x1ZGVGYWxzZXkob3B0aW9ucy5yZXR1cm5Eb2N1bWVudHMsICEwKSxcbiAgdmlzaWJpbGl0eTogb3B0aW9ucy52aXNpYmlsaXR5IHx8IFwic3luY1wiLFxuICBhdXRvR2VuZXJhdGVBcnJheUtleXM6IG9wdGlvbnMuYXV0b0dlbmVyYXRlQXJyYXlLZXlzLFxuICBza2lwQ3Jvc3NEYXRhc2V0UmVmZXJlbmNlVmFsaWRhdGlvbjogb3B0aW9ucy5za2lwQ3Jvc3NEYXRhc2V0UmVmZXJlbmNlVmFsaWRhdGlvblxufSksIGlzUmVzcG9uc2UgPSAoZXZlbnQpID0+IGV2ZW50LnR5cGUgPT09IFwicmVzcG9uc2VcIiwgZ2V0Qm9keSA9IChldmVudCkgPT4gZXZlbnQuYm9keSwgaW5kZXhCeSA9IChkb2NzLCBhdHRyKSA9PiBkb2NzLnJlZHVjZSgoaW5kZXhlZCwgZG9jKSA9PiAoaW5kZXhlZFthdHRyKGRvYyldID0gZG9jLCBpbmRleGVkKSwgLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCkpLCBnZXRRdWVyeVNpemVMaW1pdCA9IDExMjY0O1xuZnVuY3Rpb24gX2ZldGNoKGNsaWVudCwgaHR0cFJlcXVlc3QsIF9zdGVnYSwgcXVlcnksIF9wYXJhbXMgPSB7fSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHN0ZWdhID0gXCJzdGVnYVwiIGluIG9wdGlvbnMgPyB7XG4gICAgLi4uX3N0ZWdhIHx8IHt9LFxuICAgIC4uLnR5cGVvZiBvcHRpb25zLnN0ZWdhID09IFwiYm9vbGVhblwiID8geyBlbmFibGVkOiBvcHRpb25zLnN0ZWdhIH0gOiBvcHRpb25zLnN0ZWdhIHx8IHt9XG4gIH0gOiBfc3RlZ2EsIHBhcmFtcyA9IHN0ZWdhLmVuYWJsZWQgPyBzdGVnYUNsZWFuKF9wYXJhbXMpIDogX3BhcmFtcywgbWFwUmVzcG9uc2UgPSBvcHRpb25zLmZpbHRlclJlc3BvbnNlID09PSAhMSA/IChyZXMpID0+IHJlcyA6IChyZXMpID0+IHJlcy5yZXN1bHQsIHsgY2FjaGUsIG5leHQsIC4uLm9wdHMgfSA9IHtcbiAgICAvLyBPcHQgb3V0IG9mIHNldHRpbmcgYSBgc2lnbmFsYCBvbiBhbiBpbnRlcm5hbCBgZmV0Y2hgIGlmIG9uZSBpc24ndCBwcm92aWRlZC5cbiAgICAvLyBUaGlzIGlzIG5lY2Vzc2FyeSBpbiBSZWFjdCBTZXJ2ZXIgQ29tcG9uZW50cyB0byBhdm9pZCBvcHRpbmcgb3V0IG9mIFJlcXVlc3QgTWVtb2l6YXRpb24uXG4gICAgdXNlQWJvcnRTaWduYWw6IHR5cGVvZiBvcHRpb25zLnNpZ25hbCA8IFwidVwiLFxuICAgIC8vIFNldCBgcmVzdWx0U291cmNlTWFwJyB3aGVuIHN0ZWdhIGlzIGVuYWJsZWQsIGFzIGl0J3MgcmVxdWlyZWQgZm9yIGVuY29kaW5nLlxuICAgIHJlc3VsdFNvdXJjZU1hcDogc3RlZ2EuZW5hYmxlZCA/IFwid2l0aEtleUFycmF5U2VsZWN0b3JcIiA6IG9wdGlvbnMucmVzdWx0U291cmNlTWFwLFxuICAgIC4uLm9wdGlvbnMsXG4gICAgLy8gRGVmYXVsdCB0byBub3QgcmV0dXJuaW5nIHRoZSBxdWVyeSwgdW5sZXNzIGBmaWx0ZXJSZXNwb25zZWAgaXMgYGZhbHNlYCxcbiAgICAvLyBvciBgcmV0dXJuUXVlcnlgIGlzIGV4cGxpY2l0bHkgc2V0LiBgdHJ1ZWAgaXMgdGhlIGRlZmF1bHQgaW4gQ29udGVudCBMYWtlLCBzbyBza2lwIGlmIHRydXRoeVxuICAgIHJldHVyblF1ZXJ5OiBvcHRpb25zLmZpbHRlclJlc3BvbnNlID09PSAhMSAmJiBvcHRpb25zLnJldHVyblF1ZXJ5ICE9PSAhMVxuICB9LCByZXFPcHRzID0gdHlwZW9mIGNhY2hlIDwgXCJ1XCIgfHwgdHlwZW9mIG5leHQgPCBcInVcIiA/IHsgLi4ub3B0cywgZmV0Y2g6IHsgY2FjaGUsIG5leHQgfSB9IDogb3B0cywgJHJlcXVlc3QgPSBfZGF0YVJlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgXCJxdWVyeVwiLCB7IHF1ZXJ5LCBwYXJhbXMgfSwgcmVxT3B0cyk7XG4gIHJldHVybiBzdGVnYS5lbmFibGVkID8gJHJlcXVlc3QucGlwZShcbiAgICBjb21iaW5lTGF0ZXN0V2l0aChcbiAgICAgIGZyb20oXG4gICAgICAgIGltcG9ydChcIi4vX2NodW5rcy1lcy9zdGVnYUVuY29kZVNvdXJjZU1hcC5qc1wiKS50aGVuKGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgICByZXR1cm4gbi5zdGVnYUVuY29kZVNvdXJjZU1hcCQxO1xuICAgICAgICB9KS50aGVuKFxuICAgICAgICAgICh7IHN0ZWdhRW5jb2RlU291cmNlTWFwIH0pID0+IHN0ZWdhRW5jb2RlU291cmNlTWFwXG4gICAgICAgIClcbiAgICAgIClcbiAgICApLFxuICAgIG1hcChcbiAgICAgIChbcmVzLCBzdGVnYUVuY29kZVNvdXJjZU1hcF0pID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gc3RlZ2FFbmNvZGVTb3VyY2VNYXAocmVzLnJlc3VsdCwgcmVzLnJlc3VsdFNvdXJjZU1hcCwgc3RlZ2EpO1xuICAgICAgICByZXR1cm4gbWFwUmVzcG9uc2UoeyAuLi5yZXMsIHJlc3VsdCB9KTtcbiAgICAgIH1cbiAgICApXG4gICkgOiAkcmVxdWVzdC5waXBlKG1hcChtYXBSZXNwb25zZSkpO1xufVxuZnVuY3Rpb24gX2dldERvY3VtZW50KGNsaWVudCwgaHR0cFJlcXVlc3QsIGlkLCBvcHRzID0ge30pIHtcbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICB1cmk6IF9nZXREYXRhVXJsKGNsaWVudCwgXCJkb2NcIiwgaWQpLFxuICAgIGpzb246ICEwLFxuICAgIHRhZzogb3B0cy50YWcsXG4gICAgc2lnbmFsOiBvcHRzLnNpZ25hbFxuICB9O1xuICByZXR1cm4gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG9wdGlvbnMpLnBpcGUoXG4gICAgZmlsdGVyKGlzUmVzcG9uc2UpLFxuICAgIG1hcCgoZXZlbnQpID0+IGV2ZW50LmJvZHkuZG9jdW1lbnRzICYmIGV2ZW50LmJvZHkuZG9jdW1lbnRzWzBdKVxuICApO1xufVxuZnVuY3Rpb24gX2dldERvY3VtZW50cyhjbGllbnQsIGh0dHBSZXF1ZXN0LCBpZHMsIG9wdHMgPSB7fSkge1xuICBjb25zdCBvcHRpb25zID0ge1xuICAgIHVyaTogX2dldERhdGFVcmwoY2xpZW50LCBcImRvY1wiLCBpZHMuam9pbihcIixcIikpLFxuICAgIGpzb246ICEwLFxuICAgIHRhZzogb3B0cy50YWcsXG4gICAgc2lnbmFsOiBvcHRzLnNpZ25hbFxuICB9O1xuICByZXR1cm4gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG9wdGlvbnMpLnBpcGUoXG4gICAgZmlsdGVyKGlzUmVzcG9uc2UpLFxuICAgIG1hcCgoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGluZGV4ZWQgPSBpbmRleEJ5KGV2ZW50LmJvZHkuZG9jdW1lbnRzIHx8IFtdLCAoZG9jKSA9PiBkb2MuX2lkKTtcbiAgICAgIHJldHVybiBpZHMubWFwKChpZCkgPT4gaW5kZXhlZFtpZF0gfHwgbnVsbCk7XG4gICAgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIF9jcmVhdGVJZk5vdEV4aXN0cyhjbGllbnQsIGh0dHBSZXF1ZXN0LCBkb2MsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHJlcXVpcmVEb2N1bWVudElkKFwiY3JlYXRlSWZOb3RFeGlzdHNcIiwgZG9jKSwgX2NyZWF0ZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBkb2MsIFwiY3JlYXRlSWZOb3RFeGlzdHNcIiwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBfY3JlYXRlT3JSZXBsYWNlKGNsaWVudCwgaHR0cFJlcXVlc3QsIGRvYywgb3B0aW9ucykge1xuICByZXR1cm4gcmVxdWlyZURvY3VtZW50SWQoXCJjcmVhdGVPclJlcGxhY2VcIiwgZG9jKSwgX2NyZWF0ZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBkb2MsIFwiY3JlYXRlT3JSZXBsYWNlXCIsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gX2RlbGV0ZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBzZWxlY3Rpb24sIG9wdGlvbnMpIHtcbiAgcmV0dXJuIF9kYXRhUmVxdWVzdChcbiAgICBjbGllbnQsXG4gICAgaHR0cFJlcXVlc3QsXG4gICAgXCJtdXRhdGVcIixcbiAgICB7IG11dGF0aW9uczogW3sgZGVsZXRlOiBnZXRTZWxlY3Rpb24oc2VsZWN0aW9uKSB9XSB9LFxuICAgIG9wdGlvbnNcbiAgKTtcbn1cbmZ1bmN0aW9uIF9tdXRhdGUoY2xpZW50LCBodHRwUmVxdWVzdCwgbXV0YXRpb25zLCBvcHRpb25zKSB7XG4gIGxldCBtdXQ7XG4gIG11dGF0aW9ucyBpbnN0YW5jZW9mIFBhdGNoIHx8IG11dGF0aW9ucyBpbnN0YW5jZW9mIE9ic2VydmFibGVQYXRjaCA/IG11dCA9IHsgcGF0Y2g6IG11dGF0aW9ucy5zZXJpYWxpemUoKSB9IDogbXV0YXRpb25zIGluc3RhbmNlb2YgVHJhbnNhY3Rpb24gfHwgbXV0YXRpb25zIGluc3RhbmNlb2YgT2JzZXJ2YWJsZVRyYW5zYWN0aW9uID8gbXV0ID0gbXV0YXRpb25zLnNlcmlhbGl6ZSgpIDogbXV0ID0gbXV0YXRpb25zO1xuICBjb25zdCBtdXRzID0gQXJyYXkuaXNBcnJheShtdXQpID8gbXV0IDogW211dF0sIHRyYW5zYWN0aW9uSWQgPSBvcHRpb25zICYmIG9wdGlvbnMudHJhbnNhY3Rpb25JZCB8fCB2b2lkIDA7XG4gIHJldHVybiBfZGF0YVJlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgXCJtdXRhdGVcIiwgeyBtdXRhdGlvbnM6IG11dHMsIHRyYW5zYWN0aW9uSWQgfSwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBfYWN0aW9uKGNsaWVudCwgaHR0cFJlcXVlc3QsIGFjdGlvbnMsIG9wdGlvbnMpIHtcbiAgY29uc3QgYWN0cyA9IEFycmF5LmlzQXJyYXkoYWN0aW9ucykgPyBhY3Rpb25zIDogW2FjdGlvbnNdLCB0cmFuc2FjdGlvbklkID0gb3B0aW9ucyAmJiBvcHRpb25zLnRyYW5zYWN0aW9uSWQgfHwgdm9pZCAwLCBza2lwQ3Jvc3NEYXRhc2V0UmVmZXJlbmNlVmFsaWRhdGlvbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5za2lwQ3Jvc3NEYXRhc2V0UmVmZXJlbmNlVmFsaWRhdGlvbiB8fCB2b2lkIDAsIGRyeVJ1biA9IG9wdGlvbnMgJiYgb3B0aW9ucy5kcnlSdW4gfHwgdm9pZCAwO1xuICByZXR1cm4gX2RhdGFSZXF1ZXN0KFxuICAgIGNsaWVudCxcbiAgICBodHRwUmVxdWVzdCxcbiAgICBcImFjdGlvbnNcIixcbiAgICB7IGFjdGlvbnM6IGFjdHMsIHRyYW5zYWN0aW9uSWQsIHNraXBDcm9zc0RhdGFzZXRSZWZlcmVuY2VWYWxpZGF0aW9uLCBkcnlSdW4gfSxcbiAgICBvcHRpb25zXG4gICk7XG59XG5mdW5jdGlvbiBfZGF0YVJlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgZW5kcG9pbnQsIGJvZHksIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBpc011dGF0aW9uID0gZW5kcG9pbnQgPT09IFwibXV0YXRlXCIsIGlzQWN0aW9uID0gZW5kcG9pbnQgPT09IFwiYWN0aW9uc1wiLCBpc1F1ZXJ5ID0gZW5kcG9pbnQgPT09IFwicXVlcnlcIiwgc3RyUXVlcnkgPSBpc011dGF0aW9uIHx8IGlzQWN0aW9uID8gXCJcIiA6IGVuY29kZVF1ZXJ5U3RyaW5nKGJvZHkpLCB1c2VHZXQgPSAhaXNNdXRhdGlvbiAmJiAhaXNBY3Rpb24gJiYgc3RyUXVlcnkubGVuZ3RoIDwgZ2V0UXVlcnlTaXplTGltaXQsIHN0cmluZ1F1ZXJ5ID0gdXNlR2V0ID8gc3RyUXVlcnkgOiBcIlwiLCByZXR1cm5GaXJzdCA9IG9wdGlvbnMucmV0dXJuRmlyc3QsIHsgdGltZW91dCwgdG9rZW4sIHRhZywgaGVhZGVyczogaGVhZGVyczIsIHJldHVyblF1ZXJ5LCBsYXN0TGl2ZUV2ZW50SWQsIGNhY2hlTW9kZSB9ID0gb3B0aW9ucywgdXJpID0gX2dldERhdGFVcmwoY2xpZW50LCBlbmRwb2ludCwgc3RyaW5nUXVlcnkpLCByZXFPcHRpb25zID0ge1xuICAgIG1ldGhvZDogdXNlR2V0ID8gXCJHRVRcIiA6IFwiUE9TVFwiLFxuICAgIHVyaSxcbiAgICBqc29uOiAhMCxcbiAgICBib2R5OiB1c2VHZXQgPyB2b2lkIDAgOiBib2R5LFxuICAgIHF1ZXJ5OiBpc011dGF0aW9uICYmIGdldE11dGF0aW9uUXVlcnkob3B0aW9ucyksXG4gICAgdGltZW91dCxcbiAgICBoZWFkZXJzOiBoZWFkZXJzMixcbiAgICB0b2tlbixcbiAgICB0YWcsXG4gICAgcmV0dXJuUXVlcnksXG4gICAgcGVyc3BlY3RpdmU6IG9wdGlvbnMucGVyc3BlY3RpdmUsXG4gICAgcmVzdWx0U291cmNlTWFwOiBvcHRpb25zLnJlc3VsdFNvdXJjZU1hcCxcbiAgICBsYXN0TGl2ZUV2ZW50SWQ6IEFycmF5LmlzQXJyYXkobGFzdExpdmVFdmVudElkKSA/IGxhc3RMaXZlRXZlbnRJZFswXSA6IGxhc3RMaXZlRXZlbnRJZCxcbiAgICBjYWNoZU1vZGUsXG4gICAgY2FuVXNlQ2RuOiBpc1F1ZXJ5LFxuICAgIHNpZ25hbDogb3B0aW9ucy5zaWduYWwsXG4gICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2gsXG4gICAgdXNlQWJvcnRTaWduYWw6IG9wdGlvbnMudXNlQWJvcnRTaWduYWwsXG4gICAgdXNlQ2RuOiBvcHRpb25zLnVzZUNkblxuICB9O1xuICByZXR1cm4gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIHJlcU9wdGlvbnMpLnBpcGUoXG4gICAgZmlsdGVyKGlzUmVzcG9uc2UpLFxuICAgIG1hcChnZXRCb2R5KSxcbiAgICBtYXAoKHJlcykgPT4ge1xuICAgICAgaWYgKCFpc011dGF0aW9uKVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgY29uc3QgcmVzdWx0cyA9IHJlcy5yZXN1bHRzIHx8IFtdO1xuICAgICAgaWYgKG9wdGlvbnMucmV0dXJuRG9jdW1lbnRzKVxuICAgICAgICByZXR1cm4gcmV0dXJuRmlyc3QgPyByZXN1bHRzWzBdICYmIHJlc3VsdHNbMF0uZG9jdW1lbnQgOiByZXN1bHRzLm1hcCgobXV0KSA9PiBtdXQuZG9jdW1lbnQpO1xuICAgICAgY29uc3Qga2V5ID0gcmV0dXJuRmlyc3QgPyBcImRvY3VtZW50SWRcIiA6IFwiZG9jdW1lbnRJZHNcIiwgaWRzID0gcmV0dXJuRmlyc3QgPyByZXN1bHRzWzBdICYmIHJlc3VsdHNbMF0uaWQgOiByZXN1bHRzLm1hcCgobXV0KSA9PiBtdXQuaWQpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHJhbnNhY3Rpb25JZDogcmVzLnRyYW5zYWN0aW9uSWQsXG4gICAgICAgIHJlc3VsdHMsXG4gICAgICAgIFtrZXldOiBpZHNcbiAgICAgIH07XG4gICAgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIF9jcmVhdGUoY2xpZW50LCBodHRwUmVxdWVzdCwgZG9jLCBvcCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IG11dGF0aW9uID0geyBbb3BdOiBkb2MgfSwgb3B0cyA9IE9iamVjdC5hc3NpZ24oeyByZXR1cm5GaXJzdDogITAsIHJldHVybkRvY3VtZW50czogITAgfSwgb3B0aW9ucyk7XG4gIHJldHVybiBfZGF0YVJlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgXCJtdXRhdGVcIiwgeyBtdXRhdGlvbnM6IFttdXRhdGlvbl0gfSwgb3B0cyk7XG59XG5mdW5jdGlvbiBfcmVxdWVzdE9ic2VydmFibGUoY2xpZW50LCBodHRwUmVxdWVzdCwgb3B0aW9ucykge1xuICBjb25zdCB1cmkgPSBvcHRpb25zLnVybCB8fCBvcHRpb25zLnVyaSwgY29uZmlnID0gY2xpZW50LmNvbmZpZygpLCBjYW5Vc2VDZG4gPSB0eXBlb2Ygb3B0aW9ucy5jYW5Vc2VDZG4gPiBcInVcIiA/IFtcIkdFVFwiLCBcIkhFQURcIl0uaW5kZXhPZihvcHRpb25zLm1ldGhvZCB8fCBcIkdFVFwiKSA+PSAwICYmIHVyaS5pbmRleE9mKFwiL2RhdGEvXCIpID09PSAwIDogb3B0aW9ucy5jYW5Vc2VDZG47XG4gIGxldCB1c2VDZG4gPSAob3B0aW9ucy51c2VDZG4gPz8gY29uZmlnLnVzZUNkbikgJiYgY2FuVXNlQ2RuO1xuICBjb25zdCB0YWcgPSBvcHRpb25zLnRhZyAmJiBjb25maWcucmVxdWVzdFRhZ1ByZWZpeCA/IFtjb25maWcucmVxdWVzdFRhZ1ByZWZpeCwgb3B0aW9ucy50YWddLmpvaW4oXCIuXCIpIDogb3B0aW9ucy50YWcgfHwgY29uZmlnLnJlcXVlc3RUYWdQcmVmaXg7XG4gIGlmICh0YWcgJiYgb3B0aW9ucy50YWcgIT09IG51bGwgJiYgKG9wdGlvbnMucXVlcnkgPSB7IHRhZzogcmVxdWVzdFRhZyh0YWcpLCAuLi5vcHRpb25zLnF1ZXJ5IH0pLCBbXCJHRVRcIiwgXCJIRUFEXCIsIFwiUE9TVFwiXS5pbmRleE9mKG9wdGlvbnMubWV0aG9kIHx8IFwiR0VUXCIpID49IDAgJiYgdXJpLmluZGV4T2YoXCIvZGF0YS9xdWVyeS9cIikgPT09IDApIHtcbiAgICBjb25zdCByZXN1bHRTb3VyY2VNYXAgPSBvcHRpb25zLnJlc3VsdFNvdXJjZU1hcCA/PyBjb25maWcucmVzdWx0U291cmNlTWFwO1xuICAgIHJlc3VsdFNvdXJjZU1hcCAhPT0gdm9pZCAwICYmIHJlc3VsdFNvdXJjZU1hcCAhPT0gITEgJiYgKG9wdGlvbnMucXVlcnkgPSB7IHJlc3VsdFNvdXJjZU1hcCwgLi4ub3B0aW9ucy5xdWVyeSB9KTtcbiAgICBjb25zdCBwZXJzcGVjdGl2ZU9wdGlvbiA9IG9wdGlvbnMucGVyc3BlY3RpdmUgfHwgY29uZmlnLnBlcnNwZWN0aXZlO1xuICAgIHR5cGVvZiBwZXJzcGVjdGl2ZU9wdGlvbiA8IFwidVwiICYmICh2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlKHBlcnNwZWN0aXZlT3B0aW9uKSwgb3B0aW9ucy5xdWVyeSA9IHtcbiAgICAgIHBlcnNwZWN0aXZlOiBBcnJheS5pc0FycmF5KHBlcnNwZWN0aXZlT3B0aW9uKSA/IHBlcnNwZWN0aXZlT3B0aW9uLmpvaW4oXCIsXCIpIDogcGVyc3BlY3RpdmVPcHRpb24sXG4gICAgICAuLi5vcHRpb25zLnF1ZXJ5XG4gICAgfSwgcGVyc3BlY3RpdmVPcHRpb24gPT09IFwicHJldmlld0RyYWZ0c1wiICYmIHVzZUNkbiAmJiAodXNlQ2RuID0gITEsIHByaW50Q2RuUHJldmlld0RyYWZ0c1dhcm5pbmcoKSkpLCBvcHRpb25zLmxhc3RMaXZlRXZlbnRJZCAmJiAob3B0aW9ucy5xdWVyeSA9IHsgLi4ub3B0aW9ucy5xdWVyeSwgbGFzdExpdmVFdmVudElkOiBvcHRpb25zLmxhc3RMaXZlRXZlbnRJZCB9KSwgb3B0aW9ucy5yZXR1cm5RdWVyeSA9PT0gITEgJiYgKG9wdGlvbnMucXVlcnkgPSB7IHJldHVyblF1ZXJ5OiBcImZhbHNlXCIsIC4uLm9wdGlvbnMucXVlcnkgfSksIHVzZUNkbiAmJiBvcHRpb25zLmNhY2hlTW9kZSA9PSBcIm5vU3RhbGVcIiAmJiAob3B0aW9ucy5xdWVyeSA9IHsgY2FjaGVNb2RlOiBcIm5vU3RhbGVcIiwgLi4ub3B0aW9ucy5xdWVyeSB9KTtcbiAgfVxuICBjb25zdCByZXFPcHRpb25zID0gcmVxdWVzdE9wdGlvbnMoXG4gICAgY29uZmlnLFxuICAgIE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgIHVybDogX2dldFVybChjbGllbnQsIHVyaSwgdXNlQ2RuKVxuICAgIH0pXG4gICksIHJlcXVlc3QgPSBuZXcgT2JzZXJ2YWJsZShcbiAgICAoc3Vic2NyaWJlcikgPT4gaHR0cFJlcXVlc3QocmVxT3B0aW9ucywgY29uZmlnLnJlcXVlc3Rlcikuc3Vic2NyaWJlKHN1YnNjcmliZXIpXG4gICk7XG4gIHJldHVybiBvcHRpb25zLnNpZ25hbCA/IHJlcXVlc3QucGlwZShfd2l0aEFib3J0U2lnbmFsKG9wdGlvbnMuc2lnbmFsKSkgOiByZXF1ZXN0O1xufVxuZnVuY3Rpb24gX3JlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgb3B0aW9ucykge1xuICByZXR1cm4gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG9wdGlvbnMpLnBpcGUoXG4gICAgZmlsdGVyKChldmVudCkgPT4gZXZlbnQudHlwZSA9PT0gXCJyZXNwb25zZVwiKSxcbiAgICBtYXAoKGV2ZW50KSA9PiBldmVudC5ib2R5KVxuICApO1xufVxuZnVuY3Rpb24gX2dldERhdGFVcmwoY2xpZW50LCBvcGVyYXRpb24sIHBhdGgpIHtcbiAgY29uc3QgY29uZmlnID0gY2xpZW50LmNvbmZpZygpLCBjYXRhbG9nID0gaGFzRGF0YXNldChjb25maWcpLCBiYXNlVXJpID0gYC8ke29wZXJhdGlvbn0vJHtjYXRhbG9nfWA7XG4gIHJldHVybiBgL2RhdGEke3BhdGggPyBgJHtiYXNlVXJpfS8ke3BhdGh9YCA6IGJhc2VVcml9YC5yZXBsYWNlKC9cXC8oJHxcXD8pLywgXCIkMVwiKTtcbn1cbmZ1bmN0aW9uIF9nZXRVcmwoY2xpZW50LCB1cmksIGNhblVzZUNkbiA9ICExKSB7XG4gIGNvbnN0IHsgdXJsLCBjZG5VcmwgfSA9IGNsaWVudC5jb25maWcoKTtcbiAgcmV0dXJuIGAke2NhblVzZUNkbiA/IGNkblVybCA6IHVybH0vJHt1cmkucmVwbGFjZSgvXlxcLy8sIFwiXCIpfWA7XG59XG5mdW5jdGlvbiBfd2l0aEFib3J0U2lnbmFsKHNpZ25hbCkge1xuICByZXR1cm4gKGlucHV0KSA9PiBuZXcgT2JzZXJ2YWJsZSgob2JzZXJ2ZXIpID0+IHtcbiAgICBjb25zdCBhYm9ydCA9ICgpID0+IG9ic2VydmVyLmVycm9yKF9jcmVhdGVBYm9ydEVycm9yKHNpZ25hbCkpO1xuICAgIGlmIChzaWduYWwgJiYgc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIGFib3J0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IGlucHV0LnN1YnNjcmliZShvYnNlcnZlcik7XG4gICAgcmV0dXJuIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgYWJvcnQpLCAoKSA9PiB7XG4gICAgICBzaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGFib3J0KSwgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgfSk7XG59XG5jb25zdCBpc0RvbUV4Y2VwdGlvblN1cHBvcnRlZCA9ICEhZ2xvYmFsVGhpcy5ET01FeGNlcHRpb247XG5mdW5jdGlvbiBfY3JlYXRlQWJvcnRFcnJvcihzaWduYWwpIHtcbiAgaWYgKGlzRG9tRXhjZXB0aW9uU3VwcG9ydGVkKVxuICAgIHJldHVybiBuZXcgRE9NRXhjZXB0aW9uKHNpZ25hbD8ucmVhc29uID8/IFwiVGhlIG9wZXJhdGlvbiB3YXMgYWJvcnRlZC5cIiwgXCJBYm9ydEVycm9yXCIpO1xuICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihzaWduYWw/LnJlYXNvbiA/PyBcIlRoZSBvcGVyYXRpb24gd2FzIGFib3J0ZWQuXCIpO1xuICByZXR1cm4gZXJyb3IubmFtZSA9IFwiQWJvcnRFcnJvclwiLCBlcnJvcjtcbn1cbmNsYXNzIE9ic2VydmFibGVBc3NldHNDbGllbnQge1xuICAjY2xpZW50O1xuICAjaHR0cFJlcXVlc3Q7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICB0aGlzLiNjbGllbnQgPSBjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0ID0gaHR0cFJlcXVlc3Q7XG4gIH1cbiAgdXBsb2FkKGFzc2V0VHlwZSwgYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiBfdXBsb2FkKHRoaXMuI2NsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QsIGFzc2V0VHlwZSwgYm9keSwgb3B0aW9ucyk7XG4gIH1cbn1cbmNsYXNzIEFzc2V0c0NsaWVudCB7XG4gICNjbGllbnQ7XG4gICNodHRwUmVxdWVzdDtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIHRoaXMuI2NsaWVudCA9IGNsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QgPSBodHRwUmVxdWVzdDtcbiAgfVxuICB1cGxvYWQoYXNzZXRUeXBlLCBib2R5LCBvcHRpb25zKSB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZTIgPSBfdXBsb2FkKHRoaXMuI2NsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QsIGFzc2V0VHlwZSwgYm9keSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oXG4gICAgICBvYnNlcnZhYmxlMi5waXBlKFxuICAgICAgICBmaWx0ZXIoKGV2ZW50KSA9PiBldmVudC50eXBlID09PSBcInJlc3BvbnNlXCIpLFxuICAgICAgICBtYXAoXG4gICAgICAgICAgKGV2ZW50KSA9PiBldmVudC5ib2R5LmRvY3VtZW50XG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBfdXBsb2FkKGNsaWVudCwgaHR0cFJlcXVlc3QsIGFzc2V0VHlwZSwgYm9keSwgb3B0cyA9IHt9KSB7XG4gIHZhbGlkYXRlQXNzZXRUeXBlKGFzc2V0VHlwZSk7XG4gIGxldCBtZXRhID0gb3B0cy5leHRyYWN0IHx8IHZvaWQgMDtcbiAgbWV0YSAmJiAhbWV0YS5sZW5ndGggJiYgKG1ldGEgPSBbXCJub25lXCJdKTtcbiAgY29uc3QgZGF0YXNldDIgPSBoYXNEYXRhc2V0KGNsaWVudC5jb25maWcoKSksIGFzc2V0RW5kcG9pbnQgPSBhc3NldFR5cGUgPT09IFwiaW1hZ2VcIiA/IFwiaW1hZ2VzXCIgOiBcImZpbGVzXCIsIG9wdGlvbnMgPSBvcHRpb25zRnJvbUZpbGUob3B0cywgYm9keSksIHsgdGFnLCBsYWJlbCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBjcmVkaXRMaW5lLCBmaWxlbmFtZSwgc291cmNlIH0gPSBvcHRpb25zLCBxdWVyeSA9IHtcbiAgICBsYWJlbCxcbiAgICB0aXRsZSxcbiAgICBkZXNjcmlwdGlvbixcbiAgICBmaWxlbmFtZSxcbiAgICBtZXRhLFxuICAgIGNyZWRpdExpbmVcbiAgfTtcbiAgcmV0dXJuIHNvdXJjZSAmJiAocXVlcnkuc291cmNlSWQgPSBzb3VyY2UuaWQsIHF1ZXJ5LnNvdXJjZU5hbWUgPSBzb3VyY2UubmFtZSwgcXVlcnkuc291cmNlVXJsID0gc291cmNlLnVybCksIF9yZXF1ZXN0T2JzZXJ2YWJsZShjbGllbnQsIGh0dHBSZXF1ZXN0LCB7XG4gICAgdGFnLFxuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgdGltZW91dDogb3B0aW9ucy50aW1lb3V0IHx8IDAsXG4gICAgdXJpOiBgL2Fzc2V0cy8ke2Fzc2V0RW5kcG9pbnR9LyR7ZGF0YXNldDJ9YCxcbiAgICBoZWFkZXJzOiBvcHRpb25zLmNvbnRlbnRUeXBlID8geyBcIkNvbnRlbnQtVHlwZVwiOiBvcHRpb25zLmNvbnRlbnRUeXBlIH0gOiB7fSxcbiAgICBxdWVyeSxcbiAgICBib2R5XG4gIH0pO1xufVxuZnVuY3Rpb24gb3B0aW9uc0Zyb21GaWxlKG9wdHMsIGZpbGUpIHtcbiAgcmV0dXJuIHR5cGVvZiBGaWxlID4gXCJ1XCIgfHwgIShmaWxlIGluc3RhbmNlb2YgRmlsZSkgPyBvcHRzIDogT2JqZWN0LmFzc2lnbihcbiAgICB7XG4gICAgICBmaWxlbmFtZTogb3B0cy5wcmVzZXJ2ZUZpbGVuYW1lID09PSAhMSA/IHZvaWQgMCA6IGZpbGUubmFtZSxcbiAgICAgIGNvbnRlbnRUeXBlOiBmaWxlLnR5cGVcbiAgICB9LFxuICAgIG9wdHNcbiAgKTtcbn1cbnZhciBkZWZhdWx0cyA9IChvYmosIGRlZmF1bHRzMikgPT4gT2JqZWN0LmtleXMoZGVmYXVsdHMyKS5jb25jYXQoT2JqZWN0LmtleXMob2JqKSkucmVkdWNlKCh0YXJnZXQsIHByb3ApID0+ICh0YXJnZXRbcHJvcF0gPSB0eXBlb2Ygb2JqW3Byb3BdID4gXCJ1XCIgPyBkZWZhdWx0czJbcHJvcF0gOiBvYmpbcHJvcF0sIHRhcmdldCksIHt9KTtcbmNvbnN0IHBpY2sgPSAob2JqLCBwcm9wcykgPT4gcHJvcHMucmVkdWNlKChzZWxlY3Rpb24sIHByb3ApID0+ICh0eXBlb2Ygb2JqW3Byb3BdID4gXCJ1XCIgfHwgKHNlbGVjdGlvbltwcm9wXSA9IG9ialtwcm9wXSksIHNlbGVjdGlvbiksIHt9KSwgTUFYX1VSTF9MRU5HVEggPSAxNDgwMCwgcG9zc2libGVPcHRpb25zID0gW1xuICBcImluY2x1ZGVQcmV2aW91c1JldmlzaW9uXCIsXG4gIFwiaW5jbHVkZVJlc3VsdFwiLFxuICBcImluY2x1ZGVNdXRhdGlvbnNcIixcbiAgXCJ2aXNpYmlsaXR5XCIsXG4gIFwiZWZmZWN0Rm9ybWF0XCIsXG4gIFwidGFnXCJcbl0sIGRlZmF1bHRPcHRpb25zID0ge1xuICBpbmNsdWRlUmVzdWx0OiAhMFxufTtcbmZ1bmN0aW9uIF9saXN0ZW4ocXVlcnksIHBhcmFtcywgb3B0cyA9IHt9KSB7XG4gIGNvbnN0IHsgdXJsLCB0b2tlbiwgd2l0aENyZWRlbnRpYWxzLCByZXF1ZXN0VGFnUHJlZml4IH0gPSB0aGlzLmNvbmZpZygpLCB0YWcgPSBvcHRzLnRhZyAmJiByZXF1ZXN0VGFnUHJlZml4ID8gW3JlcXVlc3RUYWdQcmVmaXgsIG9wdHMudGFnXS5qb2luKFwiLlwiKSA6IG9wdHMudGFnLCBvcHRpb25zID0geyAuLi5kZWZhdWx0cyhvcHRzLCBkZWZhdWx0T3B0aW9ucyksIHRhZyB9LCBsaXN0ZW5PcHRzID0gcGljayhvcHRpb25zLCBwb3NzaWJsZU9wdGlvbnMpLCBxcyA9IGVuY29kZVF1ZXJ5U3RyaW5nKHsgcXVlcnksIHBhcmFtcywgb3B0aW9uczogeyB0YWcsIC4uLmxpc3Rlbk9wdHMgfSB9KSwgdXJpID0gYCR7dXJsfSR7X2dldERhdGFVcmwodGhpcywgXCJsaXN0ZW5cIiwgcXMpfWA7XG4gIGlmICh1cmkubGVuZ3RoID4gTUFYX1VSTF9MRU5HVEgpXG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChvYnNlcnZlcikgPT4gb2JzZXJ2ZXIuZXJyb3IobmV3IEVycm9yKFwiUXVlcnkgdG9vIGxhcmdlIGZvciBsaXN0ZW5lclwiKSkpO1xuICBjb25zdCBsaXN0ZW5Gb3IgPSBvcHRpb25zLmV2ZW50cyA/IG9wdGlvbnMuZXZlbnRzIDogW1wibXV0YXRpb25cIl0sIHNob3VsZEVtaXRSZWNvbm5lY3QgPSBsaXN0ZW5Gb3IuaW5kZXhPZihcInJlY29ubmVjdFwiKSAhPT0gLTEsIGVzT3B0aW9ucyA9IHt9O1xuICByZXR1cm4gKHRva2VuIHx8IHdpdGhDcmVkZW50aWFscykgJiYgKGVzT3B0aW9ucy53aXRoQ3JlZGVudGlhbHMgPSAhMCksIHRva2VuICYmIChlc09wdGlvbnMuaGVhZGVycyA9IHtcbiAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YFxuICB9KSwgbmV3IE9ic2VydmFibGUoKG9ic2VydmVyKSA9PiB7XG4gICAgbGV0IGVzLCByZWNvbm5lY3RUaW1lciwgc3RvcHBlZCA9ICExLCB1bnN1YnNjcmliZWQgPSAhMTtcbiAgICBvcGVuKCk7XG4gICAgZnVuY3Rpb24gb25FcnJvcigpIHtcbiAgICAgIHN0b3BwZWQgfHwgKGVtaXRSZWNvbm5lY3QoKSwgIXN0b3BwZWQgJiYgZXMucmVhZHlTdGF0ZSA9PT0gZXMuQ0xPU0VEICYmICh1bnN1YnNjcmliZSgpLCBjbGVhclRpbWVvdXQocmVjb25uZWN0VGltZXIpLCByZWNvbm5lY3RUaW1lciA9IHNldFRpbWVvdXQob3BlbiwgMTAwKSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkNoYW5uZWxFcnJvcihlcnIpIHtcbiAgICAgIG9ic2VydmVyLmVycm9yKGNvb2VyY2VFcnJvcihlcnIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25NZXNzYWdlKGV2dCkge1xuICAgICAgY29uc3QgZXZlbnQgPSBwYXJzZUV2ZW50JDEoZXZ0KTtcbiAgICAgIHJldHVybiBldmVudCBpbnN0YW5jZW9mIEVycm9yID8gb2JzZXJ2ZXIuZXJyb3IoZXZlbnQpIDogb2JzZXJ2ZXIubmV4dChldmVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uRGlzY29ubmVjdCgpIHtcbiAgICAgIHN0b3BwZWQgPSAhMCwgdW5zdWJzY3JpYmUoKSwgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICBlcyAmJiAoZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIG9uRXJyb3IpLCBlcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbm5lbEVycm9yXCIsIG9uQ2hhbm5lbEVycm9yKSwgZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRpc2Nvbm5lY3RcIiwgb25EaXNjb25uZWN0KSwgbGlzdGVuRm9yLmZvckVhY2goKHR5cGUpID0+IGVzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgb25NZXNzYWdlKSksIGVzLmNsb3NlKCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbWl0UmVjb25uZWN0KCkge1xuICAgICAgc2hvdWxkRW1pdFJlY29ubmVjdCAmJiBvYnNlcnZlci5uZXh0KHsgdHlwZTogXCJyZWNvbm5lY3RcIiB9KTtcbiAgICB9XG4gICAgYXN5bmMgZnVuY3Rpb24gZ2V0RXZlbnRTb3VyY2UoKSB7XG4gICAgICBjb25zdCB7IGRlZmF1bHQ6IEV2ZW50U291cmNlMiB9ID0gYXdhaXQgaW1wb3J0KFwiQHNhbml0eS9ldmVudHNvdXJjZVwiKTtcbiAgICAgIGlmICh1bnN1YnNjcmliZWQpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IGV2cyA9IG5ldyBFdmVudFNvdXJjZTIodXJpLCBlc09wdGlvbnMpO1xuICAgICAgcmV0dXJuIGV2cy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgb25FcnJvciksIGV2cy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbm5lbEVycm9yXCIsIG9uQ2hhbm5lbEVycm9yKSwgZXZzLmFkZEV2ZW50TGlzdGVuZXIoXCJkaXNjb25uZWN0XCIsIG9uRGlzY29ubmVjdCksIGxpc3RlbkZvci5mb3JFYWNoKCh0eXBlKSA9PiBldnMuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBvbk1lc3NhZ2UpKSwgZXZzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgZ2V0RXZlbnRTb3VyY2UoKS50aGVuKChldmVudFNvdXJjZSkgPT4ge1xuICAgICAgICBldmVudFNvdXJjZSAmJiAoZXMgPSBldmVudFNvdXJjZSwgdW5zdWJzY3JpYmVkICYmIHVuc3Vic2NyaWJlKCkpO1xuICAgICAgfSkuY2F0Y2goKHJlYXNvbikgPT4ge1xuICAgICAgICBvYnNlcnZlci5lcnJvcihyZWFzb24pLCBzdG9wKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgIHN0b3BwZWQgPSAhMCwgdW5zdWJzY3JpYmUoKSwgdW5zdWJzY3JpYmVkID0gITA7XG4gICAgfVxuICAgIHJldHVybiBzdG9wO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHBhcnNlRXZlbnQkMShldmVudCkge1xuICB0cnkge1xuICAgIGNvbnN0IGRhdGEgPSBldmVudC5kYXRhICYmIEpTT04ucGFyc2UoZXZlbnQuZGF0YSkgfHwge307XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeyB0eXBlOiBldmVudC50eXBlIH0sIGRhdGEpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gZXJyO1xuICB9XG59XG5mdW5jdGlvbiBjb29lcmNlRXJyb3IoZXJyKSB7XG4gIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcilcbiAgICByZXR1cm4gZXJyO1xuICBjb25zdCBldnQgPSBwYXJzZUV2ZW50JDEoZXJyKTtcbiAgcmV0dXJuIGV2dCBpbnN0YW5jZW9mIEVycm9yID8gZXZ0IDogbmV3IEVycm9yKGV4dHJhY3RFcnJvck1lc3NhZ2UoZXZ0KSk7XG59XG5mdW5jdGlvbiBleHRyYWN0RXJyb3JNZXNzYWdlKGVycikge1xuICByZXR1cm4gZXJyLmVycm9yID8gZXJyLmVycm9yLmRlc2NyaXB0aW9uID8gZXJyLmVycm9yLmRlc2NyaXB0aW9uIDogdHlwZW9mIGVyci5lcnJvciA9PSBcInN0cmluZ1wiID8gZXJyLmVycm9yIDogSlNPTi5zdHJpbmdpZnkoZXJyLmVycm9yLCBudWxsLCAyKSA6IGVyci5tZXNzYWdlIHx8IFwiVW5rbm93biBsaXN0ZW5lciBlcnJvclwiO1xufVxuY29uc3QgcmVxdWlyZWRBcGlWZXJzaW9uID0gXCIyMDIxLTAzLTI2XCI7XG5jbGFzcyBMaXZlQ2xpZW50IHtcbiAgI2NsaWVudDtcbiAgY29uc3RydWN0b3IoY2xpZW50KSB7XG4gICAgdGhpcy4jY2xpZW50ID0gY2xpZW50O1xuICB9XG4gIC8qKlxuICAgKiBSZXF1aXJlcyBgYXBpVmVyc2lvbmAgdG8gYmUgYDIwMjEtMDMtMjZgIG9yIGxhdGVyLlxuICAgKi9cbiAgZXZlbnRzKHtcbiAgICBpbmNsdWRlRHJhZnRzID0gITEsXG4gICAgdGFnOiBfdGFnXG4gIH0gPSB7fSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHByb2plY3RJZDogcHJvamVjdElkMixcbiAgICAgIGFwaVZlcnNpb246IF9hcGlWZXJzaW9uLFxuICAgICAgdG9rZW4sXG4gICAgICB3aXRoQ3JlZGVudGlhbHMsXG4gICAgICByZXF1ZXN0VGFnUHJlZml4XG4gICAgfSA9IHRoaXMuI2NsaWVudC5jb25maWcoKSwgYXBpVmVyc2lvbiA9IF9hcGlWZXJzaW9uLnJlcGxhY2UoL152LywgXCJcIik7XG4gICAgaWYgKGFwaVZlcnNpb24gIT09IFwiWFwiICYmIGFwaVZlcnNpb24gPCByZXF1aXJlZEFwaVZlcnNpb24pXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBUaGUgbGl2ZSBldmVudHMgQVBJIHJlcXVpcmVzIEFQSSB2ZXJzaW9uICR7cmVxdWlyZWRBcGlWZXJzaW9ufSBvciBsYXRlci4gVGhlIGN1cnJlbnQgQVBJIHZlcnNpb24gaXMgJHthcGlWZXJzaW9ufS4gUGxlYXNlIHVwZGF0ZSB5b3VyIEFQSSB2ZXJzaW9uIHRvIHVzZSB0aGlzIGZlYXR1cmUuYFxuICAgICAgKTtcbiAgICBpZiAoaW5jbHVkZURyYWZ0cyAmJiAhdG9rZW4gJiYgIXdpdGhDcmVkZW50aWFscylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJUaGUgbGl2ZSBldmVudHMgQVBJIHJlcXVpcmVzIGEgdG9rZW4gb3Igd2l0aENyZWRlbnRpYWxzIHdoZW4gJ2luY2x1ZGVEcmFmdHM6IHRydWUnLiBQbGVhc2UgdXBkYXRlIHlvdXIgY2xpZW50IGNvbmZpZ3VyYXRpb24uIFRoZSB0b2tlbiBzaG91bGQgaGF2ZSB0aGUgbG93ZXN0IHBvc3NpYmxlIGFjY2VzcyByb2xlLlwiXG4gICAgICApO1xuICAgIGlmIChpbmNsdWRlRHJhZnRzICYmIGFwaVZlcnNpb24gIT09IFwiWFwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlRoZSBsaXZlIGV2ZW50cyBBUEkgcmVxdWlyZXMgQVBJIHZlcnNpb24gWCB3aGVuICdpbmNsdWRlRHJhZnRzOiB0cnVlJy4gVGhpcyBBUEkgaXMgZXhwZXJpbWVudGFsIGFuZCBtYXkgY2hhbmdlIG9yIGV2ZW4gYmUgcmVtb3ZlZC5cIlxuICAgICAgKTtcbiAgICBjb25zdCBwYXRoID0gX2dldERhdGFVcmwodGhpcy4jY2xpZW50LCBcImxpdmUvZXZlbnRzXCIpLCB1cmwgPSBuZXcgVVJMKHRoaXMuI2NsaWVudC5nZXRVcmwocGF0aCwgITEpKSwgdGFnID0gX3RhZyAmJiByZXF1ZXN0VGFnUHJlZml4ID8gW3JlcXVlc3RUYWdQcmVmaXgsIF90YWddLmpvaW4oXCIuXCIpIDogX3RhZztcbiAgICB0YWcgJiYgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJ0YWdcIiwgdGFnKSwgaW5jbHVkZURyYWZ0cyAmJiB1cmwuc2VhcmNoUGFyYW1zLnNldChcImluY2x1ZGVEcmFmdHNcIiwgXCJ0cnVlXCIpO1xuICAgIGNvbnN0IGxpc3RlbkZvciA9IFtcInJlc3RhcnRcIiwgXCJtZXNzYWdlXCIsIFwid2VsY29tZVwiLCBcInJlY29ubmVjdFwiXSwgZXNPcHRpb25zID0ge307XG4gICAgcmV0dXJuIGluY2x1ZGVEcmFmdHMgJiYgdG9rZW4gJiYgKGVzT3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWBcbiAgICB9KSwgaW5jbHVkZURyYWZ0cyAmJiB3aXRoQ3JlZGVudGlhbHMgJiYgKGVzT3B0aW9ucy53aXRoQ3JlZGVudGlhbHMgPSAhMCksIG5ldyBPYnNlcnZhYmxlKChvYnNlcnZlcikgPT4ge1xuICAgICAgbGV0IGVzLCByZWNvbm5lY3RUaW1lciwgc3RvcHBlZCA9ICExLCB1bnN1YnNjcmliZWQgPSAhMTtcbiAgICAgIG9wZW4oKTtcbiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXZ0KSB7XG4gICAgICAgIGlmICghc3RvcHBlZCkge1xuICAgICAgICAgIGlmIChcImRhdGFcIiBpbiBldnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gcGFyc2VFdmVudChldnQpO1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IobmV3IEVycm9yKGV2ZW50Lm1lc3NhZ2UsIHsgY2F1c2U6IGV2ZW50IH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZXMucmVhZHlTdGF0ZSA9PT0gZXMuQ0xPU0VEICYmICh1bnN1YnNjcmliZSgpLCBjbGVhclRpbWVvdXQocmVjb25uZWN0VGltZXIpLCByZWNvbm5lY3RUaW1lciA9IHNldFRpbWVvdXQob3BlbiwgMTAwKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIG9uTWVzc2FnZShldnQpIHtcbiAgICAgICAgY29uc3QgZXZlbnQgPSBwYXJzZUV2ZW50KGV2dCk7XG4gICAgICAgIHJldHVybiBldmVudCBpbnN0YW5jZW9mIEVycm9yID8gb2JzZXJ2ZXIuZXJyb3IoZXZlbnQpIDogb2JzZXJ2ZXIubmV4dChldmVudCk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgICAgaWYgKGVzKSB7XG4gICAgICAgICAgZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIG9uRXJyb3IpO1xuICAgICAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBsaXN0ZW5Gb3IpXG4gICAgICAgICAgICBlcy5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIG9uTWVzc2FnZSk7XG4gICAgICAgICAgZXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXN5bmMgZnVuY3Rpb24gZ2V0RXZlbnRTb3VyY2UoKSB7XG4gICAgICAgIGNvbnN0IEV2ZW50U291cmNlSW1wbGVtZW50YXRpb24gPSB0eXBlb2YgRXZlbnRTb3VyY2UgPiBcInVcIiB8fCBlc09wdGlvbnMuaGVhZGVycyB8fCBlc09wdGlvbnMud2l0aENyZWRlbnRpYWxzID8gKGF3YWl0IGltcG9ydChcIkBzYW5pdHkvZXZlbnRzb3VyY2VcIikpLmRlZmF1bHQgOiBFdmVudFNvdXJjZTtcbiAgICAgICAgaWYgKHVuc3Vic2NyaWJlZClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIk9QVElPTlNcIixcbiAgICAgICAgICAgIG1vZGU6IFwiY29yc1wiLFxuICAgICAgICAgICAgY3JlZGVudGlhbHM6IGVzT3B0aW9ucy53aXRoQ3JlZGVudGlhbHMgPyBcImluY2x1ZGVcIiA6IFwib21pdFwiLFxuICAgICAgICAgICAgaGVhZGVyczogZXNPcHRpb25zLmhlYWRlcnNcbiAgICAgICAgICB9KSwgdW5zdWJzY3JpYmVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICB0aHJvdyBuZXcgQ29yc09yaWdpbkVycm9yKHsgcHJvamVjdElkOiBwcm9qZWN0SWQyIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV2cyA9IG5ldyBFdmVudFNvdXJjZUltcGxlbWVudGF0aW9uKHVybC50b1N0cmluZygpLCBlc09wdGlvbnMpO1xuICAgICAgICBldnMuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIG9uRXJyb3IpO1xuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgb2YgbGlzdGVuRm9yKVxuICAgICAgICAgIGV2cy5hZGRFdmVudExpc3RlbmVyKHR5cGUsIG9uTWVzc2FnZSk7XG4gICAgICAgIHJldHVybiBldnM7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgICBnZXRFdmVudFNvdXJjZSgpLnRoZW4oKGV2ZW50U291cmNlKSA9PiB7XG4gICAgICAgICAgZXZlbnRTb3VyY2UgJiYgKGVzID0gZXZlbnRTb3VyY2UsIHVuc3Vic2NyaWJlZCAmJiB1bnN1YnNjcmliZSgpKTtcbiAgICAgICAgfSkuY2F0Y2goKHJlYXNvbikgPT4ge1xuICAgICAgICAgIG9ic2VydmVyLmVycm9yKHJlYXNvbiksIHN0b3AoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICBzdG9wcGVkID0gITAsIHVuc3Vic2NyaWJlKCksIHVuc3Vic2NyaWJlZCA9ICEwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0b3A7XG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHBhcnNlRXZlbnQoZXZlbnQpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gZXZlbnQuZGF0YSAmJiBKU09OLnBhcnNlKGV2ZW50LmRhdGEpIHx8IHt9O1xuICAgIHJldHVybiB7IHR5cGU6IGV2ZW50LnR5cGUsIGlkOiBldmVudC5sYXN0RXZlbnRJZCwgLi4uZGF0YSB9O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gZXJyO1xuICB9XG59XG5jbGFzcyBPYnNlcnZhYmxlRGF0YXNldHNDbGllbnQge1xuICAjY2xpZW50O1xuICAjaHR0cFJlcXVlc3Q7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICB0aGlzLiNjbGllbnQgPSBjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0ID0gaHR0cFJlcXVlc3Q7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBkYXRhc2V0IHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBOYW1lIG9mIHRoZSBkYXRhc2V0IHRvIGNyZWF0ZVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSBkYXRhc2V0XG4gICAqL1xuICBjcmVhdGUobmFtZTIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX21vZGlmeSh0aGlzLiNjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0LCBcIlBVVFwiLCBuYW1lMiwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEVkaXQgYSBkYXRhc2V0IHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBOYW1lIG9mIHRoZSBkYXRhc2V0IHRvIGVkaXRcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBOZXcgb3B0aW9ucyBmb3IgdGhlIGRhdGFzZXRcbiAgICovXG4gIGVkaXQobmFtZTIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX21vZGlmeSh0aGlzLiNjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0LCBcIlBBVENIXCIsIG5hbWUyLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlIGEgZGF0YXNldCB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBvZiB0aGUgZGF0YXNldCB0byBkZWxldGVcbiAgICovXG4gIGRlbGV0ZShuYW1lMikge1xuICAgIHJldHVybiBfbW9kaWZ5KHRoaXMuI2NsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QsIFwiREVMRVRFXCIsIG5hbWUyKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSBsaXN0IG9mIGRhdGFzZXRzIGZvciB0aGUgY29uZmlndXJlZCBwcm9qZWN0XG4gICAqL1xuICBsaXN0KCkge1xuICAgIHJldHVybiBfcmVxdWVzdCh0aGlzLiNjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0LCB7XG4gICAgICB1cmk6IFwiL2RhdGFzZXRzXCIsXG4gICAgICB0YWc6IG51bGxcbiAgICB9KTtcbiAgfVxufVxuY2xhc3MgRGF0YXNldHNDbGllbnQge1xuICAjY2xpZW50O1xuICAjaHR0cFJlcXVlc3Q7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICB0aGlzLiNjbGllbnQgPSBjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0ID0gaHR0cFJlcXVlc3Q7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBkYXRhc2V0IHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBOYW1lIG9mIHRoZSBkYXRhc2V0IHRvIGNyZWF0ZVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSBkYXRhc2V0XG4gICAqL1xuICBjcmVhdGUobmFtZTIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShcbiAgICAgIF9tb2RpZnkodGhpcy4jY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCwgXCJQVVRcIiwgbmFtZTIsIG9wdGlvbnMpXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogRWRpdCBhIGRhdGFzZXQgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gZWRpdFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIE5ldyBvcHRpb25zIGZvciB0aGUgZGF0YXNldFxuICAgKi9cbiAgZWRpdChuYW1lMiwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKFxuICAgICAgX21vZGlmeSh0aGlzLiNjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0LCBcIlBBVENIXCIsIG5hbWUyLCBvcHRpb25zKVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGRhdGFzZXQgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gZGVsZXRlXG4gICAqL1xuICBkZWxldGUobmFtZTIpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfbW9kaWZ5KHRoaXMuI2NsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QsIFwiREVMRVRFXCIsIG5hbWUyKSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgbGlzdCBvZiBkYXRhc2V0cyBmb3IgdGhlIGNvbmZpZ3VyZWQgcHJvamVjdFxuICAgKi9cbiAgbGlzdCgpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShcbiAgICAgIF9yZXF1ZXN0KHRoaXMuI2NsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QsIHsgdXJpOiBcIi9kYXRhc2V0c1wiLCB0YWc6IG51bGwgfSlcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBfbW9kaWZ5KGNsaWVudCwgaHR0cFJlcXVlc3QsIG1ldGhvZCwgbmFtZTIsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGRhdGFzZXQobmFtZTIpLCBfcmVxdWVzdChjbGllbnQsIGh0dHBSZXF1ZXN0LCB7XG4gICAgbWV0aG9kLFxuICAgIHVyaTogYC9kYXRhc2V0cy8ke25hbWUyfWAsXG4gICAgYm9keTogb3B0aW9ucyxcbiAgICB0YWc6IG51bGxcbiAgfSk7XG59XG5jbGFzcyBPYnNlcnZhYmxlUHJvamVjdHNDbGllbnQge1xuICAjY2xpZW50O1xuICAjaHR0cFJlcXVlc3Q7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICB0aGlzLiNjbGllbnQgPSBjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0ID0gaHR0cFJlcXVlc3Q7XG4gIH1cbiAgbGlzdChvcHRpb25zKSB7XG4gICAgY29uc3QgdXJpID0gb3B0aW9ucz8uaW5jbHVkZU1lbWJlcnMgPT09ICExID8gXCIvcHJvamVjdHM/aW5jbHVkZU1lbWJlcnM9ZmFsc2VcIiA6IFwiL3Byb2plY3RzXCI7XG4gICAgcmV0dXJuIF9yZXF1ZXN0KHRoaXMuI2NsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QsIHsgdXJpIH0pO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIHByb2plY3QgYnkgcHJvamVjdCBJRFxuICAgKlxuICAgKiBAcGFyYW0gcHJvamVjdElkIC0gSUQgb2YgdGhlIHByb2plY3QgdG8gZmV0Y2hcbiAgICovXG4gIGdldEJ5SWQocHJvamVjdElkMikge1xuICAgIHJldHVybiBfcmVxdWVzdCh0aGlzLiNjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0LCB7IHVyaTogYC9wcm9qZWN0cy8ke3Byb2plY3RJZDJ9YCB9KTtcbiAgfVxufVxuY2xhc3MgUHJvamVjdHNDbGllbnQge1xuICAjY2xpZW50O1xuICAjaHR0cFJlcXVlc3Q7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICB0aGlzLiNjbGllbnQgPSBjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0ID0gaHR0cFJlcXVlc3Q7XG4gIH1cbiAgbGlzdChvcHRpb25zKSB7XG4gICAgY29uc3QgdXJpID0gb3B0aW9ucz8uaW5jbHVkZU1lbWJlcnMgPT09ICExID8gXCIvcHJvamVjdHM/aW5jbHVkZU1lbWJlcnM9ZmFsc2VcIiA6IFwiL3Byb2plY3RzXCI7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX3JlcXVlc3QodGhpcy4jY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCwgeyB1cmkgfSkpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIHByb2plY3QgYnkgcHJvamVjdCBJRFxuICAgKlxuICAgKiBAcGFyYW0gcHJvamVjdElkIC0gSUQgb2YgdGhlIHByb2plY3QgdG8gZmV0Y2hcbiAgICovXG4gIGdldEJ5SWQocHJvamVjdElkMikge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKFxuICAgICAgX3JlcXVlc3QodGhpcy4jY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCwgeyB1cmk6IGAvcHJvamVjdHMvJHtwcm9qZWN0SWQyfWAgfSlcbiAgICApO1xuICB9XG59XG5jbGFzcyBPYnNlcnZhYmxlVXNlcnNDbGllbnQge1xuICAjY2xpZW50O1xuICAjaHR0cFJlcXVlc3Q7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICB0aGlzLiNjbGllbnQgPSBjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0ID0gaHR0cFJlcXVlc3Q7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgdXNlciBieSB1c2VyIElEXG4gICAqXG4gICAqIEBwYXJhbSBpZCAtIFVzZXIgSUQgb2YgdGhlIHVzZXIgdG8gZmV0Y2guIElmIGBtZWAgaXMgcHJvdmlkZWQsIGEgbWluaW1hbCByZXNwb25zZSBpbmNsdWRpbmcgdGhlIHVzZXJzIHJvbGUgaXMgcmV0dXJuZWQuXG4gICAqL1xuICBnZXRCeUlkKGlkKSB7XG4gICAgcmV0dXJuIF9yZXF1ZXN0KFxuICAgICAgdGhpcy4jY2xpZW50LFxuICAgICAgdGhpcy4jaHR0cFJlcXVlc3QsXG4gICAgICB7IHVyaTogYC91c2Vycy8ke2lkfWAgfVxuICAgICk7XG4gIH1cbn1cbmNsYXNzIFVzZXJzQ2xpZW50IHtcbiAgI2NsaWVudDtcbiAgI2h0dHBSZXF1ZXN0O1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgdGhpcy4jY2xpZW50ID0gY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCA9IGh0dHBSZXF1ZXN0O1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIHVzZXIgYnkgdXNlciBJRFxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBVc2VyIElEIG9mIHRoZSB1c2VyIHRvIGZldGNoLiBJZiBgbWVgIGlzIHByb3ZpZGVkLCBhIG1pbmltYWwgcmVzcG9uc2UgaW5jbHVkaW5nIHRoZSB1c2VycyByb2xlIGlzIHJldHVybmVkLlxuICAgKi9cbiAgZ2V0QnlJZChpZCkge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKFxuICAgICAgX3JlcXVlc3QodGhpcy4jY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCwge1xuICAgICAgICB1cmk6IGAvdXNlcnMvJHtpZH1gXG4gICAgICB9KVxuICAgICk7XG4gIH1cbn1cbmNsYXNzIE9ic2VydmFibGVTYW5pdHlDbGllbnQge1xuICBhc3NldHM7XG4gIGRhdGFzZXRzO1xuICBsaXZlO1xuICBwcm9qZWN0cztcbiAgdXNlcnM7XG4gIC8qKlxuICAgKiBQcml2YXRlIHByb3BlcnRpZXNcbiAgICovXG4gICNjbGllbnRDb25maWc7XG4gICNodHRwUmVxdWVzdDtcbiAgLyoqXG4gICAqIEluc3RhbmNlIHByb3BlcnRpZXNcbiAgICovXG4gIGxpc3RlbiA9IF9saXN0ZW47XG4gIGNvbnN0cnVjdG9yKGh0dHBSZXF1ZXN0LCBjb25maWcgPSBkZWZhdWx0Q29uZmlnKSB7XG4gICAgdGhpcy5jb25maWcoY29uZmlnKSwgdGhpcy4jaHR0cFJlcXVlc3QgPSBodHRwUmVxdWVzdCwgdGhpcy5hc3NldHMgPSBuZXcgT2JzZXJ2YWJsZUFzc2V0c0NsaWVudCh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCksIHRoaXMuZGF0YXNldHMgPSBuZXcgT2JzZXJ2YWJsZURhdGFzZXRzQ2xpZW50KHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0KSwgdGhpcy5saXZlID0gbmV3IExpdmVDbGllbnQodGhpcyksIHRoaXMucHJvamVjdHMgPSBuZXcgT2JzZXJ2YWJsZVByb2plY3RzQ2xpZW50KHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0KSwgdGhpcy51c2VycyA9IG5ldyBPYnNlcnZhYmxlVXNlcnNDbGllbnQodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY2xpZW50IC0gcmV0dXJucyBhIG5ldyBpbnN0YW5jZVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlU2FuaXR5Q2xpZW50KHRoaXMuI2h0dHBSZXF1ZXN0LCB0aGlzLmNvbmZpZygpKTtcbiAgfVxuICBjb25maWcobmV3Q29uZmlnKSB7XG4gICAgaWYgKG5ld0NvbmZpZyA9PT0gdm9pZCAwKVxuICAgICAgcmV0dXJuIHsgLi4udGhpcy4jY2xpZW50Q29uZmlnIH07XG4gICAgaWYgKHRoaXMuI2NsaWVudENvbmZpZyAmJiB0aGlzLiNjbGllbnRDb25maWcuYWxsb3dSZWNvbmZpZ3VyZSA9PT0gITEpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiRXhpc3RpbmcgY2xpZW50IGluc3RhbmNlIGNhbm5vdCBiZSByZWNvbmZpZ3VyZWQgLSB1c2UgYHdpdGhDb25maWcobmV3Q29uZmlnKWAgdG8gcmV0dXJuIGEgbmV3IGNsaWVudFwiXG4gICAgICApO1xuICAgIHJldHVybiB0aGlzLiNjbGllbnRDb25maWcgPSBpbml0Q29uZmlnKG5ld0NvbmZpZywgdGhpcy4jY2xpZW50Q29uZmlnIHx8IHt9KSwgdGhpcztcbiAgfVxuICAvKipcbiAgICogQ2xvbmUgdGhlIGNsaWVudCB3aXRoIGEgbmV3IChwYXJ0aWFsKSBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbmV3Q29uZmlnIC0gTmV3IGNsaWVudCBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMsIHNoYWxsb3dseSBtZXJnZWQgd2l0aCBleGlzdGluZyBjb25maWd1cmF0aW9uXG4gICAqL1xuICB3aXRoQ29uZmlnKG5ld0NvbmZpZykge1xuICAgIGNvbnN0IHRoaXNDb25maWcgPSB0aGlzLmNvbmZpZygpO1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVNhbml0eUNsaWVudCh0aGlzLiNodHRwUmVxdWVzdCwge1xuICAgICAgLi4udGhpc0NvbmZpZyxcbiAgICAgIC4uLm5ld0NvbmZpZyxcbiAgICAgIHN0ZWdhOiB7XG4gICAgICAgIC4uLnRoaXNDb25maWcuc3RlZ2EgfHwge30sXG4gICAgICAgIC4uLnR5cGVvZiBuZXdDb25maWc/LnN0ZWdhID09IFwiYm9vbGVhblwiID8geyBlbmFibGVkOiBuZXdDb25maWcuc3RlZ2EgfSA6IG5ld0NvbmZpZz8uc3RlZ2EgfHwge31cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmZXRjaChxdWVyeSwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9mZXRjaChcbiAgICAgIHRoaXMsXG4gICAgICB0aGlzLiNodHRwUmVxdWVzdCxcbiAgICAgIHRoaXMuI2NsaWVudENvbmZpZy5zdGVnYSxcbiAgICAgIHF1ZXJ5LFxuICAgICAgcGFyYW1zLFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgc2luZ2xlIGRvY3VtZW50IHdpdGggdGhlIGdpdmVuIElELlxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBEb2N1bWVudCBJRCB0byBmZXRjaFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKi9cbiAgZ2V0RG9jdW1lbnQoaWQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2dldERvY3VtZW50KHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0LCBpZCwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIG11bHRpcGxlIGRvY3VtZW50cyBpbiBvbmUgcmVxdWVzdC5cbiAgICogU2hvdWxkIGJlIHVzZWQgc3BhcmluZ2x5IC0gcGVyZm9ybWluZyBhIHF1ZXJ5IGlzIHVzdWFsbHkgYSBiZXR0ZXIgb3B0aW9uLlxuICAgKiBUaGUgb3JkZXIvcG9zaXRpb24gb2YgZG9jdW1lbnRzIGlzIHByZXNlcnZlZCBiYXNlZCBvbiB0aGUgb3JpZ2luYWwgYXJyYXkgb2YgSURzLlxuICAgKiBJZiBhbnkgb2YgdGhlIGRvY3VtZW50cyBhcmUgbWlzc2luZywgdGhleSB3aWxsIGJlIHJlcGxhY2VkIGJ5IGEgYG51bGxgIGVudHJ5IGluIHRoZSByZXR1cm5lZCBhcnJheVxuICAgKlxuICAgKiBAcGFyYW0gaWRzIC0gRG9jdW1lbnQgSURzIHRvIGZldGNoXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqL1xuICBnZXREb2N1bWVudHMoaWRzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9nZXREb2N1bWVudHModGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIGlkcywgb3B0aW9ucyk7XG4gIH1cbiAgY3JlYXRlKGRvY3VtZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9jcmVhdGUodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIGRvY3VtZW50LCBcImNyZWF0ZVwiLCBvcHRpb25zKTtcbiAgfVxuICBjcmVhdGVJZk5vdEV4aXN0cyhkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBfY3JlYXRlSWZOb3RFeGlzdHModGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIGRvY3VtZW50LCBvcHRpb25zKTtcbiAgfVxuICBjcmVhdGVPclJlcGxhY2UoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2NyZWF0ZU9yUmVwbGFjZSh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCwgZG9jdW1lbnQsIG9wdGlvbnMpO1xuICB9XG4gIGRlbGV0ZShzZWxlY3Rpb24sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2RlbGV0ZSh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCwgc2VsZWN0aW9uLCBvcHRpb25zKTtcbiAgfVxuICBtdXRhdGUob3BlcmF0aW9ucywgb3B0aW9ucykge1xuICAgIHJldHVybiBfbXV0YXRlKHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0LCBvcGVyYXRpb25zLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGJ1aWxkYWJsZSBwYXRjaCBvZiBvcGVyYXRpb25zIHRvIHBlcmZvcm1cbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdGlvbiAtIERvY3VtZW50IElELCBhbiBhcnJheSBvZiBkb2N1bWVudCBJRHMsIG9yIGFuIG9iamVjdCB3aXRoIGBxdWVyeWAgYW5kIG9wdGlvbmFsIGBwYXJhbXNgLCBkZWZpbmluZyB3aGljaCBkb2N1bWVudChzKSB0byBwYXRjaFxuICAgKiBAcGFyYW0gb3BlcmF0aW9ucyAtIE9wdGlvbmFsIG9iamVjdCBvZiBwYXRjaCBvcGVyYXRpb25zIHRvIGluaXRpYWxpemUgdGhlIHBhdGNoIGluc3RhbmNlIHdpdGhcbiAgICogQHJldHVybnMgUGF0Y2ggaW5zdGFuY2UgLSBjYWxsIGAuY29tbWl0KClgIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbnMgZGVmaW5lZFxuICAgKi9cbiAgcGF0Y2goc2VsZWN0aW9uLCBvcGVyYXRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlUGF0Y2goc2VsZWN0aW9uLCBvcGVyYXRpb25zLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHRyYW5zYWN0aW9uIG9mIG11dGF0aW9uc1xuICAgKlxuICAgKiBAcGFyYW0gb3BlcmF0aW9ucyAtIE9wdGlvbmFsIGFycmF5IG9mIG11dGF0aW9uIG9wZXJhdGlvbnMgdG8gaW5pdGlhbGl6ZSB0aGUgdHJhbnNhY3Rpb24gaW5zdGFuY2Ugd2l0aFxuICAgKi9cbiAgdHJhbnNhY3Rpb24ob3BlcmF0aW9ucykge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVRyYW5zYWN0aW9uKG9wZXJhdGlvbnMsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtIGFjdGlvbiBvcGVyYXRpb25zIGFnYWluc3QgdGhlIGNvbmZpZ3VyZWQgZGF0YXNldFxuICAgKlxuICAgKiBAcGFyYW0gb3BlcmF0aW9ucyAtIEFjdGlvbiBvcGVyYXRpb24ocykgdG8gZXhlY3V0ZVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFjdGlvbiBvcHRpb25zXG4gICAqL1xuICBhY3Rpb24ob3BlcmF0aW9ucywgb3B0aW9ucykge1xuICAgIHJldHVybiBfYWN0aW9uKHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0LCBvcGVyYXRpb25zLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBhbiBIVFRQIHJlcXVlc3QgYWdhaW5zdCB0aGUgU2FuaXR5IEFQSVxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKi9cbiAgcmVxdWVzdChvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9yZXF1ZXN0KHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0LCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgU2FuaXR5IEFQSSBVUkwgZm9yIHRoZSBVUkkgcHJvdmlkZWRcbiAgICpcbiAgICogQHBhcmFtIHVyaSAtIFVSSS9wYXRoIHRvIGJ1aWxkIFVSTCBmb3JcbiAgICogQHBhcmFtIGNhblVzZUNkbiAtIFdoZXRoZXIgb3Igbm90IHRvIGFsbG93IHVzaW5nIHRoZSBBUEkgQ0ROIGZvciB0aGlzIHJvdXRlXG4gICAqL1xuICBnZXRVcmwodXJpLCBjYW5Vc2VDZG4pIHtcbiAgICByZXR1cm4gX2dldFVybCh0aGlzLCB1cmksIGNhblVzZUNkbik7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIFNhbml0eSBBUEkgVVJMIGZvciB0aGUgZGF0YSBvcGVyYXRpb24gYW5kIHBhdGggcHJvdmlkZWRcbiAgICpcbiAgICogQHBhcmFtIG9wZXJhdGlvbiAtIERhdGEgb3BlcmF0aW9uIChlZyBgcXVlcnlgLCBgbXV0YXRlYCwgYGxpc3RlbmAgb3Igc2ltaWxhcilcbiAgICogQHBhcmFtIHBhdGggLSBQYXRoIHRvIGFwcGVuZCBhZnRlciB0aGUgb3BlcmF0aW9uXG4gICAqL1xuICBnZXREYXRhVXJsKG9wZXJhdGlvbiwgcGF0aCkge1xuICAgIHJldHVybiBfZ2V0RGF0YVVybCh0aGlzLCBvcGVyYXRpb24sIHBhdGgpO1xuICB9XG59XG5jbGFzcyBTYW5pdHlDbGllbnQge1xuICBhc3NldHM7XG4gIGRhdGFzZXRzO1xuICBsaXZlO1xuICBwcm9qZWN0cztcbiAgdXNlcnM7XG4gIC8qKlxuICAgKiBPYnNlcnZhYmxlIHZlcnNpb24gb2YgdGhlIFNhbml0eSBjbGllbnQsIHdpdGggdGhlIHNhbWUgY29uZmlndXJhdGlvbiBhcyB0aGUgcHJvbWlzZS1iYXNlZCBvbmVcbiAgICovXG4gIG9ic2VydmFibGU7XG4gIC8qKlxuICAgKiBQcml2YXRlIHByb3BlcnRpZXNcbiAgICovXG4gICNjbGllbnRDb25maWc7XG4gICNodHRwUmVxdWVzdDtcbiAgLyoqXG4gICAqIEluc3RhbmNlIHByb3BlcnRpZXNcbiAgICovXG4gIGxpc3RlbiA9IF9saXN0ZW47XG4gIGNvbnN0cnVjdG9yKGh0dHBSZXF1ZXN0LCBjb25maWcgPSBkZWZhdWx0Q29uZmlnKSB7XG4gICAgdGhpcy5jb25maWcoY29uZmlnKSwgdGhpcy4jaHR0cFJlcXVlc3QgPSBodHRwUmVxdWVzdCwgdGhpcy5hc3NldHMgPSBuZXcgQXNzZXRzQ2xpZW50KHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0KSwgdGhpcy5kYXRhc2V0cyA9IG5ldyBEYXRhc2V0c0NsaWVudCh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCksIHRoaXMubGl2ZSA9IG5ldyBMaXZlQ2xpZW50KHRoaXMpLCB0aGlzLnByb2plY3RzID0gbmV3IFByb2plY3RzQ2xpZW50KHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0KSwgdGhpcy51c2VycyA9IG5ldyBVc2Vyc0NsaWVudCh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCksIHRoaXMub2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlU2FuaXR5Q2xpZW50KGh0dHBSZXF1ZXN0LCBjb25maWcpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY2xpZW50IC0gcmV0dXJucyBhIG5ldyBpbnN0YW5jZVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBTYW5pdHlDbGllbnQodGhpcy4jaHR0cFJlcXVlc3QsIHRoaXMuY29uZmlnKCkpO1xuICB9XG4gIGNvbmZpZyhuZXdDb25maWcpIHtcbiAgICBpZiAobmV3Q29uZmlnID09PSB2b2lkIDApXG4gICAgICByZXR1cm4geyAuLi50aGlzLiNjbGllbnRDb25maWcgfTtcbiAgICBpZiAodGhpcy4jY2xpZW50Q29uZmlnICYmIHRoaXMuI2NsaWVudENvbmZpZy5hbGxvd1JlY29uZmlndXJlID09PSAhMSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJFeGlzdGluZyBjbGllbnQgaW5zdGFuY2UgY2Fubm90IGJlIHJlY29uZmlndXJlZCAtIHVzZSBgd2l0aENvbmZpZyhuZXdDb25maWcpYCB0byByZXR1cm4gYSBuZXcgY2xpZW50XCJcbiAgICAgICk7XG4gICAgcmV0dXJuIHRoaXMub2JzZXJ2YWJsZSAmJiB0aGlzLm9ic2VydmFibGUuY29uZmlnKG5ld0NvbmZpZyksIHRoaXMuI2NsaWVudENvbmZpZyA9IGluaXRDb25maWcobmV3Q29uZmlnLCB0aGlzLiNjbGllbnRDb25maWcgfHwge30pLCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY2xpZW50IHdpdGggYSBuZXcgKHBhcnRpYWwpIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBuZXdDb25maWcgLSBOZXcgY2xpZW50IGNvbmZpZ3VyYXRpb24gcHJvcGVydGllcywgc2hhbGxvd2x5IG1lcmdlZCB3aXRoIGV4aXN0aW5nIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIHdpdGhDb25maWcobmV3Q29uZmlnKSB7XG4gICAgY29uc3QgdGhpc0NvbmZpZyA9IHRoaXMuY29uZmlnKCk7XG4gICAgcmV0dXJuIG5ldyBTYW5pdHlDbGllbnQodGhpcy4jaHR0cFJlcXVlc3QsIHtcbiAgICAgIC4uLnRoaXNDb25maWcsXG4gICAgICAuLi5uZXdDb25maWcsXG4gICAgICBzdGVnYToge1xuICAgICAgICAuLi50aGlzQ29uZmlnLnN0ZWdhIHx8IHt9LFxuICAgICAgICAuLi50eXBlb2YgbmV3Q29uZmlnPy5zdGVnYSA9PSBcImJvb2xlYW5cIiA/IHsgZW5hYmxlZDogbmV3Q29uZmlnLnN0ZWdhIH0gOiBuZXdDb25maWc/LnN0ZWdhIHx8IHt9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZmV0Y2gocXVlcnksIHBhcmFtcywgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKFxuICAgICAgX2ZldGNoKFxuICAgICAgICB0aGlzLFxuICAgICAgICB0aGlzLiNodHRwUmVxdWVzdCxcbiAgICAgICAgdGhpcy4jY2xpZW50Q29uZmlnLnN0ZWdhLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICBvcHRpb25zXG4gICAgICApXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSBzaW5nbGUgZG9jdW1lbnQgd2l0aCB0aGUgZ2l2ZW4gSUQuXG4gICAqXG4gICAqIEBwYXJhbSBpZCAtIERvY3VtZW50IElEIHRvIGZldGNoXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqL1xuICBnZXREb2N1bWVudChpZCwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9nZXREb2N1bWVudCh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCwgaWQsIG9wdGlvbnMpKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggbXVsdGlwbGUgZG9jdW1lbnRzIGluIG9uZSByZXF1ZXN0LlxuICAgKiBTaG91bGQgYmUgdXNlZCBzcGFyaW5nbHkgLSBwZXJmb3JtaW5nIGEgcXVlcnkgaXMgdXN1YWxseSBhIGJldHRlciBvcHRpb24uXG4gICAqIFRoZSBvcmRlci9wb3NpdGlvbiBvZiBkb2N1bWVudHMgaXMgcHJlc2VydmVkIGJhc2VkIG9uIHRoZSBvcmlnaW5hbCBhcnJheSBvZiBJRHMuXG4gICAqIElmIGFueSBvZiB0aGUgZG9jdW1lbnRzIGFyZSBtaXNzaW5nLCB0aGV5IHdpbGwgYmUgcmVwbGFjZWQgYnkgYSBgbnVsbGAgZW50cnkgaW4gdGhlIHJldHVybmVkIGFycmF5XG4gICAqXG4gICAqIEBwYXJhbSBpZHMgLSBEb2N1bWVudCBJRHMgdG8gZmV0Y2hcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICovXG4gIGdldERvY3VtZW50cyhpZHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfZ2V0RG9jdW1lbnRzKHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0LCBpZHMsIG9wdGlvbnMpKTtcbiAgfVxuICBjcmVhdGUoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShcbiAgICAgIF9jcmVhdGUodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIGRvY3VtZW50LCBcImNyZWF0ZVwiLCBvcHRpb25zKVxuICAgICk7XG4gIH1cbiAgY3JlYXRlSWZOb3RFeGlzdHMoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShcbiAgICAgIF9jcmVhdGVJZk5vdEV4aXN0cyh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCwgZG9jdW1lbnQsIG9wdGlvbnMpXG4gICAgKTtcbiAgfVxuICBjcmVhdGVPclJlcGxhY2UoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShcbiAgICAgIF9jcmVhdGVPclJlcGxhY2UodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIGRvY3VtZW50LCBvcHRpb25zKVxuICAgICk7XG4gIH1cbiAgZGVsZXRlKHNlbGVjdGlvbiwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9kZWxldGUodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIHNlbGVjdGlvbiwgb3B0aW9ucykpO1xuICB9XG4gIG11dGF0ZShvcGVyYXRpb25zLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX211dGF0ZSh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCwgb3BlcmF0aW9ucywgb3B0aW9ucykpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgYnVpbGRhYmxlIHBhdGNoIG9mIG9wZXJhdGlvbnMgdG8gcGVyZm9ybVxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0aW9uIC0gRG9jdW1lbnQgSUQsIGFuIGFycmF5IG9mIGRvY3VtZW50IElEcywgb3IgYW4gb2JqZWN0IHdpdGggYHF1ZXJ5YCBhbmQgb3B0aW9uYWwgYHBhcmFtc2AsIGRlZmluaW5nIHdoaWNoIGRvY3VtZW50KHMpIHRvIHBhdGNoXG4gICAqIEBwYXJhbSBvcGVyYXRpb25zIC0gT3B0aW9uYWwgb2JqZWN0IG9mIHBhdGNoIG9wZXJhdGlvbnMgdG8gaW5pdGlhbGl6ZSB0aGUgcGF0Y2ggaW5zdGFuY2Ugd2l0aFxuICAgKiBAcmV0dXJucyBQYXRjaCBpbnN0YW5jZSAtIGNhbGwgYC5jb21taXQoKWAgdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9ucyBkZWZpbmVkXG4gICAqL1xuICBwYXRjaChkb2N1bWVudElkLCBvcGVyYXRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBQYXRjaChkb2N1bWVudElkLCBvcGVyYXRpb25zLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHRyYW5zYWN0aW9uIG9mIG11dGF0aW9uc1xuICAgKlxuICAgKiBAcGFyYW0gb3BlcmF0aW9ucyAtIE9wdGlvbmFsIGFycmF5IG9mIG11dGF0aW9uIG9wZXJhdGlvbnMgdG8gaW5pdGlhbGl6ZSB0aGUgdHJhbnNhY3Rpb24gaW5zdGFuY2Ugd2l0aFxuICAgKi9cbiAgdHJhbnNhY3Rpb24ob3BlcmF0aW9ucykge1xuICAgIHJldHVybiBuZXcgVHJhbnNhY3Rpb24ob3BlcmF0aW9ucywgdGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIFBlcmZvcm0gYWN0aW9uIG9wZXJhdGlvbnMgYWdhaW5zdCB0aGUgY29uZmlndXJlZCBkYXRhc2V0XG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHRyYW5zYWN0aW9uIHJlc3VsdFxuICAgKlxuICAgKiBAcGFyYW0gb3BlcmF0aW9ucyAtIEFjdGlvbiBvcGVyYXRpb24ocykgdG8gZXhlY3V0ZVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFjdGlvbiBvcHRpb25zXG4gICAqL1xuICBhY3Rpb24ob3BlcmF0aW9ucywgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9hY3Rpb24odGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIG9wZXJhdGlvbnMsIG9wdGlvbnMpKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBhIHJlcXVlc3QgYWdhaW5zdCB0aGUgU2FuaXR5IEFQSVxuICAgKiBOT1RFOiBPbmx5IHVzZSB0aGlzIGZvciBTYW5pdHkgQVBJIGVuZHBvaW50cywgbm90IGZvciB5b3VyIG93biBBUElzIVxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgcmVzcG9uc2UgYm9keVxuICAgKi9cbiAgcmVxdWVzdChvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX3JlcXVlc3QodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIG9wdGlvbnMpKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBhbiBIVFRQIHJlcXVlc3QgYSBgL2RhdGFgIHN1Yi1lbmRwb2ludFxuICAgKiBOT1RFOiBDb25zaWRlcmVkIGludGVybmFsLCB0aHVzIG1hcmtlZCBhcyBkZXByZWNhdGVkLiBVc2UgYHJlcXVlc3RgIGluc3RlYWQuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIC0gVXNlIGByZXF1ZXN0KClgIG9yIHlvdXIgb3duIEhUVFAgbGlicmFyeSBpbnN0ZWFkXG4gICAqIEBwYXJhbSBlbmRwb2ludCAtIEVuZHBvaW50IHRvIGhpdCAobXV0YXRlLCBxdWVyeSBldGMpXG4gICAqIEBwYXJhbSBib2R5IC0gUmVxdWVzdCBib2R5XG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZGF0YVJlcXVlc3QoZW5kcG9pbnQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfZGF0YVJlcXVlc3QodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIGVuZHBvaW50LCBib2R5LCBvcHRpb25zKSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIFNhbml0eSBBUEkgVVJMIGZvciB0aGUgVVJJIHByb3ZpZGVkXG4gICAqXG4gICAqIEBwYXJhbSB1cmkgLSBVUkkvcGF0aCB0byBidWlsZCBVUkwgZm9yXG4gICAqIEBwYXJhbSBjYW5Vc2VDZG4gLSBXaGV0aGVyIG9yIG5vdCB0byBhbGxvdyB1c2luZyB0aGUgQVBJIENETiBmb3IgdGhpcyByb3V0ZVxuICAgKi9cbiAgZ2V0VXJsKHVyaSwgY2FuVXNlQ2RuKSB7XG4gICAgcmV0dXJuIF9nZXRVcmwodGhpcywgdXJpLCBjYW5Vc2VDZG4pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBTYW5pdHkgQVBJIFVSTCBmb3IgdGhlIGRhdGEgb3BlcmF0aW9uIGFuZCBwYXRoIHByb3ZpZGVkXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb24gLSBEYXRhIG9wZXJhdGlvbiAoZWcgYHF1ZXJ5YCwgYG11dGF0ZWAsIGBsaXN0ZW5gIG9yIHNpbWlsYXIpXG4gICAqIEBwYXJhbSBwYXRoIC0gUGF0aCB0byBhcHBlbmQgYWZ0ZXIgdGhlIG9wZXJhdGlvblxuICAgKi9cbiAgZ2V0RGF0YVVybChvcGVyYXRpb24sIHBhdGgpIHtcbiAgICByZXR1cm4gX2dldERhdGFVcmwodGhpcywgb3BlcmF0aW9uLCBwYXRoKTtcbiAgfVxufVxuZnVuY3Rpb24gZGVmaW5lQ3JlYXRlQ2xpZW50RXhwb3J0cyhlbnZNaWRkbGV3YXJlLCBDbGFzc0NvbnN0cnVjdG9yKSB7XG4gIGNvbnN0IGRlZmF1bHRSZXF1ZXN0ZXIgPSBkZWZpbmVIdHRwUmVxdWVzdChlbnZNaWRkbGV3YXJlKTtcbiAgcmV0dXJuIHsgcmVxdWVzdGVyOiBkZWZhdWx0UmVxdWVzdGVyLCBjcmVhdGVDbGllbnQ6IChjb25maWcpID0+IG5ldyBDbGFzc0NvbnN0cnVjdG9yKFxuICAgIChvcHRpb25zLCByZXF1ZXN0ZXIyKSA9PiAocmVxdWVzdGVyMiB8fCBkZWZhdWx0UmVxdWVzdGVyKSh7XG4gICAgICBtYXhSZWRpcmVjdHM6IDAsXG4gICAgICBtYXhSZXRyaWVzOiBjb25maWcubWF4UmV0cmllcyxcbiAgICAgIHJldHJ5RGVsYXk6IGNvbmZpZy5yZXRyeURlbGF5LFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH0pLFxuICAgIGNvbmZpZ1xuICApIH07XG59XG5mdW5jdGlvbiBkZWZpbmVEZXByZWNhdGVkQ3JlYXRlQ2xpZW50KGNyZWF0ZUNsaWVudDIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGNvbmZpZykge1xuICAgIHJldHVybiBwcmludE5vRGVmYXVsdEV4cG9ydCgpLCBjcmVhdGVDbGllbnQyKGNvbmZpZyk7XG4gIH07XG59XG52YXIgbmFtZSA9IFwiQHNhbml0eS9jbGllbnRcIiwgdmVyc2lvbiA9IFwiNi4yNC4xXCI7XG5jb25zdCBtaWRkbGV3YXJlID0gW1xuICBkZWJ1Zyh7IHZlcmJvc2U6ICEwLCBuYW1lc3BhY2U6IFwic2FuaXR5OmNsaWVudFwiIH0pLFxuICBoZWFkZXJzKHsgXCJVc2VyLUFnZW50XCI6IGAke25hbWV9ICR7dmVyc2lvbn1gIH0pLFxuICAvLyBFbmFibGUga2VlcC1hbGl2ZSwgYW5kIGluIGFkZGl0aW9uIGxpbWl0IHRoZSBudW1iZXIgb2Ygc29ja2V0cyB0aGF0IGNhbiBiZSBvcGVuZWQuXG4gIC8vIFRoaXMgYXZvaWRzIG9wZW5pbmcgdG9vIG1hbnkgY29ubmVjdGlvbnMgdG8gdGhlIHNlcnZlciBpZiBzb21lb25lIHRyaWVzIHRvIGV4ZWN1dGVcbiAgLy8gYSBidW5jaCBvZiByZXF1ZXN0cyBpbiBwYXJhbGxlbC4gSXQncyByZWNvbW1lbmRlZCB0byBoYXZlIGEgY29uY3VycmVuY3kgbGltaXRcbiAgLy8gYXQgYSBcImhpZ2hlciBsaW1pdFwiIChpLmUuIHlvdSBzaG91bGRuJ3QgYWN0dWFsbHkgZXhlY3V0ZSBodW5kcmVkcyBvZiByZXF1ZXN0cyBpbiBwYXJhbGxlbCksXG4gIC8vIGFuZCB0aGlzIGlzIG1haW5seSB0byBtaW5pbWl6ZSB0aGUgaW1wYWN0IGZvciB0aGUgbmV0d29yayBhbmQgc2VydmVyLlxuICAvL1xuICAvLyBXZSdyZSBjdXJyZW50bHkgbWF0Y2hpbmcgdGhlIHNhbWUgZGVmYXVsdHMgYXMgYnJvd3NlcnM6XG4gIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI2MDAzNzU2L2lzLXRoZXJlLWEtbGltaXQtcHJhY3RpY2FsLW9yLW90aGVyd2lzZS10by10aGUtbnVtYmVyLW9mLXdlYi1zb2NrZXRzLWEtcGFnZS1vcFxuICBhZ2VudCh7XG4gICAga2VlcEFsaXZlOiAhMCxcbiAgICBtYXhTb2NrZXRzOiAzMCxcbiAgICBtYXhUb3RhbFNvY2tldHM6IDI1NlxuICB9KVxuXSwgZXhwID0gZGVmaW5lQ3JlYXRlQ2xpZW50RXhwb3J0cyhtaWRkbGV3YXJlLCBTYW5pdHlDbGllbnQpLCByZXF1ZXN0ZXIgPSBleHAucmVxdWVzdGVyLCBjcmVhdGVDbGllbnQgPSBleHAuY3JlYXRlQ2xpZW50LCBkZXByZWNhdGVkQ3JlYXRlQ2xpZW50ID0gZGVmaW5lRGVwcmVjYXRlZENyZWF0ZUNsaWVudChjcmVhdGVDbGllbnQpO1xuZXhwb3J0IHtcbiAgQmFzZVBhdGNoLFxuICBCYXNlVHJhbnNhY3Rpb24sXG4gIENsaWVudEVycm9yLFxuICBDb3JzT3JpZ2luRXJyb3IsXG4gIE9ic2VydmFibGVQYXRjaCxcbiAgT2JzZXJ2YWJsZVNhbml0eUNsaWVudCxcbiAgT2JzZXJ2YWJsZVRyYW5zYWN0aW9uLFxuICBQYXRjaCxcbiAgU2FuaXR5Q2xpZW50LFxuICBTZXJ2ZXJFcnJvcixcbiAgVHJhbnNhY3Rpb24sXG4gIGNyZWF0ZUNsaWVudCxcbiAgZGVwcmVjYXRlZENyZWF0ZUNsaWVudCBhcyBkZWZhdWx0LFxuICByZXF1ZXN0ZXIsXG4gIGFkYXB0ZXIgYXMgdW5zdGFibGVfX2FkYXB0ZXIsXG4gIGVudmlyb25tZW50IGFzIHVuc3RhYmxlX19lbnZpcm9ubWVudCxcbiAgdmFsaWRhdGVBcGlQZXJzcGVjdGl2ZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbImdldEl0IiwiYWRhcHRlciIsImVudmlyb25tZW50IiwicmV0cnkiLCJqc29uUmVxdWVzdCIsImpzb25SZXNwb25zZSIsInByb2dyZXNzIiwib2JzZXJ2YWJsZSIsImRlYnVnIiwiaGVhZGVycyIsImFnZW50IiwiT2JzZXJ2YWJsZSIsImZyb20iLCJsYXN0VmFsdWVGcm9tIiwic3RlZ2FDbGVhbiIsImNvbWJpbmVMYXRlc3RXaXRoIiwibWFwIiwiZmlsdGVyIiwiQ2xpZW50RXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwicmVzIiwicHJvcHMiLCJleHRyYWN0RXJyb3JQcm9wcyIsIm1lc3NhZ2UiLCJzdGF0dXNDb2RlIiwiT2JqZWN0IiwiYXNzaWduIiwiU2VydmVyRXJyb3IiLCJib2R5IiwicmVzcG9uc2UiLCJyZXNwb25zZUJvZHkiLCJzdHJpbmdpZnlCb2R5IiwiZGV0YWlscyIsImVycm9yIiwiaXNNdXRhdGlvbkVycm9yIiwiaXNBY3Rpb25FcnJvciIsImFsbEl0ZW1zIiwiaXRlbXMiLCJzbGljZSIsIml0ZW0iLCJkZXNjcmlwdGlvbiIsIkJvb2xlYW4iLCJpdGVtc1N0ciIsImxlbmd0aCIsImpvaW4iLCJodHRwRXJyb3JNZXNzYWdlIiwiaXNQbGFpbk9iamVjdCIsInR5cGUiLCJvYmoiLCJBcnJheSIsImlzQXJyYXkiLCJzdGF0dXNNZXNzYWdlIiwibWV0aG9kIiwidXJsIiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIiwiSlNPTiIsInN0cmluZ2lmeSIsIkNvcnNPcmlnaW5FcnJvciIsInByb2plY3RJZCIsInByb2plY3RJZDIiLCJuYW1lIiwiVVJMIiwibG9jYXRpb24iLCJvcmlnaW4iLCJzZWFyY2hQYXJhbXMiLCJzZXQiLCJhZGRPcmlnaW5VcmwiLCJodHRwRXJyb3IiLCJvblJlc3BvbnNlIiwicHJpbnRXYXJuaW5ncyIsIndhcm4iLCJmb3JFYWNoIiwibXNnIiwiY29uc29sZSIsImRlZmluZUh0dHBSZXF1ZXN0IiwiZW52TWlkZGxld2FyZSIsInNob3VsZFJldHJ5IiwiaW1wbGVtZW50YXRpb24iLCJlcnIiLCJhdHRlbXB0Iiwib3B0aW9ucyIsIm1heFJldHJpZXMiLCJpc1NhZmUiLCJpc1F1ZXJ5IiwidXJpIiwic3RhcnRzV2l0aCIsImlzUmV0cmlhYmxlUmVzcG9uc2UiLCJCQVNFX1VSTCIsImdlbmVyYXRlSGVscFVybCIsInNsdWciLCJWQUxJRF9BU1NFVF9UWVBFUyIsIlZBTElEX0lOU0VSVF9MT0NBVElPTlMiLCJkYXRhc2V0IiwibmFtZTIiLCJ0ZXN0IiwiaWQiLCJ2YWxpZGF0ZUFzc2V0VHlwZSIsInZhbGlkYXRlT2JqZWN0Iiwib3AiLCJ2YWwiLCJ2YWxpZGF0ZURvY3VtZW50SWQiLCJpbmNsdWRlcyIsInJlcXVpcmVEb2N1bWVudElkIiwiZG9jIiwiX2lkIiwidmFsaWRhdGVJbnNlcnQiLCJhdCIsInNlbGVjdG9yIiwic2lnbmF0dXJlIiwidmFsaWQiLCJsb2MiLCJoYXNEYXRhc2V0IiwiY29uZmlnIiwicmVxdWVzdFRhZyIsInRhZyIsIm9uY2UiLCJmbiIsImRpZENhbGwiLCJyZXR1cm5WYWx1ZSIsImFyZ3MiLCJjcmVhdGVXYXJuaW5nUHJpbnRlciIsInByaW50Q2RuQW5kV2l0aENyZWRlbnRpYWxzV2FybmluZyIsInByaW50Q2RuV2FybmluZyIsInByaW50Q2RuUHJldmlld0RyYWZ0c1dhcm5pbmciLCJwcmludEJyb3dzZXJUb2tlbldhcm5pbmciLCJwcmludE5vQXBpVmVyc2lvblNwZWNpZmllZFdhcm5pbmciLCJwcmludE5vRGVmYXVsdEV4cG9ydCIsImRlZmF1bHRDZG5Ib3N0IiwiZGVmYXVsdENvbmZpZyIsImFwaUhvc3QiLCJhcGlWZXJzaW9uIiwidXNlUHJvamVjdEhvc3RuYW1lIiwic3RlZ2EiLCJlbmFibGVkIiwiTE9DQUxIT1NUUyIsImlzTG9jYWwiLCJob3N0IiwidmFsaWRhdGVBcGlWZXJzaW9uIiwiYXBpRGF0ZSIsIkRhdGUiLCJnZXRUaW1lIiwidmFsaWRhdGVBcGlQZXJzcGVjdGl2ZSIsInBlcnNwZWN0aXZlIiwicGVyc3BlY3RpdmVWYWx1ZSIsIlR5cGVFcnJvciIsImluaXRDb25maWciLCJwcmV2Q29uZmlnIiwic3BlY2lmaWVkQ29uZmlnIiwibmV3Q29uZmlnIiwicHJvamVjdEJhc2VkIiwiUHJvbWlzZSIsImhlbHBVcmwiLCJzdHVkaW9VcmwiLCJpc0Jyb3dzZXIiLCJ3aW5kb3ciLCJob3N0bmFtZSIsImlzTG9jYWxob3N0IiwidG9rZW4iLCJpZ25vcmVCcm93c2VyVG9rZW5XYXJuaW5nIiwidXNlQ2RuIiwicmVxdWVzdFRhZ1ByZWZpeCIsInJlcGxhY2UiLCJpc0RlZmF1bHRBcGkiLCJ3aXRoQ3JlZGVudGlhbHMiLCJob3N0UGFydHMiLCJzcGxpdCIsInByb3RvY29sIiwiY2RuSG9zdCIsImNkblVybCIsImdldFNlbGVjdGlvbiIsInNlbCIsInF1ZXJ5IiwicGFyYW1zIiwiaWRzIiwic2VsZWN0aW9uT3B0cyIsIkJhc2VQYXRjaCIsInNlbGVjdGlvbiIsIm9wZXJhdGlvbnMiLCJhdHRycyIsIl9hc3NpZ24iLCJzZXRJZk1pc3NpbmciLCJkaWZmTWF0Y2hQYXRjaCIsInVuc2V0IiwiaW5jIiwiZGVjIiwiaW5zZXJ0IiwiYXBwZW5kIiwicHJlcGVuZCIsInNwbGljZSIsInN0YXJ0IiwiZGVsZXRlQ291bnQiLCJkZWxBbGwiLCJzdGFydEluZGV4IiwiZGVsQ291bnQiLCJNYXRoIiwibWF4IiwiZGVsUmFuZ2UiLCJyYW5nZVNlbGVjdG9yIiwiaWZSZXZpc2lvbklkIiwicmV2IiwiaWZSZXZpc2lvbklEIiwic2VyaWFsaXplIiwidG9KU09OIiwicmVzZXQiLCJtZXJnZSIsIl9zZXQiLCJPYnNlcnZhYmxlUGF0Y2giLCJjbGllbnQiLCJjbG9uZSIsImNvbW1pdCIsInJldHVybkZpcnN0Iiwib3B0cyIsInJldHVybkRvY3VtZW50cyIsIm11dGF0ZSIsInBhdGNoIiwiUGF0Y2giLCJkZWZhdWx0TXV0YXRlT3B0aW9ucyIsIkJhc2VUcmFuc2FjdGlvbiIsInRyYW5zYWN0aW9uSWQiLCJ0cnhJZCIsImNyZWF0ZSIsIl9hZGQiLCJjcmVhdGVJZk5vdEV4aXN0cyIsImNyZWF0ZU9yUmVwbGFjZSIsImRlbGV0ZSIsImRvY3VtZW50SWQiLCJtdXQiLCJwdXNoIiwiVHJhbnNhY3Rpb24iLCJwYXRjaE9yRG9jdW1lbnRJZCIsInBhdGNoT3BzIiwiaXNCdWlsZGVyIiwiT2JzZXJ2YWJsZVRyYW5zYWN0aW9uIiwicHJvamVjdEhlYWRlciIsInJlcXVlc3RPcHRpb25zIiwib3ZlcnJpZGVzIiwiaGVhZGVyczIiLCJBdXRob3JpemF0aW9uIiwidXNlR2xvYmFsQXBpIiwidGltZW91dCIsInByb3h5IiwianNvbiIsImZldGNoIiwiZW5jb2RlUXVlcnlTdHJpbmciLCJVUkxTZWFyY2hQYXJhbXMiLCJpbmNsdWRlTXV0YXRpb25zIiwicmV0dXJuUXVlcnkiLCJrZXkiLCJ2YWx1ZSIsImVudHJpZXMiLCJleGNsdWRlRmFsc2V5IiwicGFyYW0iLCJkZWZWYWx1ZSIsImdldE11dGF0aW9uUXVlcnkiLCJkcnlSdW4iLCJyZXR1cm5JZHMiLCJ2aXNpYmlsaXR5IiwiYXV0b0dlbmVyYXRlQXJyYXlLZXlzIiwic2tpcENyb3NzRGF0YXNldFJlZmVyZW5jZVZhbGlkYXRpb24iLCJpc1Jlc3BvbnNlIiwiZXZlbnQiLCJnZXRCb2R5IiwiaW5kZXhCeSIsImRvY3MiLCJhdHRyIiwicmVkdWNlIiwiaW5kZXhlZCIsImdldFF1ZXJ5U2l6ZUxpbWl0IiwiX2ZldGNoIiwiaHR0cFJlcXVlc3QiLCJfc3RlZ2EiLCJfcGFyYW1zIiwibWFwUmVzcG9uc2UiLCJmaWx0ZXJSZXNwb25zZSIsInJlc3VsdCIsImNhY2hlIiwibmV4dCIsInVzZUFib3J0U2lnbmFsIiwic2lnbmFsIiwicmVzdWx0U291cmNlTWFwIiwicmVxT3B0cyIsIiRyZXF1ZXN0IiwiX2RhdGFSZXF1ZXN0IiwicGlwZSIsInRoZW4iLCJuIiwic3RlZ2FFbmNvZGVTb3VyY2VNYXAkMSIsInN0ZWdhRW5jb2RlU291cmNlTWFwIiwiX2dldERvY3VtZW50IiwiX2dldERhdGFVcmwiLCJfcmVxdWVzdE9ic2VydmFibGUiLCJkb2N1bWVudHMiLCJfZ2V0RG9jdW1lbnRzIiwiX2NyZWF0ZUlmTm90RXhpc3RzIiwiX2NyZWF0ZSIsIl9jcmVhdGVPclJlcGxhY2UiLCJfZGVsZXRlIiwibXV0YXRpb25zIiwiX211dGF0ZSIsIm11dHMiLCJfYWN0aW9uIiwiYWN0aW9ucyIsImFjdHMiLCJlbmRwb2ludCIsImlzTXV0YXRpb24iLCJpc0FjdGlvbiIsInN0clF1ZXJ5IiwidXNlR2V0Iiwic3RyaW5nUXVlcnkiLCJsYXN0TGl2ZUV2ZW50SWQiLCJjYWNoZU1vZGUiLCJyZXFPcHRpb25zIiwiY2FuVXNlQ2RuIiwicmVzdWx0cyIsImRvY3VtZW50IiwibXV0YXRpb24iLCJwZXJzcGVjdGl2ZU9wdGlvbiIsIl9nZXRVcmwiLCJyZXF1ZXN0Iiwic3Vic2NyaWJlciIsInJlcXVlc3RlciIsInN1YnNjcmliZSIsIl93aXRoQWJvcnRTaWduYWwiLCJfcmVxdWVzdCIsIm9wZXJhdGlvbiIsInBhdGgiLCJjYXRhbG9nIiwiYmFzZVVyaSIsImlucHV0Iiwib2JzZXJ2ZXIiLCJhYm9ydCIsIl9jcmVhdGVBYm9ydEVycm9yIiwiYWJvcnRlZCIsInN1YnNjcmlwdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidW5zdWJzY3JpYmUiLCJpc0RvbUV4Y2VwdGlvblN1cHBvcnRlZCIsImdsb2JhbFRoaXMiLCJET01FeGNlcHRpb24iLCJyZWFzb24iLCJPYnNlcnZhYmxlQXNzZXRzQ2xpZW50IiwidXBsb2FkIiwiYXNzZXRUeXBlIiwiX3VwbG9hZCIsIkFzc2V0c0NsaWVudCIsIm9ic2VydmFibGUyIiwibWV0YSIsImV4dHJhY3QiLCJkYXRhc2V0MiIsImFzc2V0RW5kcG9pbnQiLCJvcHRpb25zRnJvbUZpbGUiLCJsYWJlbCIsInRpdGxlIiwiY3JlZGl0TGluZSIsImZpbGVuYW1lIiwic291cmNlIiwic291cmNlSWQiLCJzb3VyY2VOYW1lIiwic291cmNlVXJsIiwiY29udGVudFR5cGUiLCJmaWxlIiwiRmlsZSIsInByZXNlcnZlRmlsZW5hbWUiLCJkZWZhdWx0cyIsImRlZmF1bHRzMiIsImtleXMiLCJjb25jYXQiLCJ0YXJnZXQiLCJwcm9wIiwicGljayIsIk1BWF9VUkxfTEVOR1RIIiwicG9zc2libGVPcHRpb25zIiwiZGVmYXVsdE9wdGlvbnMiLCJpbmNsdWRlUmVzdWx0IiwiX2xpc3RlbiIsImxpc3Rlbk9wdHMiLCJxcyIsImxpc3RlbkZvciIsImV2ZW50cyIsInNob3VsZEVtaXRSZWNvbm5lY3QiLCJlc09wdGlvbnMiLCJlcyIsInJlY29ubmVjdFRpbWVyIiwic3RvcHBlZCIsInVuc3Vic2NyaWJlZCIsIm9wZW4iLCJvbkVycm9yIiwiZW1pdFJlY29ubmVjdCIsInJlYWR5U3RhdGUiLCJDTE9TRUQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwib25DaGFubmVsRXJyb3IiLCJjb29lcmNlRXJyb3IiLCJvbk1lc3NhZ2UiLCJldnQiLCJwYXJzZUV2ZW50JDEiLCJvbkRpc2Nvbm5lY3QiLCJjb21wbGV0ZSIsImNsb3NlIiwiZ2V0RXZlbnRTb3VyY2UiLCJkZWZhdWx0IiwiRXZlbnRTb3VyY2UyIiwiZXZzIiwiZXZlbnRTb3VyY2UiLCJjYXRjaCIsInN0b3AiLCJkYXRhIiwicGFyc2UiLCJleHRyYWN0RXJyb3JNZXNzYWdlIiwicmVxdWlyZWRBcGlWZXJzaW9uIiwiTGl2ZUNsaWVudCIsImluY2x1ZGVEcmFmdHMiLCJfdGFnIiwiX2FwaVZlcnNpb24iLCJnZXRVcmwiLCJwYXJzZUV2ZW50IiwiY2F1c2UiLCJFdmVudFNvdXJjZUltcGxlbWVudGF0aW9uIiwiRXZlbnRTb3VyY2UiLCJtb2RlIiwiY3JlZGVudGlhbHMiLCJ0b1N0cmluZyIsImxhc3RFdmVudElkIiwiT2JzZXJ2YWJsZURhdGFzZXRzQ2xpZW50IiwiX21vZGlmeSIsImVkaXQiLCJsaXN0IiwiRGF0YXNldHNDbGllbnQiLCJPYnNlcnZhYmxlUHJvamVjdHNDbGllbnQiLCJpbmNsdWRlTWVtYmVycyIsImdldEJ5SWQiLCJQcm9qZWN0c0NsaWVudCIsIk9ic2VydmFibGVVc2Vyc0NsaWVudCIsIlVzZXJzQ2xpZW50IiwiT2JzZXJ2YWJsZVNhbml0eUNsaWVudCIsImNsaWVudENvbmZpZyIsImxpc3RlbiIsImFzc2V0cyIsImRhdGFzZXRzIiwibGl2ZSIsInByb2plY3RzIiwidXNlcnMiLCJhbGxvd1JlY29uZmlndXJlIiwid2l0aENvbmZpZyIsInRoaXNDb25maWciLCJnZXREb2N1bWVudCIsImdldERvY3VtZW50cyIsInRyYW5zYWN0aW9uIiwiYWN0aW9uIiwiZ2V0RGF0YVVybCIsIlNhbml0eUNsaWVudCIsImRhdGFSZXF1ZXN0IiwiZGVmaW5lQ3JlYXRlQ2xpZW50RXhwb3J0cyIsIkNsYXNzQ29uc3RydWN0b3IiLCJkZWZhdWx0UmVxdWVzdGVyIiwiY3JlYXRlQ2xpZW50IiwicmVxdWVzdGVyMiIsIm1heFJlZGlyZWN0cyIsInJldHJ5RGVsYXkiLCJkZWZpbmVEZXByZWNhdGVkQ3JlYXRlQ2xpZW50IiwiY3JlYXRlQ2xpZW50MiIsInZlcnNpb24iLCJtaWRkbGV3YXJlIiwidmVyYm9zZSIsIm5hbWVzcGFjZSIsImtlZXBBbGl2ZSIsIm1heFNvY2tldHMiLCJtYXhUb3RhbFNvY2tldHMiLCJleHAiLCJkZXByZWNhdGVkQ3JlYXRlQ2xpZW50IiwidW5zdGFibGVfX2FkYXB0ZXIiLCJ1bnN0YWJsZV9fZW52aXJvbm1lbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@sanity/client/dist/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/client/dist/_chunks-es/stegaClean.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@sanity/client/dist/_chunks-es/stegaClean.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   C: () => (/* binding */ C),\n/* harmony export */   stegaClean: () => (/* binding */ stegaClean),\n/* harmony export */   vercelStegaCleanAll: () => (/* binding */ vercelStegaCleanAll)\n/* harmony export */ });\nvar s = {\n    0: 8203,\n    1: 8204,\n    2: 8205,\n    3: 8290,\n    4: 8291,\n    5: 8288,\n    6: 65279,\n    7: 8289,\n    8: 119155,\n    9: 119156,\n    a: 119157,\n    b: 119158,\n    c: 119159,\n    d: 119160,\n    e: 119161,\n    f: 119162\n}, c = {\n    0: 8203,\n    1: 8204,\n    2: 8205,\n    3: 65279\n}, u = new Array(4).fill(String.fromCodePoint(c[0])).join(\"\");\nfunction E(t) {\n    let e = JSON.stringify(t);\n    return `${u}${Array.from(e).map((r)=>{\n        let n = r.charCodeAt(0);\n        if (n > 255) throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);\n        return Array.from(n.toString(4).padStart(4, \"0\")).map((o)=>String.fromCodePoint(c[o])).join(\"\");\n    }).join(\"\")}`;\n}\nfunction I(t) {\n    return !Number.isNaN(Number(t)) || /[a-z]/i.test(t) && !/\\d+(?:[-:\\/]\\d+){2}(?:T\\d+(?:[-:\\/]\\d+){1,2}(\\.\\d+)?Z?)?/.test(t) ? !1 : !!Date.parse(t);\n}\nfunction T(t) {\n    try {\n        new URL(t, t.startsWith(\"/\") ? \"https://acme.com\" : void 0);\n    } catch  {\n        return !1;\n    }\n    return !0;\n}\nfunction C(t, e, r = \"auto\") {\n    return r === !0 || r === \"auto\" && (I(t) || T(t)) ? t : `${t}${E(e)}`;\n}\nObject.fromEntries(Object.entries(c).map((t)=>t.reverse()));\nObject.fromEntries(Object.entries(s).map((t)=>t.reverse()));\nvar S = `${Object.values(s).map((t)=>`\\\\u{${t.toString(16)}}`).join(\"\")}`, f = new RegExp(`[${S}]{4,}`, \"gu\");\nfunction _(t) {\n    var e;\n    return {\n        cleaned: t.replace(f, \"\"),\n        encoded: ((e = t.match(f)) == null ? void 0 : e[0]) || \"\"\n    };\n}\nfunction O(t) {\n    return t && JSON.parse(_(JSON.stringify(t)).cleaned);\n}\nfunction stegaClean(result) {\n    return O(result);\n}\nconst vercelStegaCleanAll = stegaClean;\n //# sourceMappingURL=stegaClean.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzLWVzL3N0ZWdhQ2xlYW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBSUEsSUFBSTtJQUFFLEdBQUc7SUFBTSxHQUFHO0lBQU0sR0FBRztJQUFNLEdBQUc7SUFBTSxHQUFHO0lBQU0sR0FBRztJQUFNLEdBQUc7SUFBTyxHQUFHO0lBQU0sR0FBRztJQUFRLEdBQUc7SUFBUUMsR0FBRztJQUFRQyxHQUFHO0lBQVFDLEdBQUc7SUFBUUMsR0FBRztJQUFRQyxHQUFHO0lBQVFDLEdBQUc7QUFBTyxHQUFHSCxJQUFJO0lBQUUsR0FBRztJQUFNLEdBQUc7SUFBTSxHQUFHO0lBQU0sR0FBRztBQUFNLEdBQUdJLElBQUksSUFBSUMsTUFBTSxHQUFHQyxJQUFJLENBQUNDLE9BQU9DLGFBQWEsQ0FBQ1IsQ0FBQyxDQUFDLEVBQUUsR0FBR1MsSUFBSSxDQUFDO0FBQ2pSLFNBQVNDLEVBQUVDLENBQUM7SUFDVixJQUFJVCxJQUFJVSxLQUFLQyxTQUFTLENBQUNGO0lBQ3ZCLE9BQU8sQ0FBQyxFQUFFUCxFQUFFLEVBQUVDLE1BQU1TLElBQUksQ0FBQ1osR0FBR2EsR0FBRyxDQUFDLENBQUNDO1FBQy9CLElBQUlDLElBQUlELEVBQUVFLFVBQVUsQ0FBQztRQUNyQixJQUFJRCxJQUFJLEtBQ04sTUFBTSxJQUFJRSxNQUFNLENBQUMsZ0VBQWdFLEVBQUVqQixFQUFFLGNBQWMsRUFBRWMsRUFBRSxFQUFFLEVBQUVDLEVBQUUsQ0FBQyxDQUFDO1FBQ2pILE9BQU9aLE1BQU1TLElBQUksQ0FBQ0csRUFBRUcsUUFBUSxDQUFDLEdBQUdDLFFBQVEsQ0FBQyxHQUFHLE1BQU1OLEdBQUcsQ0FBQyxDQUFDTyxJQUFNZixPQUFPQyxhQUFhLENBQUNSLENBQUMsQ0FBQ3NCLEVBQUUsR0FBR2IsSUFBSSxDQUFDO0lBQ2hHLEdBQUdBLElBQUksQ0FBQyxJQUFJLENBQUM7QUFDZjtBQUNBLFNBQVNjLEVBQUVaLENBQUM7SUFDVixPQUFPLENBQUNhLE9BQU9DLEtBQUssQ0FBQ0QsT0FBT2IsT0FBTyxTQUFTZSxJQUFJLENBQUNmLE1BQU0sQ0FBQywyREFBMkRlLElBQUksQ0FBQ2YsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDZ0IsS0FBS0MsS0FBSyxDQUFDakI7QUFDako7QUFDQSxTQUFTa0IsRUFBRWxCLENBQUM7SUFDVixJQUFJO1FBQ0YsSUFBSW1CLElBQUluQixHQUFHQSxFQUFFb0IsVUFBVSxDQUFDLE9BQU8scUJBQXFCLEtBQUs7SUFDM0QsRUFBRSxPQUFNO1FBQ04sT0FBTyxDQUFDO0lBQ1Y7SUFDQSxPQUFPLENBQUM7QUFDVjtBQUNBLFNBQVNDLEVBQUVyQixDQUFDLEVBQUVULENBQUMsRUFBRWMsSUFBSSxNQUFNO0lBQ3pCLE9BQU9BLE1BQU0sQ0FBQyxLQUFLQSxNQUFNLFVBQVdPLENBQUFBLEVBQUVaLE1BQU1rQixFQUFFbEIsRUFBQyxJQUFLQSxJQUFJLENBQUMsRUFBRUEsRUFBRSxFQUFFRCxFQUFFUixHQUFHLENBQUM7QUFDdkU7QUFDQStCLE9BQU9DLFdBQVcsQ0FBQ0QsT0FBT0UsT0FBTyxDQUFDbkMsR0FBR2UsR0FBRyxDQUFDLENBQUNKLElBQU1BLEVBQUV5QixPQUFPO0FBQ3pESCxPQUFPQyxXQUFXLENBQUNELE9BQU9FLE9BQU8sQ0FBQ3RDLEdBQUdrQixHQUFHLENBQUMsQ0FBQ0osSUFBTUEsRUFBRXlCLE9BQU87QUFDekQsSUFBSUMsSUFBSSxDQUFDLEVBQUVKLE9BQU9LLE1BQU0sQ0FBQ3pDLEdBQUdrQixHQUFHLENBQUMsQ0FBQ0osSUFBTSxDQUFDLElBQUksRUFBRUEsRUFBRVMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUVYLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRU4sSUFBSSxJQUFJb0MsT0FBTyxDQUFDLENBQUMsRUFBRUYsRUFBRSxLQUFLLENBQUMsRUFBRTtBQUMxRyxTQUFTRyxFQUFFN0IsQ0FBQztJQUNWLElBQUlUO0lBQ0osT0FBTztRQUFFdUMsU0FBUzlCLEVBQUUrQixPQUFPLENBQUN2QyxHQUFHO1FBQUt3QyxTQUFTLENBQUMsQ0FBQ3pDLElBQUlTLEVBQUVpQyxLQUFLLENBQUN6QyxFQUFDLEtBQU0sT0FBTyxLQUFLLElBQUlELENBQUMsQ0FBQyxFQUFFLEtBQUs7SUFBRztBQUNoRztBQUNBLFNBQVMyQyxFQUFFbEMsQ0FBQztJQUNWLE9BQU9BLEtBQUtDLEtBQUtnQixLQUFLLENBQUNZLEVBQUU1QixLQUFLQyxTQUFTLENBQUNGLElBQUk4QixPQUFPO0FBQ3JEO0FBQ0EsU0FBU0ssV0FBV0MsTUFBTTtJQUN4QixPQUFPRixFQUFFRTtBQUNYO0FBQ0EsTUFBTUMsc0JBQXNCRjtBQUsxQixDQUNGLHNDQUFzQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FkbWlzc2lvbi11cGxpZnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzLWVzL3N0ZWdhQ2xlYW4uanM/MmI5NyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcyA9IHsgMDogODIwMywgMTogODIwNCwgMjogODIwNSwgMzogODI5MCwgNDogODI5MSwgNTogODI4OCwgNjogNjUyNzksIDc6IDgyODksIDg6IDExOTE1NSwgOTogMTE5MTU2LCBhOiAxMTkxNTcsIGI6IDExOTE1OCwgYzogMTE5MTU5LCBkOiAxMTkxNjAsIGU6IDExOTE2MSwgZjogMTE5MTYyIH0sIGMgPSB7IDA6IDgyMDMsIDE6IDgyMDQsIDI6IDgyMDUsIDM6IDY1Mjc5IH0sIHUgPSBuZXcgQXJyYXkoNCkuZmlsbChTdHJpbmcuZnJvbUNvZGVQb2ludChjWzBdKSkuam9pbihcIlwiKTtcbmZ1bmN0aW9uIEUodCkge1xuICBsZXQgZSA9IEpTT04uc3RyaW5naWZ5KHQpO1xuICByZXR1cm4gYCR7dX0ke0FycmF5LmZyb20oZSkubWFwKChyKSA9PiB7XG4gICAgbGV0IG4gPSByLmNoYXJDb2RlQXQoMCk7XG4gICAgaWYgKG4gPiAyNTUpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE9ubHkgQVNDSUkgZWRpdCBpbmZvIGNhbiBiZSBlbmNvZGVkLiBFcnJvciBhdHRlbXB0aW5nIHRvIGVuY29kZSAke2V9IG9uIGNoYXJhY3RlciAke3J9ICgke259KWApO1xuICAgIHJldHVybiBBcnJheS5mcm9tKG4udG9TdHJpbmcoNCkucGFkU3RhcnQoNCwgXCIwXCIpKS5tYXAoKG8pID0+IFN0cmluZy5mcm9tQ29kZVBvaW50KGNbb10pKS5qb2luKFwiXCIpO1xuICB9KS5qb2luKFwiXCIpfWA7XG59XG5mdW5jdGlvbiBJKHQpIHtcbiAgcmV0dXJuICFOdW1iZXIuaXNOYU4oTnVtYmVyKHQpKSB8fCAvW2Etel0vaS50ZXN0KHQpICYmICEvXFxkKyg/OlstOlxcL11cXGQrKXsyfSg/OlRcXGQrKD86Wy06XFwvXVxcZCspezEsMn0oXFwuXFxkKyk/Wj8pPy8udGVzdCh0KSA/ICExIDogISFEYXRlLnBhcnNlKHQpO1xufVxuZnVuY3Rpb24gVCh0KSB7XG4gIHRyeSB7XG4gICAgbmV3IFVSTCh0LCB0LnN0YXJ0c1dpdGgoXCIvXCIpID8gXCJodHRwczovL2FjbWUuY29tXCIgOiB2b2lkIDApO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgcmV0dXJuICEwO1xufVxuZnVuY3Rpb24gQyh0LCBlLCByID0gXCJhdXRvXCIpIHtcbiAgcmV0dXJuIHIgPT09ICEwIHx8IHIgPT09IFwiYXV0b1wiICYmIChJKHQpIHx8IFQodCkpID8gdCA6IGAke3R9JHtFKGUpfWA7XG59XG5PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoYykubWFwKCh0KSA9PiB0LnJldmVyc2UoKSkpO1xuT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHMpLm1hcCgodCkgPT4gdC5yZXZlcnNlKCkpKTtcbnZhciBTID0gYCR7T2JqZWN0LnZhbHVlcyhzKS5tYXAoKHQpID0+IGBcXFxcdXske3QudG9TdHJpbmcoMTYpfX1gKS5qb2luKFwiXCIpfWAsIGYgPSBuZXcgUmVnRXhwKGBbJHtTfV17NCx9YCwgXCJndVwiKTtcbmZ1bmN0aW9uIF8odCkge1xuICB2YXIgZTtcbiAgcmV0dXJuIHsgY2xlYW5lZDogdC5yZXBsYWNlKGYsIFwiXCIpLCBlbmNvZGVkOiAoKGUgPSB0Lm1hdGNoKGYpKSA9PSBudWxsID8gdm9pZCAwIDogZVswXSkgfHwgXCJcIiB9O1xufVxuZnVuY3Rpb24gTyh0KSB7XG4gIHJldHVybiB0ICYmIEpTT04ucGFyc2UoXyhKU09OLnN0cmluZ2lmeSh0KSkuY2xlYW5lZCk7XG59XG5mdW5jdGlvbiBzdGVnYUNsZWFuKHJlc3VsdCkge1xuICByZXR1cm4gTyhyZXN1bHQpO1xufVxuY29uc3QgdmVyY2VsU3RlZ2FDbGVhbkFsbCA9IHN0ZWdhQ2xlYW47XG5leHBvcnQge1xuICBDLFxuICBzdGVnYUNsZWFuLFxuICB2ZXJjZWxTdGVnYUNsZWFuQWxsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RlZ2FDbGVhbi5qcy5tYXBcbiJdLCJuYW1lcyI6WyJzIiwiYSIsImIiLCJjIiwiZCIsImUiLCJmIiwidSIsIkFycmF5IiwiZmlsbCIsIlN0cmluZyIsImZyb21Db2RlUG9pbnQiLCJqb2luIiwiRSIsInQiLCJKU09OIiwic3RyaW5naWZ5IiwiZnJvbSIsIm1hcCIsInIiLCJuIiwiY2hhckNvZGVBdCIsIkVycm9yIiwidG9TdHJpbmciLCJwYWRTdGFydCIsIm8iLCJJIiwiTnVtYmVyIiwiaXNOYU4iLCJ0ZXN0IiwiRGF0ZSIsInBhcnNlIiwiVCIsIlVSTCIsInN0YXJ0c1dpdGgiLCJDIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwicmV2ZXJzZSIsIlMiLCJ2YWx1ZXMiLCJSZWdFeHAiLCJfIiwiY2xlYW5lZCIsInJlcGxhY2UiLCJlbmNvZGVkIiwibWF0Y2giLCJPIiwic3RlZ2FDbGVhbiIsInJlc3VsdCIsInZlcmNlbFN0ZWdhQ2xlYW5BbGwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/client/dist/_chunks-es/stegaClean.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/client/dist/_chunks-es/stegaEncodeSourceMap.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@sanity/client/dist/_chunks-es/stegaEncodeSourceMap.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodeIntoResult: () => (/* binding */ encodeIntoResult),\n/* harmony export */   stegaEncodeSourceMap: () => (/* binding */ stegaEncodeSourceMap),\n/* harmony export */   stegaEncodeSourceMap$1: () => (/* binding */ stegaEncodeSourceMap$1)\n/* harmony export */ });\n/* harmony import */ var _stegaClean_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./stegaClean.js */ \"(rsc)/./node_modules/@sanity/client/dist/_chunks-es/stegaClean.js\");\n\nconst reKeySegment = /_key\\s*==\\s*['\"](.*)['\"]/;\nfunction isKeySegment(segment) {\n    return typeof segment == \"string\" ? reKeySegment.test(segment.trim()) : typeof segment == \"object\" && \"_key\" in segment;\n}\nfunction toString(path) {\n    if (!Array.isArray(path)) throw new Error(\"Path is not an array\");\n    return path.reduce((target, segment, i)=>{\n        const segmentType = typeof segment;\n        if (segmentType === \"number\") return `${target}[${segment}]`;\n        if (segmentType === \"string\") return `${target}${i === 0 ? \"\" : \".\"}${segment}`;\n        if (isKeySegment(segment) && segment._key) return `${target}[_key==\"${segment._key}\"]`;\n        if (Array.isArray(segment)) {\n            const [from, to] = segment;\n            return `${target}[${from}:${to}]`;\n        }\n        throw new Error(`Unsupported path segment \\`${JSON.stringify(segment)}\\``);\n    }, \"\");\n}\nconst ESCAPE = {\n    \"\\f\": \"\\\\f\",\n    \"\\n\": \"\\\\n\",\n    \"\\r\": \"\\\\r\",\n    \"\t\": \"\\\\t\",\n    \"'\": \"\\\\'\",\n    \"\\\\\": \"\\\\\\\\\"\n}, UNESCAPE = {\n    \"\\\\f\": \"\\f\",\n    \"\\\\n\": `\n`,\n    \"\\\\r\": \"\\r\",\n    \"\\\\t\": \"\t\",\n    \"\\\\'\": \"'\",\n    \"\\\\\\\\\": \"\\\\\"\n};\nfunction jsonPath(path) {\n    return `$${path.map((segment)=>typeof segment == \"string\" ? `['${segment.replace(/[\\f\\n\\r\\t'\\\\]/g, (match)=>ESCAPE[match])}']` : typeof segment == \"number\" ? `[${segment}]` : segment._key !== \"\" ? `[?(@._key=='${segment._key.replace(/['\\\\]/g, (match)=>ESCAPE[match])}')]` : `[${segment._index}]`).join(\"\")}`;\n}\nfunction parseJsonPath(path) {\n    const parsed = [], parseRe = /\\['(.*?)'\\]|\\[(\\d+)\\]|\\[\\?\\(@\\._key=='(.*?)'\\)\\]/g;\n    let match;\n    for(; (match = parseRe.exec(path)) !== null;){\n        if (match[1] !== void 0) {\n            const key = match[1].replace(/\\\\(\\\\|f|n|r|t|')/g, (m)=>UNESCAPE[m]);\n            parsed.push(key);\n            continue;\n        }\n        if (match[2] !== void 0) {\n            parsed.push(parseInt(match[2], 10));\n            continue;\n        }\n        if (match[3] !== void 0) {\n            const _key = match[3].replace(/\\\\(\\\\')/g, (m)=>UNESCAPE[m]);\n            parsed.push({\n                _key,\n                _index: -1\n            });\n            continue;\n        }\n    }\n    return parsed;\n}\nfunction jsonPathToStudioPath(path) {\n    return path.map((segment)=>{\n        if (typeof segment == \"string\" || typeof segment == \"number\") return segment;\n        if (segment._key !== \"\") return {\n            _key: segment._key\n        };\n        if (segment._index !== -1) return segment._index;\n        throw new Error(`invalid segment:${JSON.stringify(segment)}`);\n    });\n}\nfunction jsonPathToMappingPath(path) {\n    return path.map((segment)=>{\n        if (typeof segment == \"string\" || typeof segment == \"number\") return segment;\n        if (segment._index !== -1) return segment._index;\n        throw new Error(`invalid segment:${JSON.stringify(segment)}`);\n    });\n}\nfunction resolveMapping(resultPath, csm) {\n    if (!csm?.mappings) return;\n    const resultMappingPath = jsonPath(jsonPathToMappingPath(resultPath));\n    if (csm.mappings[resultMappingPath] !== void 0) return {\n        mapping: csm.mappings[resultMappingPath],\n        matchedPath: resultMappingPath,\n        pathSuffix: \"\"\n    };\n    const mappings = Object.entries(csm.mappings).filter(([key])=>resultMappingPath.startsWith(key)).sort(([key1], [key2])=>key2.length - key1.length);\n    if (mappings.length == 0) return;\n    const [matchedPath, mapping] = mappings[0], pathSuffix = resultMappingPath.substring(matchedPath.length);\n    return {\n        mapping,\n        matchedPath,\n        pathSuffix\n    };\n}\nfunction isArray(value) {\n    return value !== null && Array.isArray(value);\n}\nfunction isRecord(value) {\n    return typeof value == \"object\" && value !== null;\n}\nfunction walkMap(value, mappingFn, path = []) {\n    if (isArray(value)) return value.map((v, idx)=>{\n        if (isRecord(v)) {\n            const _key = v._key;\n            if (typeof _key == \"string\") return walkMap(v, mappingFn, path.concat({\n                _key,\n                _index: idx\n            }));\n        }\n        return walkMap(v, mappingFn, path.concat(idx));\n    });\n    if (isRecord(value)) {\n        if (value._type === \"block\" || value._type === \"span\") {\n            const result = {\n                ...value\n            };\n            return value._type === \"block\" ? result.children = walkMap(value.children, mappingFn, path.concat(\"children\")) : value._type === \"span\" && (result.text = walkMap(value.text, mappingFn, path.concat(\"text\"))), result;\n        }\n        return Object.fromEntries(Object.entries(value).map(([k, v])=>[\n                k,\n                walkMap(v, mappingFn, path.concat(k))\n            ]));\n    }\n    return mappingFn(value, path);\n}\nfunction encodeIntoResult(result, csm, encoder) {\n    return walkMap(result, (value, path)=>{\n        if (typeof value != \"string\") return value;\n        const resolveMappingResult = resolveMapping(path, csm);\n        if (!resolveMappingResult) return value;\n        const { mapping, matchedPath } = resolveMappingResult;\n        if (mapping.type !== \"value\" || mapping.source.type !== \"documentValue\") return value;\n        const sourceDocument = csm.documents[mapping.source.document], sourcePath = csm.paths[mapping.source.path], matchPathSegments = parseJsonPath(matchedPath), fullSourceSegments = parseJsonPath(sourcePath).concat(path.slice(matchPathSegments.length));\n        return encoder({\n            sourcePath: fullSourceSegments,\n            sourceDocument,\n            resultPath: path,\n            value\n        });\n    });\n}\nconst DRAFTS_PREFIX = \"drafts.\";\nfunction getPublishedId(id) {\n    return id.startsWith(DRAFTS_PREFIX) ? id.slice(DRAFTS_PREFIX.length) : id;\n}\nfunction createEditUrl(options) {\n    const { baseUrl, workspace: _workspace = \"default\", tool: _tool = \"default\", id: _id, type, path, projectId, dataset } = options;\n    if (!baseUrl) throw new Error(\"baseUrl is required\");\n    if (!path) throw new Error(\"path is required\");\n    if (!_id) throw new Error(\"id is required\");\n    if (baseUrl !== \"/\" && baseUrl.endsWith(\"/\")) throw new Error(\"baseUrl must not end with a slash\");\n    const workspace = _workspace === \"default\" ? void 0 : _workspace, tool = _tool === \"default\" ? void 0 : _tool, id = getPublishedId(_id), stringifiedPath = Array.isArray(path) ? toString(jsonPathToStudioPath(path)) : path, searchParams = new URLSearchParams({\n        baseUrl,\n        id,\n        type,\n        path: stringifiedPath\n    });\n    workspace && searchParams.set(\"workspace\", workspace), tool && searchParams.set(\"tool\", tool), projectId && searchParams.set(\"projectId\", projectId), dataset && searchParams.set(\"dataset\", dataset), _id.startsWith(DRAFTS_PREFIX) && searchParams.set(\"isDraft\", \"\");\n    const segments = [\n        baseUrl === \"/\" ? \"\" : baseUrl\n    ];\n    workspace && segments.push(workspace);\n    const routerParams = [\n        \"mode=presentation\",\n        `id=${id}`,\n        `type=${type}`,\n        `path=${encodeURIComponent(stringifiedPath)}`\n    ];\n    return tool && routerParams.push(`tool=${tool}`), segments.push(\"intent\", \"edit\", `${routerParams.join(\";\")}?${searchParams}`), segments.join(\"/\");\n}\nfunction resolveStudioBaseRoute(studioUrl) {\n    let baseUrl = typeof studioUrl == \"string\" ? studioUrl : studioUrl.baseUrl;\n    return baseUrl !== \"/\" && (baseUrl = baseUrl.replace(/\\/$/, \"\")), typeof studioUrl == \"string\" ? {\n        baseUrl\n    } : {\n        ...studioUrl,\n        baseUrl\n    };\n}\nconst filterDefault = ({ sourcePath, resultPath, value })=>{\n    if (isValidDate(value) || isValidURL(value)) return !1;\n    const endPath = sourcePath.at(-1);\n    return !(sourcePath.at(-2) === \"slug\" && endPath === \"current\" || typeof endPath == \"string\" && (endPath.startsWith(\"_\") || endPath.endsWith(\"Id\")) || sourcePath.some((path)=>path === \"meta\" || path === \"metadata\" || path === \"openGraph\" || path === \"seo\") || hasTypeLike(sourcePath) || hasTypeLike(resultPath) || typeof endPath == \"string\" && denylist.has(endPath));\n}, denylist = /* @__PURE__ */ new Set([\n    \"color\",\n    \"colour\",\n    \"currency\",\n    \"email\",\n    \"format\",\n    \"gid\",\n    \"hex\",\n    \"href\",\n    \"hsl\",\n    \"hsla\",\n    \"icon\",\n    \"id\",\n    \"index\",\n    \"key\",\n    \"language\",\n    \"layout\",\n    \"link\",\n    \"linkAction\",\n    \"locale\",\n    \"lqip\",\n    \"page\",\n    \"path\",\n    \"ref\",\n    \"rgb\",\n    \"rgba\",\n    \"route\",\n    \"secret\",\n    \"slug\",\n    \"status\",\n    \"tag\",\n    \"template\",\n    \"theme\",\n    \"type\",\n    \"textTheme\",\n    \"unit\",\n    \"url\",\n    \"username\",\n    \"variant\",\n    \"website\"\n]);\nfunction isValidDate(dateString) {\n    return /^\\d{4}-\\d{2}-\\d{2}/.test(dateString) ? !!Date.parse(dateString) : !1;\n}\nfunction isValidURL(url) {\n    try {\n        new URL(url, url.startsWith(\"/\") ? \"https://acme.com\" : void 0);\n    } catch  {\n        return !1;\n    }\n    return !0;\n}\nfunction hasTypeLike(path) {\n    return path.some((segment)=>typeof segment == \"string\" && segment.match(/type/i) !== null);\n}\nconst TRUNCATE_LENGTH = 20;\nfunction stegaEncodeSourceMap(result, resultSourceMap, config) {\n    const { filter, logger, enabled } = config;\n    if (!enabled) {\n        const msg = \"config.enabled must be true, don't call this function otherwise\";\n        throw logger?.error?.(`[@sanity/client]: ${msg}`, {\n            result,\n            resultSourceMap,\n            config\n        }), new TypeError(msg);\n    }\n    if (!resultSourceMap) return logger?.error?.(\"[@sanity/client]: Missing Content Source Map from response body\", {\n        result,\n        resultSourceMap,\n        config\n    }), result;\n    if (!config.studioUrl) {\n        const msg = \"config.studioUrl must be defined\";\n        throw logger?.error?.(`[@sanity/client]: ${msg}`, {\n            result,\n            resultSourceMap,\n            config\n        }), new TypeError(msg);\n    }\n    const report = {\n        encoded: [],\n        skipped: []\n    }, resultWithStega = encodeIntoResult(result, resultSourceMap, ({ sourcePath, sourceDocument, resultPath, value })=>{\n        if ((typeof filter == \"function\" ? filter({\n            sourcePath,\n            resultPath,\n            filterDefault,\n            sourceDocument,\n            value\n        }) : filterDefault({\n            sourcePath,\n            resultPath,\n            filterDefault,\n            sourceDocument,\n            value\n        })) === !1) return logger && report.skipped.push({\n            path: prettyPathForLogging(sourcePath),\n            value: `${value.slice(0, TRUNCATE_LENGTH)}${value.length > TRUNCATE_LENGTH ? \"...\" : \"\"}`,\n            length: value.length\n        }), value;\n        logger && report.encoded.push({\n            path: prettyPathForLogging(sourcePath),\n            value: `${value.slice(0, TRUNCATE_LENGTH)}${value.length > TRUNCATE_LENGTH ? \"...\" : \"\"}`,\n            length: value.length\n        });\n        const { baseUrl, workspace, tool } = resolveStudioBaseRoute(typeof config.studioUrl == \"function\" ? config.studioUrl(sourceDocument) : config.studioUrl);\n        if (!baseUrl) return value;\n        const { _id: id, _type: type, _projectId: projectId, _dataset: dataset } = sourceDocument;\n        return (0,_stegaClean_js__WEBPACK_IMPORTED_MODULE_0__.C)(value, {\n            origin: \"sanity.io\",\n            href: createEditUrl({\n                baseUrl,\n                workspace,\n                tool,\n                id,\n                type,\n                path: sourcePath,\n                ...!config.omitCrossDatasetReferenceData && {\n                    dataset,\n                    projectId\n                }\n            })\n        }, // We use custom logic to determine if we should skip encoding\n        !1);\n    });\n    if (logger) {\n        const isSkipping = report.skipped.length, isEncoding = report.encoded.length;\n        if ((isSkipping || isEncoding) && ((logger?.groupCollapsed || logger.log)?.(\"[@sanity/client]: Encoding source map into result\"), logger.log?.(`[@sanity/client]: Paths encoded: ${report.encoded.length}, skipped: ${report.skipped.length}`)), report.encoded.length > 0 && (logger?.log?.(\"[@sanity/client]: Table of encoded paths\"), (logger?.table || logger.log)?.(report.encoded)), report.skipped.length > 0) {\n            const skipped = /* @__PURE__ */ new Set();\n            for (const { path } of report.skipped)skipped.add(path.replace(reKeySegment, \"0\").replace(/\\[\\d+\\]/g, \"[]\"));\n            logger?.log?.(\"[@sanity/client]: List of skipped paths\", [\n                ...skipped.values()\n            ]);\n        }\n        (isSkipping || isEncoding) && logger?.groupEnd?.();\n    }\n    return resultWithStega;\n}\nfunction prettyPathForLogging(path) {\n    return toString(jsonPathToStudioPath(path));\n}\nvar stegaEncodeSourceMap$1 = /* @__PURE__ */ Object.freeze({\n    __proto__: null,\n    stegaEncodeSourceMap\n});\n //# sourceMappingURL=stegaEncodeSourceMap.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzLWVzL3N0ZWdhRW5jb2RlU291cmNlTWFwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBb0M7QUFDcEMsTUFBTUMsZUFBZTtBQUNyQixTQUFTQyxhQUFhQyxPQUFPO0lBQzNCLE9BQU8sT0FBT0EsV0FBVyxXQUFXRixhQUFhRyxJQUFJLENBQUNELFFBQVFFLElBQUksTUFBTSxPQUFPRixXQUFXLFlBQVksVUFBVUE7QUFDbEg7QUFDQSxTQUFTRyxTQUFTQyxJQUFJO0lBQ3BCLElBQUksQ0FBQ0MsTUFBTUMsT0FBTyxDQUFDRixPQUNqQixNQUFNLElBQUlHLE1BQU07SUFDbEIsT0FBT0gsS0FBS0ksTUFBTSxDQUFDLENBQUNDLFFBQVFULFNBQVNVO1FBQ25DLE1BQU1DLGNBQWMsT0FBT1g7UUFDM0IsSUFBSVcsZ0JBQWdCLFVBQ2xCLE9BQU8sQ0FBQyxFQUFFRixPQUFPLENBQUMsRUFBRVQsUUFBUSxDQUFDLENBQUM7UUFDaEMsSUFBSVcsZ0JBQWdCLFVBQ2xCLE9BQU8sQ0FBQyxFQUFFRixPQUFPLEVBQUVDLE1BQU0sSUFBSSxLQUFLLElBQUksRUFBRVYsUUFBUSxDQUFDO1FBQ25ELElBQUlELGFBQWFDLFlBQVlBLFFBQVFZLElBQUksRUFDdkMsT0FBTyxDQUFDLEVBQUVILE9BQU8sUUFBUSxFQUFFVCxRQUFRWSxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQzdDLElBQUlQLE1BQU1DLE9BQU8sQ0FBQ04sVUFBVTtZQUMxQixNQUFNLENBQUNhLE1BQU1DLEdBQUcsR0FBR2Q7WUFDbkIsT0FBTyxDQUFDLEVBQUVTLE9BQU8sQ0FBQyxFQUFFSSxLQUFLLENBQUMsRUFBRUMsR0FBRyxDQUFDLENBQUM7UUFDbkM7UUFDQSxNQUFNLElBQUlQLE1BQU0sQ0FBQywyQkFBMkIsRUFBRVEsS0FBS0MsU0FBUyxDQUFDaEIsU0FBUyxFQUFFLENBQUM7SUFDM0UsR0FBRztBQUNMO0FBQ0EsTUFBTWlC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dWxlcy9Ac2FuaXR5L2NsaWVudC9kaXN0L19jaHVua3MtZXMvc3RlZ2FFbmNvZGVTb3VyY2VNYXAuanM/NzcxZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDIH0gZnJvbSBcIi4vc3RlZ2FDbGVhbi5qc1wiO1xuY29uc3QgcmVLZXlTZWdtZW50ID0gL19rZXlcXHMqPT1cXHMqWydcIl0oLiopWydcIl0vO1xuZnVuY3Rpb24gaXNLZXlTZWdtZW50KHNlZ21lbnQpIHtcbiAgcmV0dXJuIHR5cGVvZiBzZWdtZW50ID09IFwic3RyaW5nXCIgPyByZUtleVNlZ21lbnQudGVzdChzZWdtZW50LnRyaW0oKSkgOiB0eXBlb2Ygc2VnbWVudCA9PSBcIm9iamVjdFwiICYmIFwiX2tleVwiIGluIHNlZ21lbnQ7XG59XG5mdW5jdGlvbiB0b1N0cmluZyhwYXRoKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShwYXRoKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXRoIGlzIG5vdCBhbiBhcnJheVwiKTtcbiAgcmV0dXJuIHBhdGgucmVkdWNlKCh0YXJnZXQsIHNlZ21lbnQsIGkpID0+IHtcbiAgICBjb25zdCBzZWdtZW50VHlwZSA9IHR5cGVvZiBzZWdtZW50O1xuICAgIGlmIChzZWdtZW50VHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgIHJldHVybiBgJHt0YXJnZXR9WyR7c2VnbWVudH1dYDtcbiAgICBpZiAoc2VnbWVudFR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICByZXR1cm4gYCR7dGFyZ2V0fSR7aSA9PT0gMCA/IFwiXCIgOiBcIi5cIn0ke3NlZ21lbnR9YDtcbiAgICBpZiAoaXNLZXlTZWdtZW50KHNlZ21lbnQpICYmIHNlZ21lbnQuX2tleSlcbiAgICAgIHJldHVybiBgJHt0YXJnZXR9W19rZXk9PVwiJHtzZWdtZW50Ll9rZXl9XCJdYDtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzZWdtZW50KSkge1xuICAgICAgY29uc3QgW2Zyb20sIHRvXSA9IHNlZ21lbnQ7XG4gICAgICByZXR1cm4gYCR7dGFyZ2V0fVske2Zyb219OiR7dG99XWA7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgcGF0aCBzZWdtZW50IFxcYCR7SlNPTi5zdHJpbmdpZnkoc2VnbWVudCl9XFxgYCk7XG4gIH0sIFwiXCIpO1xufVxuY29uc3QgRVNDQVBFID0ge1xuICBcIlxcZlwiOiBcIlxcXFxmXCIsXG4gIFwiXFxuXCI6IFwiXFxcXG5cIixcbiAgXCJcXHJcIjogXCJcXFxcclwiLFxuICBcIlx0XCI6IFwiXFxcXHRcIixcbiAgXCInXCI6IFwiXFxcXCdcIixcbiAgXCJcXFxcXCI6IFwiXFxcXFxcXFxcIlxufSwgVU5FU0NBUEUgPSB7XG4gIFwiXFxcXGZcIjogXCJcXGZcIixcbiAgXCJcXFxcblwiOiBgXG5gLFxuICBcIlxcXFxyXCI6IFwiXFxyXCIsXG4gIFwiXFxcXHRcIjogXCJcdFwiLFxuICBcIlxcXFwnXCI6IFwiJ1wiLFxuICBcIlxcXFxcXFxcXCI6IFwiXFxcXFwiXG59O1xuZnVuY3Rpb24ganNvblBhdGgocGF0aCkge1xuICByZXR1cm4gYCQke3BhdGgubWFwKChzZWdtZW50KSA9PiB0eXBlb2Ygc2VnbWVudCA9PSBcInN0cmluZ1wiID8gYFsnJHtzZWdtZW50LnJlcGxhY2UoL1tcXGZcXG5cXHJcXHQnXFxcXF0vZywgKG1hdGNoKSA9PiBFU0NBUEVbbWF0Y2hdKX0nXWAgOiB0eXBlb2Ygc2VnbWVudCA9PSBcIm51bWJlclwiID8gYFske3NlZ21lbnR9XWAgOiBzZWdtZW50Ll9rZXkgIT09IFwiXCIgPyBgWz8oQC5fa2V5PT0nJHtzZWdtZW50Ll9rZXkucmVwbGFjZSgvWydcXFxcXS9nLCAobWF0Y2gpID0+IEVTQ0FQRVttYXRjaF0pfScpXWAgOiBgWyR7c2VnbWVudC5faW5kZXh9XWApLmpvaW4oXCJcIil9YDtcbn1cbmZ1bmN0aW9uIHBhcnNlSnNvblBhdGgocGF0aCkge1xuICBjb25zdCBwYXJzZWQgPSBbXSwgcGFyc2VSZSA9IC9cXFsnKC4qPyknXFxdfFxcWyhcXGQrKVxcXXxcXFtcXD9cXChAXFwuX2tleT09JyguKj8pJ1xcKVxcXS9nO1xuICBsZXQgbWF0Y2g7XG4gIGZvciAoOyAobWF0Y2ggPSBwYXJzZVJlLmV4ZWMocGF0aCkpICE9PSBudWxsOyApIHtcbiAgICBpZiAobWF0Y2hbMV0gIT09IHZvaWQgMCkge1xuICAgICAgY29uc3Qga2V5ID0gbWF0Y2hbMV0ucmVwbGFjZSgvXFxcXChcXFxcfGZ8bnxyfHR8JykvZywgKG0pID0+IFVORVNDQVBFW21dKTtcbiAgICAgIHBhcnNlZC5wdXNoKGtleSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG1hdGNoWzJdICE9PSB2b2lkIDApIHtcbiAgICAgIHBhcnNlZC5wdXNoKHBhcnNlSW50KG1hdGNoWzJdLCAxMCkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChtYXRjaFszXSAhPT0gdm9pZCAwKSB7XG4gICAgICBjb25zdCBfa2V5ID0gbWF0Y2hbM10ucmVwbGFjZSgvXFxcXChcXFxcJykvZywgKG0pID0+IFVORVNDQVBFW21dKTtcbiAgICAgIHBhcnNlZC5wdXNoKHtcbiAgICAgICAgX2tleSxcbiAgICAgICAgX2luZGV4OiAtMVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhcnNlZDtcbn1cbmZ1bmN0aW9uIGpzb25QYXRoVG9TdHVkaW9QYXRoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgubWFwKChzZWdtZW50KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHNlZ21lbnQgPT0gXCJudW1iZXJcIilcbiAgICAgIHJldHVybiBzZWdtZW50O1xuICAgIGlmIChzZWdtZW50Ll9rZXkgIT09IFwiXCIpXG4gICAgICByZXR1cm4geyBfa2V5OiBzZWdtZW50Ll9rZXkgfTtcbiAgICBpZiAoc2VnbWVudC5faW5kZXggIT09IC0xKVxuICAgICAgcmV0dXJuIHNlZ21lbnQuX2luZGV4O1xuICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCBzZWdtZW50OiR7SlNPTi5zdHJpbmdpZnkoc2VnbWVudCl9YCk7XG4gIH0pO1xufVxuZnVuY3Rpb24ganNvblBhdGhUb01hcHBpbmdQYXRoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgubWFwKChzZWdtZW50KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHNlZ21lbnQgPT0gXCJudW1iZXJcIilcbiAgICAgIHJldHVybiBzZWdtZW50O1xuICAgIGlmIChzZWdtZW50Ll9pbmRleCAhPT0gLTEpXG4gICAgICByZXR1cm4gc2VnbWVudC5faW5kZXg7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIHNlZ21lbnQ6JHtKU09OLnN0cmluZ2lmeShzZWdtZW50KX1gKTtcbiAgfSk7XG59XG5mdW5jdGlvbiByZXNvbHZlTWFwcGluZyhyZXN1bHRQYXRoLCBjc20pIHtcbiAgaWYgKCFjc20/Lm1hcHBpbmdzKVxuICAgIHJldHVybjtcbiAgY29uc3QgcmVzdWx0TWFwcGluZ1BhdGggPSBqc29uUGF0aChqc29uUGF0aFRvTWFwcGluZ1BhdGgocmVzdWx0UGF0aCkpO1xuICBpZiAoY3NtLm1hcHBpbmdzW3Jlc3VsdE1hcHBpbmdQYXRoXSAhPT0gdm9pZCAwKVxuICAgIHJldHVybiB7XG4gICAgICBtYXBwaW5nOiBjc20ubWFwcGluZ3NbcmVzdWx0TWFwcGluZ1BhdGhdLFxuICAgICAgbWF0Y2hlZFBhdGg6IHJlc3VsdE1hcHBpbmdQYXRoLFxuICAgICAgcGF0aFN1ZmZpeDogXCJcIlxuICAgIH07XG4gIGNvbnN0IG1hcHBpbmdzID0gT2JqZWN0LmVudHJpZXMoY3NtLm1hcHBpbmdzKS5maWx0ZXIoKFtrZXldKSA9PiByZXN1bHRNYXBwaW5nUGF0aC5zdGFydHNXaXRoKGtleSkpLnNvcnQoKFtrZXkxXSwgW2tleTJdKSA9PiBrZXkyLmxlbmd0aCAtIGtleTEubGVuZ3RoKTtcbiAgaWYgKG1hcHBpbmdzLmxlbmd0aCA9PSAwKVxuICAgIHJldHVybjtcbiAgY29uc3QgW21hdGNoZWRQYXRoLCBtYXBwaW5nXSA9IG1hcHBpbmdzWzBdLCBwYXRoU3VmZml4ID0gcmVzdWx0TWFwcGluZ1BhdGguc3Vic3RyaW5nKG1hdGNoZWRQYXRoLmxlbmd0aCk7XG4gIHJldHVybiB7IG1hcHBpbmcsIG1hdGNoZWRQYXRoLCBwYXRoU3VmZml4IH07XG59XG5mdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiBBcnJheS5pc0FycmF5KHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGlzUmVjb3JkKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIHdhbGtNYXAodmFsdWUsIG1hcHBpbmdGbiwgcGF0aCA9IFtdKSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSlcbiAgICByZXR1cm4gdmFsdWUubWFwKCh2LCBpZHgpID0+IHtcbiAgICAgIGlmIChpc1JlY29yZCh2KSkge1xuICAgICAgICBjb25zdCBfa2V5ID0gdi5fa2V5O1xuICAgICAgICBpZiAodHlwZW9mIF9rZXkgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICByZXR1cm4gd2Fsa01hcCh2LCBtYXBwaW5nRm4sIHBhdGguY29uY2F0KHsgX2tleSwgX2luZGV4OiBpZHggfSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdhbGtNYXAodiwgbWFwcGluZ0ZuLCBwYXRoLmNvbmNhdChpZHgpKTtcbiAgICB9KTtcbiAgaWYgKGlzUmVjb3JkKHZhbHVlKSkge1xuICAgIGlmICh2YWx1ZS5fdHlwZSA9PT0gXCJibG9ja1wiIHx8IHZhbHVlLl90eXBlID09PSBcInNwYW5cIikge1xuICAgICAgY29uc3QgcmVzdWx0ID0geyAuLi52YWx1ZSB9O1xuICAgICAgcmV0dXJuIHZhbHVlLl90eXBlID09PSBcImJsb2NrXCIgPyByZXN1bHQuY2hpbGRyZW4gPSB3YWxrTWFwKHZhbHVlLmNoaWxkcmVuLCBtYXBwaW5nRm4sIHBhdGguY29uY2F0KFwiY2hpbGRyZW5cIikpIDogdmFsdWUuX3R5cGUgPT09IFwic3BhblwiICYmIChyZXN1bHQudGV4dCA9IHdhbGtNYXAodmFsdWUudGV4dCwgbWFwcGluZ0ZuLCBwYXRoLmNvbmNhdChcInRleHRcIikpKSwgcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgT2JqZWN0LmVudHJpZXModmFsdWUpLm1hcCgoW2ssIHZdKSA9PiBbaywgd2Fsa01hcCh2LCBtYXBwaW5nRm4sIHBhdGguY29uY2F0KGspKV0pXG4gICAgKTtcbiAgfVxuICByZXR1cm4gbWFwcGluZ0ZuKHZhbHVlLCBwYXRoKTtcbn1cbmZ1bmN0aW9uIGVuY29kZUludG9SZXN1bHQocmVzdWx0LCBjc20sIGVuY29kZXIpIHtcbiAgcmV0dXJuIHdhbGtNYXAocmVzdWx0LCAodmFsdWUsIHBhdGgpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9IFwic3RyaW5nXCIpXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgY29uc3QgcmVzb2x2ZU1hcHBpbmdSZXN1bHQgPSByZXNvbHZlTWFwcGluZyhwYXRoLCBjc20pO1xuICAgIGlmICghcmVzb2x2ZU1hcHBpbmdSZXN1bHQpXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgY29uc3QgeyBtYXBwaW5nLCBtYXRjaGVkUGF0aCB9ID0gcmVzb2x2ZU1hcHBpbmdSZXN1bHQ7XG4gICAgaWYgKG1hcHBpbmcudHlwZSAhPT0gXCJ2YWx1ZVwiIHx8IG1hcHBpbmcuc291cmNlLnR5cGUgIT09IFwiZG9jdW1lbnRWYWx1ZVwiKVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGNvbnN0IHNvdXJjZURvY3VtZW50ID0gY3NtLmRvY3VtZW50c1ttYXBwaW5nLnNvdXJjZS5kb2N1bWVudF0sIHNvdXJjZVBhdGggPSBjc20ucGF0aHNbbWFwcGluZy5zb3VyY2UucGF0aF0sIG1hdGNoUGF0aFNlZ21lbnRzID0gcGFyc2VKc29uUGF0aChtYXRjaGVkUGF0aCksIGZ1bGxTb3VyY2VTZWdtZW50cyA9IHBhcnNlSnNvblBhdGgoc291cmNlUGF0aCkuY29uY2F0KHBhdGguc2xpY2UobWF0Y2hQYXRoU2VnbWVudHMubGVuZ3RoKSk7XG4gICAgcmV0dXJuIGVuY29kZXIoe1xuICAgICAgc291cmNlUGF0aDogZnVsbFNvdXJjZVNlZ21lbnRzLFxuICAgICAgc291cmNlRG9jdW1lbnQsXG4gICAgICByZXN1bHRQYXRoOiBwYXRoLFxuICAgICAgdmFsdWVcbiAgICB9KTtcbiAgfSk7XG59XG5jb25zdCBEUkFGVFNfUFJFRklYID0gXCJkcmFmdHMuXCI7XG5mdW5jdGlvbiBnZXRQdWJsaXNoZWRJZChpZCkge1xuICByZXR1cm4gaWQuc3RhcnRzV2l0aChEUkFGVFNfUFJFRklYKSA/IGlkLnNsaWNlKERSQUZUU19QUkVGSVgubGVuZ3RoKSA6IGlkO1xufVxuZnVuY3Rpb24gY3JlYXRlRWRpdFVybChvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBiYXNlVXJsLFxuICAgIHdvcmtzcGFjZTogX3dvcmtzcGFjZSA9IFwiZGVmYXVsdFwiLFxuICAgIHRvb2w6IF90b29sID0gXCJkZWZhdWx0XCIsXG4gICAgaWQ6IF9pZCxcbiAgICB0eXBlLFxuICAgIHBhdGgsXG4gICAgcHJvamVjdElkLFxuICAgIGRhdGFzZXRcbiAgfSA9IG9wdGlvbnM7XG4gIGlmICghYmFzZVVybClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYXNlVXJsIGlzIHJlcXVpcmVkXCIpO1xuICBpZiAoIXBhdGgpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwicGF0aCBpcyByZXF1aXJlZFwiKTtcbiAgaWYgKCFfaWQpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaWQgaXMgcmVxdWlyZWRcIik7XG4gIGlmIChiYXNlVXJsICE9PSBcIi9cIiAmJiBiYXNlVXJsLmVuZHNXaXRoKFwiL1wiKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYXNlVXJsIG11c3Qgbm90IGVuZCB3aXRoIGEgc2xhc2hcIik7XG4gIGNvbnN0IHdvcmtzcGFjZSA9IF93b3Jrc3BhY2UgPT09IFwiZGVmYXVsdFwiID8gdm9pZCAwIDogX3dvcmtzcGFjZSwgdG9vbCA9IF90b29sID09PSBcImRlZmF1bHRcIiA/IHZvaWQgMCA6IF90b29sLCBpZCA9IGdldFB1Ymxpc2hlZElkKF9pZCksIHN0cmluZ2lmaWVkUGF0aCA9IEFycmF5LmlzQXJyYXkocGF0aCkgPyB0b1N0cmluZyhqc29uUGF0aFRvU3R1ZGlvUGF0aChwYXRoKSkgOiBwYXRoLCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICBiYXNlVXJsLFxuICAgIGlkLFxuICAgIHR5cGUsXG4gICAgcGF0aDogc3RyaW5naWZpZWRQYXRoXG4gIH0pO1xuICB3b3Jrc3BhY2UgJiYgc2VhcmNoUGFyYW1zLnNldChcIndvcmtzcGFjZVwiLCB3b3Jrc3BhY2UpLCB0b29sICYmIHNlYXJjaFBhcmFtcy5zZXQoXCJ0b29sXCIsIHRvb2wpLCBwcm9qZWN0SWQgJiYgc2VhcmNoUGFyYW1zLnNldChcInByb2plY3RJZFwiLCBwcm9qZWN0SWQpLCBkYXRhc2V0ICYmIHNlYXJjaFBhcmFtcy5zZXQoXCJkYXRhc2V0XCIsIGRhdGFzZXQpLCBfaWQuc3RhcnRzV2l0aChEUkFGVFNfUFJFRklYKSAmJiBzZWFyY2hQYXJhbXMuc2V0KFwiaXNEcmFmdFwiLCBcIlwiKTtcbiAgY29uc3Qgc2VnbWVudHMgPSBbYmFzZVVybCA9PT0gXCIvXCIgPyBcIlwiIDogYmFzZVVybF07XG4gIHdvcmtzcGFjZSAmJiBzZWdtZW50cy5wdXNoKHdvcmtzcGFjZSk7XG4gIGNvbnN0IHJvdXRlclBhcmFtcyA9IFtcbiAgICBcIm1vZGU9cHJlc2VudGF0aW9uXCIsXG4gICAgYGlkPSR7aWR9YCxcbiAgICBgdHlwZT0ke3R5cGV9YCxcbiAgICBgcGF0aD0ke2VuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZmllZFBhdGgpfWBcbiAgXTtcbiAgcmV0dXJuIHRvb2wgJiYgcm91dGVyUGFyYW1zLnB1c2goYHRvb2w9JHt0b29sfWApLCBzZWdtZW50cy5wdXNoKFwiaW50ZW50XCIsIFwiZWRpdFwiLCBgJHtyb3V0ZXJQYXJhbXMuam9pbihcIjtcIil9PyR7c2VhcmNoUGFyYW1zfWApLCBzZWdtZW50cy5qb2luKFwiL1wiKTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVTdHVkaW9CYXNlUm91dGUoc3R1ZGlvVXJsKSB7XG4gIGxldCBiYXNlVXJsID0gdHlwZW9mIHN0dWRpb1VybCA9PSBcInN0cmluZ1wiID8gc3R1ZGlvVXJsIDogc3R1ZGlvVXJsLmJhc2VVcmw7XG4gIHJldHVybiBiYXNlVXJsICE9PSBcIi9cIiAmJiAoYmFzZVVybCA9IGJhc2VVcmwucmVwbGFjZSgvXFwvJC8sIFwiXCIpKSwgdHlwZW9mIHN0dWRpb1VybCA9PSBcInN0cmluZ1wiID8geyBiYXNlVXJsIH0gOiB7IC4uLnN0dWRpb1VybCwgYmFzZVVybCB9O1xufVxuY29uc3QgZmlsdGVyRGVmYXVsdCA9ICh7IHNvdXJjZVBhdGgsIHJlc3VsdFBhdGgsIHZhbHVlIH0pID0+IHtcbiAgaWYgKGlzVmFsaWREYXRlKHZhbHVlKSB8fCBpc1ZhbGlkVVJMKHZhbHVlKSlcbiAgICByZXR1cm4gITE7XG4gIGNvbnN0IGVuZFBhdGggPSBzb3VyY2VQYXRoLmF0KC0xKTtcbiAgcmV0dXJuICEoc291cmNlUGF0aC5hdCgtMikgPT09IFwic2x1Z1wiICYmIGVuZFBhdGggPT09IFwiY3VycmVudFwiIHx8IHR5cGVvZiBlbmRQYXRoID09IFwic3RyaW5nXCIgJiYgKGVuZFBhdGguc3RhcnRzV2l0aChcIl9cIikgfHwgZW5kUGF0aC5lbmRzV2l0aChcIklkXCIpKSB8fCBzb3VyY2VQYXRoLnNvbWUoXG4gICAgKHBhdGgpID0+IHBhdGggPT09IFwibWV0YVwiIHx8IHBhdGggPT09IFwibWV0YWRhdGFcIiB8fCBwYXRoID09PSBcIm9wZW5HcmFwaFwiIHx8IHBhdGggPT09IFwic2VvXCJcbiAgKSB8fCBoYXNUeXBlTGlrZShzb3VyY2VQYXRoKSB8fCBoYXNUeXBlTGlrZShyZXN1bHRQYXRoKSB8fCB0eXBlb2YgZW5kUGF0aCA9PSBcInN0cmluZ1wiICYmIGRlbnlsaXN0LmhhcyhlbmRQYXRoKSk7XG59LCBkZW55bGlzdCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtcbiAgXCJjb2xvclwiLFxuICBcImNvbG91clwiLFxuICBcImN1cnJlbmN5XCIsXG4gIFwiZW1haWxcIixcbiAgXCJmb3JtYXRcIixcbiAgXCJnaWRcIixcbiAgXCJoZXhcIixcbiAgXCJocmVmXCIsXG4gIFwiaHNsXCIsXG4gIFwiaHNsYVwiLFxuICBcImljb25cIixcbiAgXCJpZFwiLFxuICBcImluZGV4XCIsXG4gIFwia2V5XCIsXG4gIFwibGFuZ3VhZ2VcIixcbiAgXCJsYXlvdXRcIixcbiAgXCJsaW5rXCIsXG4gIFwibGlua0FjdGlvblwiLFxuICBcImxvY2FsZVwiLFxuICBcImxxaXBcIixcbiAgXCJwYWdlXCIsXG4gIFwicGF0aFwiLFxuICBcInJlZlwiLFxuICBcInJnYlwiLFxuICBcInJnYmFcIixcbiAgXCJyb3V0ZVwiLFxuICBcInNlY3JldFwiLFxuICBcInNsdWdcIixcbiAgXCJzdGF0dXNcIixcbiAgXCJ0YWdcIixcbiAgXCJ0ZW1wbGF0ZVwiLFxuICBcInRoZW1lXCIsXG4gIFwidHlwZVwiLFxuICBcInRleHRUaGVtZVwiLFxuICBcInVuaXRcIixcbiAgXCJ1cmxcIixcbiAgXCJ1c2VybmFtZVwiLFxuICBcInZhcmlhbnRcIixcbiAgXCJ3ZWJzaXRlXCJcbl0pO1xuZnVuY3Rpb24gaXNWYWxpZERhdGUoZGF0ZVN0cmluZykge1xuICByZXR1cm4gL15cXGR7NH0tXFxkezJ9LVxcZHsyfS8udGVzdChkYXRlU3RyaW5nKSA/ICEhRGF0ZS5wYXJzZShkYXRlU3RyaW5nKSA6ICExO1xufVxuZnVuY3Rpb24gaXNWYWxpZFVSTCh1cmwpIHtcbiAgdHJ5IHtcbiAgICBuZXcgVVJMKHVybCwgdXJsLnN0YXJ0c1dpdGgoXCIvXCIpID8gXCJodHRwczovL2FjbWUuY29tXCIgOiB2b2lkIDApO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgcmV0dXJuICEwO1xufVxuZnVuY3Rpb24gaGFzVHlwZUxpa2UocGF0aCkge1xuICByZXR1cm4gcGF0aC5zb21lKChzZWdtZW50KSA9PiB0eXBlb2Ygc2VnbWVudCA9PSBcInN0cmluZ1wiICYmIHNlZ21lbnQubWF0Y2goL3R5cGUvaSkgIT09IG51bGwpO1xufVxuY29uc3QgVFJVTkNBVEVfTEVOR1RIID0gMjA7XG5mdW5jdGlvbiBzdGVnYUVuY29kZVNvdXJjZU1hcChyZXN1bHQsIHJlc3VsdFNvdXJjZU1hcCwgY29uZmlnKSB7XG4gIGNvbnN0IHsgZmlsdGVyLCBsb2dnZXIsIGVuYWJsZWQgfSA9IGNvbmZpZztcbiAgaWYgKCFlbmFibGVkKSB7XG4gICAgY29uc3QgbXNnID0gXCJjb25maWcuZW5hYmxlZCBtdXN0IGJlIHRydWUsIGRvbid0IGNhbGwgdGhpcyBmdW5jdGlvbiBvdGhlcndpc2VcIjtcbiAgICB0aHJvdyBsb2dnZXI/LmVycm9yPy4oYFtAc2FuaXR5L2NsaWVudF06ICR7bXNnfWAsIHsgcmVzdWx0LCByZXN1bHRTb3VyY2VNYXAsIGNvbmZpZyB9KSwgbmV3IFR5cGVFcnJvcihtc2cpO1xuICB9XG4gIGlmICghcmVzdWx0U291cmNlTWFwKVxuICAgIHJldHVybiBsb2dnZXI/LmVycm9yPy4oXCJbQHNhbml0eS9jbGllbnRdOiBNaXNzaW5nIENvbnRlbnQgU291cmNlIE1hcCBmcm9tIHJlc3BvbnNlIGJvZHlcIiwge1xuICAgICAgcmVzdWx0LFxuICAgICAgcmVzdWx0U291cmNlTWFwLFxuICAgICAgY29uZmlnXG4gICAgfSksIHJlc3VsdDtcbiAgaWYgKCFjb25maWcuc3R1ZGlvVXJsKSB7XG4gICAgY29uc3QgbXNnID0gXCJjb25maWcuc3R1ZGlvVXJsIG11c3QgYmUgZGVmaW5lZFwiO1xuICAgIHRocm93IGxvZ2dlcj8uZXJyb3I/LihgW0BzYW5pdHkvY2xpZW50XTogJHttc2d9YCwgeyByZXN1bHQsIHJlc3VsdFNvdXJjZU1hcCwgY29uZmlnIH0pLCBuZXcgVHlwZUVycm9yKG1zZyk7XG4gIH1cbiAgY29uc3QgcmVwb3J0ID0ge1xuICAgIGVuY29kZWQ6IFtdLFxuICAgIHNraXBwZWQ6IFtdXG4gIH0sIHJlc3VsdFdpdGhTdGVnYSA9IGVuY29kZUludG9SZXN1bHQoXG4gICAgcmVzdWx0LFxuICAgIHJlc3VsdFNvdXJjZU1hcCxcbiAgICAoeyBzb3VyY2VQYXRoLCBzb3VyY2VEb2N1bWVudCwgcmVzdWx0UGF0aCwgdmFsdWUgfSkgPT4ge1xuICAgICAgaWYgKCh0eXBlb2YgZmlsdGVyID09IFwiZnVuY3Rpb25cIiA/IGZpbHRlcih7IHNvdXJjZVBhdGgsIHJlc3VsdFBhdGgsIGZpbHRlckRlZmF1bHQsIHNvdXJjZURvY3VtZW50LCB2YWx1ZSB9KSA6IGZpbHRlckRlZmF1bHQoeyBzb3VyY2VQYXRoLCByZXN1bHRQYXRoLCBmaWx0ZXJEZWZhdWx0LCBzb3VyY2VEb2N1bWVudCwgdmFsdWUgfSkpID09PSAhMSlcbiAgICAgICAgcmV0dXJuIGxvZ2dlciAmJiByZXBvcnQuc2tpcHBlZC5wdXNoKHtcbiAgICAgICAgICBwYXRoOiBwcmV0dHlQYXRoRm9yTG9nZ2luZyhzb3VyY2VQYXRoKSxcbiAgICAgICAgICB2YWx1ZTogYCR7dmFsdWUuc2xpY2UoMCwgVFJVTkNBVEVfTEVOR1RIKX0ke3ZhbHVlLmxlbmd0aCA+IFRSVU5DQVRFX0xFTkdUSCA/IFwiLi4uXCIgOiBcIlwifWAsXG4gICAgICAgICAgbGVuZ3RoOiB2YWx1ZS5sZW5ndGhcbiAgICAgICAgfSksIHZhbHVlO1xuICAgICAgbG9nZ2VyICYmIHJlcG9ydC5lbmNvZGVkLnB1c2goe1xuICAgICAgICBwYXRoOiBwcmV0dHlQYXRoRm9yTG9nZ2luZyhzb3VyY2VQYXRoKSxcbiAgICAgICAgdmFsdWU6IGAke3ZhbHVlLnNsaWNlKDAsIFRSVU5DQVRFX0xFTkdUSCl9JHt2YWx1ZS5sZW5ndGggPiBUUlVOQ0FURV9MRU5HVEggPyBcIi4uLlwiIDogXCJcIn1gLFxuICAgICAgICBsZW5ndGg6IHZhbHVlLmxlbmd0aFxuICAgICAgfSk7XG4gICAgICBjb25zdCB7IGJhc2VVcmwsIHdvcmtzcGFjZSwgdG9vbCB9ID0gcmVzb2x2ZVN0dWRpb0Jhc2VSb3V0ZShcbiAgICAgICAgdHlwZW9mIGNvbmZpZy5zdHVkaW9VcmwgPT0gXCJmdW5jdGlvblwiID8gY29uZmlnLnN0dWRpb1VybChzb3VyY2VEb2N1bWVudCkgOiBjb25maWcuc3R1ZGlvVXJsXG4gICAgICApO1xuICAgICAgaWYgKCFiYXNlVXJsKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICBjb25zdCB7IF9pZDogaWQsIF90eXBlOiB0eXBlLCBfcHJvamVjdElkOiBwcm9qZWN0SWQsIF9kYXRhc2V0OiBkYXRhc2V0IH0gPSBzb3VyY2VEb2N1bWVudDtcbiAgICAgIHJldHVybiBDKFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAge1xuICAgICAgICAgIG9yaWdpbjogXCJzYW5pdHkuaW9cIixcbiAgICAgICAgICBocmVmOiBjcmVhdGVFZGl0VXJsKHtcbiAgICAgICAgICAgIGJhc2VVcmwsXG4gICAgICAgICAgICB3b3Jrc3BhY2UsXG4gICAgICAgICAgICB0b29sLFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcGF0aDogc291cmNlUGF0aCxcbiAgICAgICAgICAgIC4uLiFjb25maWcub21pdENyb3NzRGF0YXNldFJlZmVyZW5jZURhdGEgJiYgeyBkYXRhc2V0LCBwcm9qZWN0SWQgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIC8vIFdlIHVzZSBjdXN0b20gbG9naWMgdG8gZGV0ZXJtaW5lIGlmIHdlIHNob3VsZCBza2lwIGVuY29kaW5nXG4gICAgICAgICExXG4gICAgICApO1xuICAgIH1cbiAgKTtcbiAgaWYgKGxvZ2dlcikge1xuICAgIGNvbnN0IGlzU2tpcHBpbmcgPSByZXBvcnQuc2tpcHBlZC5sZW5ndGgsIGlzRW5jb2RpbmcgPSByZXBvcnQuZW5jb2RlZC5sZW5ndGg7XG4gICAgaWYgKChpc1NraXBwaW5nIHx8IGlzRW5jb2RpbmcpICYmICgobG9nZ2VyPy5ncm91cENvbGxhcHNlZCB8fCBsb2dnZXIubG9nKT8uKFwiW0BzYW5pdHkvY2xpZW50XTogRW5jb2Rpbmcgc291cmNlIG1hcCBpbnRvIHJlc3VsdFwiKSwgbG9nZ2VyLmxvZz8uKFxuICAgICAgYFtAc2FuaXR5L2NsaWVudF06IFBhdGhzIGVuY29kZWQ6ICR7cmVwb3J0LmVuY29kZWQubGVuZ3RofSwgc2tpcHBlZDogJHtyZXBvcnQuc2tpcHBlZC5sZW5ndGh9YFxuICAgICkpLCByZXBvcnQuZW5jb2RlZC5sZW5ndGggPiAwICYmIChsb2dnZXI/LmxvZz8uKFwiW0BzYW5pdHkvY2xpZW50XTogVGFibGUgb2YgZW5jb2RlZCBwYXRoc1wiKSwgKGxvZ2dlcj8udGFibGUgfHwgbG9nZ2VyLmxvZyk/LihyZXBvcnQuZW5jb2RlZCkpLCByZXBvcnQuc2tpcHBlZC5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBza2lwcGVkID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAgIGZvciAoY29uc3QgeyBwYXRoIH0gb2YgcmVwb3J0LnNraXBwZWQpXG4gICAgICAgIHNraXBwZWQuYWRkKHBhdGgucmVwbGFjZShyZUtleVNlZ21lbnQsIFwiMFwiKS5yZXBsYWNlKC9cXFtcXGQrXFxdL2csIFwiW11cIikpO1xuICAgICAgbG9nZ2VyPy5sb2c/LihcIltAc2FuaXR5L2NsaWVudF06IExpc3Qgb2Ygc2tpcHBlZCBwYXRoc1wiLCBbLi4uc2tpcHBlZC52YWx1ZXMoKV0pO1xuICAgIH1cbiAgICAoaXNTa2lwcGluZyB8fCBpc0VuY29kaW5nKSAmJiBsb2dnZXI/Lmdyb3VwRW5kPy4oKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0V2l0aFN0ZWdhO1xufVxuZnVuY3Rpb24gcHJldHR5UGF0aEZvckxvZ2dpbmcocGF0aCkge1xuICByZXR1cm4gdG9TdHJpbmcoanNvblBhdGhUb1N0dWRpb1BhdGgocGF0aCkpO1xufVxudmFyIHN0ZWdhRW5jb2RlU291cmNlTWFwJDEgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgc3RlZ2FFbmNvZGVTb3VyY2VNYXBcbn0pO1xuZXhwb3J0IHtcbiAgZW5jb2RlSW50b1Jlc3VsdCxcbiAgc3RlZ2FFbmNvZGVTb3VyY2VNYXAsXG4gIHN0ZWdhRW5jb2RlU291cmNlTWFwJDFcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGVnYUVuY29kZVNvdXJjZU1hcC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJDIiwicmVLZXlTZWdtZW50IiwiaXNLZXlTZWdtZW50Iiwic2VnbWVudCIsInRlc3QiLCJ0cmltIiwidG9TdHJpbmciLCJwYXRoIiwiQXJyYXkiLCJpc0FycmF5IiwiRXJyb3IiLCJyZWR1Y2UiLCJ0YXJnZXQiLCJpIiwic2VnbWVudFR5cGUiLCJfa2V5IiwiZnJvbSIsInRvIiwiSlNPTiIsInN0cmluZ2lmeSIsIkVTQ0FQRSIsIlVORVNDQVBFIiwianNvblBhdGgiLCJtYXAiLCJyZXBsYWNlIiwibWF0Y2giLCJfaW5kZXgiLCJqb2luIiwicGFyc2VKc29uUGF0aCIsInBhcnNlZCIsInBhcnNlUmUiLCJleGVjIiwia2V5IiwibSIsInB1c2giLCJwYXJzZUludCIsImpzb25QYXRoVG9TdHVkaW9QYXRoIiwianNvblBhdGhUb01hcHBpbmdQYXRoIiwicmVzb2x2ZU1hcHBpbmciLCJyZXN1bHRQYXRoIiwiY3NtIiwibWFwcGluZ3MiLCJyZXN1bHRNYXBwaW5nUGF0aCIsIm1hcHBpbmciLCJtYXRjaGVkUGF0aCIsInBhdGhTdWZmaXgiLCJPYmplY3QiLCJlbnRyaWVzIiwiZmlsdGVyIiwic3RhcnRzV2l0aCIsInNvcnQiLCJrZXkxIiwia2V5MiIsImxlbmd0aCIsInN1YnN0cmluZyIsInZhbHVlIiwiaXNSZWNvcmQiLCJ3YWxrTWFwIiwibWFwcGluZ0ZuIiwidiIsImlkeCIsImNvbmNhdCIsIl90eXBlIiwicmVzdWx0IiwiY2hpbGRyZW4iLCJ0ZXh0IiwiZnJvbUVudHJpZXMiLCJrIiwiZW5jb2RlSW50b1Jlc3VsdCIsImVuY29kZXIiLCJyZXNvbHZlTWFwcGluZ1Jlc3VsdCIsInR5cGUiLCJzb3VyY2UiLCJzb3VyY2VEb2N1bWVudCIsImRvY3VtZW50cyIsImRvY3VtZW50Iiwic291cmNlUGF0aCIsInBhdGhzIiwibWF0Y2hQYXRoU2VnbWVudHMiLCJmdWxsU291cmNlU2VnbWVudHMiLCJzbGljZSIsIkRSQUZUU19QUkVGSVgiLCJnZXRQdWJsaXNoZWRJZCIsImlkIiwiY3JlYXRlRWRpdFVybCIsIm9wdGlvbnMiLCJiYXNlVXJsIiwid29ya3NwYWNlIiwiX3dvcmtzcGFjZSIsInRvb2wiLCJfdG9vbCIsIl9pZCIsInByb2plY3RJZCIsImRhdGFzZXQiLCJlbmRzV2l0aCIsInN0cmluZ2lmaWVkUGF0aCIsInNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInNldCIsInNlZ21lbnRzIiwicm91dGVyUGFyYW1zIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVzb2x2ZVN0dWRpb0Jhc2VSb3V0ZSIsInN0dWRpb1VybCIsImZpbHRlckRlZmF1bHQiLCJpc1ZhbGlkRGF0ZSIsImlzVmFsaWRVUkwiLCJlbmRQYXRoIiwiYXQiLCJzb21lIiwiaGFzVHlwZUxpa2UiLCJkZW55bGlzdCIsImhhcyIsIlNldCIsImRhdGVTdHJpbmciLCJEYXRlIiwicGFyc2UiLCJ1cmwiLCJVUkwiLCJUUlVOQ0FURV9MRU5HVEgiLCJzdGVnYUVuY29kZVNvdXJjZU1hcCIsInJlc3VsdFNvdXJjZU1hcCIsImNvbmZpZyIsImxvZ2dlciIsImVuYWJsZWQiLCJtc2ciLCJlcnJvciIsIlR5cGVFcnJvciIsInJlcG9ydCIsImVuY29kZWQiLCJza2lwcGVkIiwicmVzdWx0V2l0aFN0ZWdhIiwicHJldHR5UGF0aEZvckxvZ2dpbmciLCJfcHJvamVjdElkIiwiX2RhdGFzZXQiLCJvcmlnaW4iLCJocmVmIiwib21pdENyb3NzRGF0YXNldFJlZmVyZW5jZURhdGEiLCJpc1NraXBwaW5nIiwiaXNFbmNvZGluZyIsImdyb3VwQ29sbGFwc2VkIiwibG9nIiwidGFibGUiLCJhZGQiLCJ2YWx1ZXMiLCJncm91cEVuZCIsInN0ZWdhRW5jb2RlU291cmNlTWFwJDEiLCJmcmVlemUiLCJfX3Byb3RvX18iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/client/dist/_chunks-es/stegaEncodeSourceMap.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/client/dist/index.browser.js":
/*!***********************************************************!*\
  !*** ./node_modules/@sanity/client/dist/index.browser.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePatch: () => (/* binding */ BasePatch),\n/* harmony export */   BaseTransaction: () => (/* binding */ BaseTransaction),\n/* harmony export */   ClientError: () => (/* binding */ ClientError),\n/* harmony export */   CorsOriginError: () => (/* binding */ CorsOriginError),\n/* harmony export */   ObservablePatch: () => (/* binding */ ObservablePatch),\n/* harmony export */   ObservableSanityClient: () => (/* binding */ ObservableSanityClient),\n/* harmony export */   ObservableTransaction: () => (/* binding */ ObservableTransaction),\n/* harmony export */   Patch: () => (/* binding */ Patch),\n/* harmony export */   SanityClient: () => (/* binding */ SanityClient),\n/* harmony export */   ServerError: () => (/* binding */ ServerError),\n/* harmony export */   Transaction: () => (/* binding */ Transaction),\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   \"default\": () => (/* binding */ deprecatedCreateClient),\n/* harmony export */   requester: () => (/* binding */ requester),\n/* harmony export */   unstable__adapter: () => (/* reexport safe */ get_it__WEBPACK_IMPORTED_MODULE_0__.adapter),\n/* harmony export */   unstable__environment: () => (/* reexport safe */ get_it__WEBPACK_IMPORTED_MODULE_0__.environment),\n/* harmony export */   validateApiPerspective: () => (/* binding */ validateApiPerspective)\n/* harmony export */ });\n/* harmony import */ var get_it__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! get-it */ \"(rsc)/./node_modules/get-it/dist/index.react-server.js\");\n/* harmony import */ var get_it_middleware__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! get-it/middleware */ \"(rsc)/./node_modules/get-it/dist/middleware.browser.js\");\n/* harmony import */ var _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=Observable,from,lastValueFrom!=!rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/Observable.js\");\n/* harmony import */ var _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Observable,from,lastValueFrom!=!rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/observable/from.js\");\n/* harmony import */ var _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Observable,from,lastValueFrom!=!rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/lastValueFrom.js\");\n/* harmony import */ var _chunks_es_stegaClean_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./_chunks-es/stegaClean.js */ \"(rsc)/./node_modules/@sanity/client/dist/_chunks-es/stegaClean.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ \"(rsc)/./node_modules/rxjs/dist/cjs/operators/index.js\");\n\n\n\n\n\n\nclass ClientError extends Error {\n    constructor(res){\n        const props = extractErrorProps(res);\n        var _temp;\n        _temp = super(props.message), this.statusCode = 400, _temp, Object.assign(this, props);\n    }\n}\nclass ServerError extends Error {\n    constructor(res){\n        const props = extractErrorProps(res);\n        var _temp;\n        _temp = super(props.message), this.statusCode = 500, _temp, Object.assign(this, props);\n    }\n}\nfunction extractErrorProps(res) {\n    const body = res.body, props = {\n        response: res,\n        statusCode: res.statusCode,\n        responseBody: stringifyBody(body, res),\n        message: \"\",\n        details: void 0\n    };\n    if (body.error && body.message) return props.message = `${body.error} - ${body.message}`, props;\n    if (isMutationError(body) || isActionError(body)) {\n        const allItems = body.error.items || [], items = allItems.slice(0, 5).map((item)=>item.error?.description).filter(Boolean);\n        let itemsStr = items.length ? `:\n- ${items.join(`\n- `)}` : \"\";\n        return allItems.length > 5 && (itemsStr += `\n...and ${allItems.length - 5} more`), props.message = `${body.error.description}${itemsStr}`, props.details = body.error, props;\n    }\n    return body.error && body.error.description ? (props.message = body.error.description, props.details = body.error, props) : (props.message = body.error || body.message || httpErrorMessage(res), props);\n}\nfunction isMutationError(body) {\n    return isPlainObject(body) && isPlainObject(body.error) && body.error.type === \"mutationError\" && typeof body.error.description == \"string\";\n}\nfunction isActionError(body) {\n    return isPlainObject(body) && isPlainObject(body.error) && body.error.type === \"actionError\" && typeof body.error.description == \"string\";\n}\nfunction isPlainObject(obj) {\n    return typeof obj == \"object\" && obj !== null && !Array.isArray(obj);\n}\nfunction httpErrorMessage(res) {\n    const statusMessage = res.statusMessage ? ` ${res.statusMessage}` : \"\";\n    return `${res.method}-request to ${res.url} resulted in HTTP ${res.statusCode}${statusMessage}`;\n}\nfunction stringifyBody(body, res) {\n    return (res.headers[\"content-type\"] || \"\").toLowerCase().indexOf(\"application/json\") !== -1 ? JSON.stringify(body, null, 2) : body;\n}\nclass CorsOriginError extends Error {\n    constructor({ projectId: projectId2 }){\n        super(\"CorsOriginError\"), this.name = \"CorsOriginError\", this.projectId = projectId2;\n        const url = new URL(`https://sanity.io/manage/project/${projectId2}/api`);\n        if (typeof location < \"u\") {\n            const { origin } = location;\n            url.searchParams.set(\"cors\", \"add\"), url.searchParams.set(\"origin\", origin), this.addOriginUrl = url, this.message = `The current origin is not allowed to connect to the Live Content API. Add it here: ${url}`;\n        } else this.message = `The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${url}`;\n    }\n}\nconst httpError = {\n    onResponse: (res)=>{\n        if (res.statusCode >= 500) throw new ServerError(res);\n        if (res.statusCode >= 400) throw new ClientError(res);\n        return res;\n    }\n}, printWarnings = {\n    onResponse: (res)=>{\n        const warn = res.headers[\"x-sanity-warning\"];\n        return (Array.isArray(warn) ? warn : [\n            warn\n        ]).filter(Boolean).forEach((msg)=>console.warn(msg)), res;\n    }\n};\nfunction defineHttpRequest(envMiddleware2) {\n    return (0,get_it__WEBPACK_IMPORTED_MODULE_0__.getIt)([\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.retry)({\n            shouldRetry\n        }),\n        ...envMiddleware2,\n        printWarnings,\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.jsonRequest)(),\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.jsonResponse)(),\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.progress)(),\n        httpError,\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.observable)({\n            implementation: _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable\n        })\n    ]);\n}\nfunction shouldRetry(err, attempt, options) {\n    if (options.maxRetries === 0) return !1;\n    const isSafe = options.method === \"GET\" || options.method === \"HEAD\", isQuery = (options.uri || options.url).startsWith(\"/data/query\"), isRetriableResponse = err.response && (err.response.statusCode === 429 || err.response.statusCode === 502 || err.response.statusCode === 503);\n    return (isSafe || isQuery) && isRetriableResponse ? !0 : get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.retry.shouldRetry(err, attempt, options);\n}\nconst BASE_URL = \"https://www.sanity.io/help/\";\nfunction generateHelpUrl(slug) {\n    return BASE_URL + slug;\n}\nconst VALID_ASSET_TYPES = [\n    \"image\",\n    \"file\"\n], VALID_INSERT_LOCATIONS = [\n    \"before\",\n    \"after\",\n    \"replace\"\n], dataset = (name)=>{\n    if (!/^(~[a-z0-9]{1}[-\\w]{0,63}|[a-z0-9]{1}[-\\w]{0,63})$/.test(name)) throw new Error(\"Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters\");\n}, projectId = (id)=>{\n    if (!/^[-a-z0-9]+$/i.test(id)) throw new Error(\"`projectId` can only contain only a-z, 0-9 and dashes\");\n}, validateAssetType = (type)=>{\n    if (VALID_ASSET_TYPES.indexOf(type) === -1) throw new Error(`Invalid asset type: ${type}. Must be one of ${VALID_ASSET_TYPES.join(\", \")}`);\n}, validateObject = (op, val)=>{\n    if (val === null || typeof val != \"object\" || Array.isArray(val)) throw new Error(`${op}() takes an object of properties`);\n}, validateDocumentId = (op, id)=>{\n    if (typeof id != \"string\" || !/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(id) || id.includes(\"..\")) throw new Error(`${op}(): \"${id}\" is not a valid document ID`);\n}, requireDocumentId = (op, doc)=>{\n    if (!doc._id) throw new Error(`${op}() requires that the document contains an ID (\"_id\" property)`);\n    validateDocumentId(op, doc._id);\n}, validateInsert = (at, selector, items)=>{\n    const signature = \"insert(at, selector, items)\";\n    if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n        const valid = VALID_INSERT_LOCATIONS.map((loc)=>`\"${loc}\"`).join(\", \");\n        throw new Error(`${signature} takes an \"at\"-argument which is one of: ${valid}`);\n    }\n    if (typeof selector != \"string\") throw new Error(`${signature} takes a \"selector\"-argument which must be a string`);\n    if (!Array.isArray(items)) throw new Error(`${signature} takes an \"items\"-argument which must be an array`);\n}, hasDataset = (config)=>{\n    if (!config.dataset) throw new Error(\"`dataset` must be provided to perform queries\");\n    return config.dataset || \"\";\n}, requestTag = (tag)=>{\n    if (typeof tag != \"string\" || !/^[a-z0-9._-]{1,75}$/i.test(tag)) throw new Error(\"Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.\");\n    return tag;\n};\nfunction once(fn) {\n    let didCall = !1, returnValue;\n    return (...args)=>(didCall || (returnValue = fn(...args), didCall = !0), returnValue);\n}\nconst createWarningPrinter = (message)=>// eslint-disable-next-line no-console\n    once((...args)=>console.warn(message.join(\" \"), ...args)), printCdnAndWithCredentialsWarning = createWarningPrinter([\n    \"Because you set `withCredentials` to true, we will override your `useCdn`\",\n    \"setting to be false since (cookie-based) credentials are never set on the CDN\"\n]), printCdnWarning = createWarningPrinter([\n    \"Since you haven't set a value for `useCdn`, we will deliver content using our\",\n    \"global, edge-cached API-CDN. If you wish to have content delivered faster, set\",\n    \"`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API.\"\n]), printCdnPreviewDraftsWarning = createWarningPrinter([\n    \"The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.\",\n    \"The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning.\"\n]), printBrowserTokenWarning = createWarningPrinter([\n    \"You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.\",\n    `See ${generateHelpUrl(\"js-client-browser-token\")} for more information and how to hide this warning.`\n]), printNoApiVersionSpecifiedWarning = createWarningPrinter([\n    \"Using the Sanity client without specifying an API version is deprecated.\",\n    `See ${generateHelpUrl(\"js-client-api-version\")}`\n]), printNoDefaultExport = createWarningPrinter([\n    \"The default export of @sanity/client has been deprecated. Use the named export `createClient` instead.\"\n]), defaultCdnHost = \"apicdn.sanity.io\", defaultConfig = {\n    apiHost: \"https://api.sanity.io\",\n    apiVersion: \"1\",\n    useProjectHostname: !0,\n    stega: {\n        enabled: !1\n    }\n}, LOCALHOSTS = [\n    \"localhost\",\n    \"127.0.0.1\",\n    \"0.0.0.0\"\n], isLocal = (host)=>LOCALHOSTS.indexOf(host) !== -1;\nfunction validateApiVersion(apiVersion) {\n    if (apiVersion === \"1\" || apiVersion === \"X\") return;\n    const apiDate = new Date(apiVersion);\n    if (!(/^\\d{4}-\\d{2}-\\d{2}$/.test(apiVersion) && apiDate instanceof Date && apiDate.getTime() > 0)) throw new Error(\"Invalid API version string, expected `1` or date in format `YYYY-MM-DD`\");\n}\nfunction validateApiPerspective(perspective) {\n    if (Array.isArray(perspective)) {\n        for (const perspectiveValue of perspective)if (perspectiveValue !== \"published\" && perspectiveValue !== \"drafts\" && !(typeof perspectiveValue == \"string\" && perspectiveValue.startsWith(\"r\") && perspectiveValue !== \"raw\")) throw new TypeError(\"Invalid API perspective value, expected `published`, `drafts` or a valid release identifier string\");\n        return;\n    }\n    switch(perspective){\n        case \"previewDrafts\":\n        case \"drafts\":\n        case \"published\":\n        case \"raw\":\n            return;\n        default:\n            throw new TypeError(\"Invalid API perspective string, expected `published`, `previewDrafts` or `raw`\");\n    }\n}\nconst initConfig = (config, prevConfig)=>{\n    const specifiedConfig = {\n        ...prevConfig,\n        ...config,\n        stega: {\n            ...typeof prevConfig.stega == \"boolean\" ? {\n                enabled: prevConfig.stega\n            } : prevConfig.stega || defaultConfig.stega,\n            ...typeof config.stega == \"boolean\" ? {\n                enabled: config.stega\n            } : config.stega || {}\n        }\n    };\n    specifiedConfig.apiVersion || printNoApiVersionSpecifiedWarning();\n    const newConfig = {\n        ...defaultConfig,\n        ...specifiedConfig\n    }, projectBased = newConfig.useProjectHostname;\n    if (typeof Promise > \"u\") {\n        const helpUrl = generateHelpUrl(\"js-client-promise-polyfill\");\n        throw new Error(`No native Promise-implementation found, polyfill needed - see ${helpUrl}`);\n    }\n    if (projectBased && !newConfig.projectId) throw new Error(\"Configuration must contain `projectId`\");\n    if (typeof newConfig.perspective < \"u\" && validateApiPerspective(newConfig.perspective), \"encodeSourceMap\" in newConfig) throw new Error(\"It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?\");\n    if (\"encodeSourceMapAtPath\" in newConfig) throw new Error(\"It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?\");\n    if (typeof newConfig.stega.enabled != \"boolean\") throw new Error(`stega.enabled must be a boolean, received ${newConfig.stega.enabled}`);\n    if (newConfig.stega.enabled && newConfig.stega.studioUrl === void 0) throw new Error(\"stega.studioUrl must be defined when stega.enabled is true\");\n    if (newConfig.stega.enabled && typeof newConfig.stega.studioUrl != \"string\" && typeof newConfig.stega.studioUrl != \"function\") throw new Error(`stega.studioUrl must be a string or a function, received ${newConfig.stega.studioUrl}`);\n    const isBrowser =  false && 0, isLocalhost = isBrowser && isLocal(window.location.hostname);\n    isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== !0 ? printBrowserTokenWarning() : typeof newConfig.useCdn > \"u\" && printCdnWarning(), projectBased && projectId(newConfig.projectId), newConfig.dataset && dataset(newConfig.dataset), \"requestTagPrefix\" in newConfig && (newConfig.requestTagPrefix = newConfig.requestTagPrefix ? requestTag(newConfig.requestTagPrefix).replace(/\\.+$/, \"\") : void 0), newConfig.apiVersion = `${newConfig.apiVersion}`.replace(/^v/, \"\"), newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost, newConfig.useCdn === !0 && newConfig.withCredentials && printCdnAndWithCredentialsWarning(), newConfig.useCdn = newConfig.useCdn !== !1 && !newConfig.withCredentials, validateApiVersion(newConfig.apiVersion);\n    const hostParts = newConfig.apiHost.split(\"://\", 2), protocol = hostParts[0], host = hostParts[1], cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n    return newConfig.useProjectHostname ? (newConfig.url = `${protocol}://${newConfig.projectId}.${host}/v${newConfig.apiVersion}`, newConfig.cdnUrl = `${protocol}://${newConfig.projectId}.${cdnHost}/v${newConfig.apiVersion}`) : (newConfig.url = `${newConfig.apiHost}/v${newConfig.apiVersion}`, newConfig.cdnUrl = newConfig.url), newConfig;\n};\nfunction getSelection(sel) {\n    if (typeof sel == \"string\") return {\n        id: sel\n    };\n    if (Array.isArray(sel)) return {\n        query: \"*[_id in $ids]\",\n        params: {\n            ids: sel\n        }\n    };\n    if (typeof sel == \"object\" && sel !== null && \"query\" in sel && typeof sel.query == \"string\") return \"params\" in sel && typeof sel.params == \"object\" && sel.params !== null ? {\n        query: sel.query,\n        params: sel.params\n    } : {\n        query: sel.query\n    };\n    const selectionOpts = [\n        \"* Document ID (<docId>)\",\n        \"* Array of document IDs\",\n        \"* Object containing `query`\"\n    ].join(`\n`);\n    throw new Error(`Unknown selection - must be one of:\n\n${selectionOpts}`);\n}\nclass BasePatch {\n    constructor(selection, operations = {}){\n        this.selection = selection, this.operations = operations;\n    }\n    /**\n   * Sets the given attributes to the document. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */ set(attrs) {\n        return this._assign(\"set\", attrs);\n    }\n    /**\n   * Sets the given attributes to the document if they are not currently set. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */ setIfMissing(attrs) {\n        return this._assign(\"setIfMissing\", attrs);\n    }\n    /**\n   * Performs a \"diff-match-patch\" operation on the string attributes provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to perform operation on. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"dmp\"\\}\n   */ diffMatchPatch(attrs) {\n        return validateObject(\"diffMatchPatch\", attrs), this._assign(\"diffMatchPatch\", attrs);\n    }\n    /**\n   * Unsets the attribute paths provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attribute paths to unset.\n   */ unset(attrs) {\n        if (!Array.isArray(attrs)) throw new Error(\"unset(attrs) takes an array of attributes to unset, non-array given\");\n        return this.operations = Object.assign({}, this.operations, {\n            unset: attrs\n        }), this;\n    }\n    /**\n   * Increment a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to increment, values representing the number to increment by.\n   */ inc(attrs) {\n        return this._assign(\"inc\", attrs);\n    }\n    /**\n   * Decrement a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to decrement, values representing the number to decrement by.\n   */ dec(attrs) {\n        return this._assign(\"dec\", attrs);\n    }\n    /**\n   * Provides methods for modifying arrays, by inserting, appending and replacing elements via a JSONPath expression.\n   *\n   * @param at - Location to insert at, relative to the given selector, or 'replace' the matched path\n   * @param selector - JSONPath expression, eg `comments[-1]` or `blocks[_key==\"abc123\"]`\n   * @param items - Array of items to insert/replace\n   */ insert(at, selector, items) {\n        return validateInsert(at, selector, items), this._assign(\"insert\", {\n            [at]: selector,\n            items\n        });\n    }\n    /**\n   * Append the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to append to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to append to the array\n   */ append(selector, items) {\n        return this.insert(\"after\", `${selector}[-1]`, items);\n    }\n    /**\n   * Prepend the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to prepend to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to prepend to the array\n   */ prepend(selector, items) {\n        return this.insert(\"before\", `${selector}[0]`, items);\n    }\n    /**\n   * Change the contents of an array by removing existing elements and/or adding new elements.\n   *\n   * @param selector - Attribute or JSONPath expression for array\n   * @param start - Index at which to start changing the array (with origin 0). If greater than the length of the array, actual starting index will be set to the length of the array. If negative, will begin that many elements from the end of the array (with origin -1) and will be set to 0 if absolute value is greater than the length of the array.x\n   * @param deleteCount - An integer indicating the number of old array elements to remove.\n   * @param items - The elements to add to the array, beginning at the start index. If you don't specify any elements, splice() will only remove elements from the array.\n   */ splice(selector, start, deleteCount, items) {\n        const delAll = typeof deleteCount > \"u\" || deleteCount === -1, startIndex = start < 0 ? start - 1 : start, delCount = delAll ? -1 : Math.max(0, start + deleteCount), delRange = startIndex < 0 && delCount >= 0 ? \"\" : delCount, rangeSelector = `${selector}[${startIndex}:${delRange}]`;\n        return this.insert(\"replace\", rangeSelector, items || []);\n    }\n    /**\n   * Adds a revision clause, preventing the document from being patched if the `_rev` property does not match the given value\n   *\n   * @param rev - Revision to lock the patch to\n   */ ifRevisionId(rev) {\n        return this.operations.ifRevisionID = rev, this;\n    }\n    /**\n   * Return a plain JSON representation of the patch\n   */ serialize() {\n        return {\n            ...getSelection(this.selection),\n            ...this.operations\n        };\n    }\n    /**\n   * Return a plain JSON representation of the patch\n   */ toJSON() {\n        return this.serialize();\n    }\n    /**\n   * Clears the patch of all operations\n   */ reset() {\n        return this.operations = {}, this;\n    }\n    _assign(op, props, merge = !0) {\n        return validateObject(op, props), this.operations = Object.assign({}, this.operations, {\n            [op]: Object.assign({}, merge && this.operations[op] || {}, props)\n        }), this;\n    }\n    _set(op, props) {\n        return this._assign(op, props, !1);\n    }\n}\nclass ObservablePatch extends BasePatch {\n    #client;\n    constructor(selection, operations, client){\n        super(selection, operations), this.#client = client;\n    }\n    /**\n   * Clones the patch\n   */ clone() {\n        return new ObservablePatch(this.selection, {\n            ...this.operations\n        }, this.#client);\n    }\n    commit(options) {\n        if (!this.#client) throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n        const returnFirst = typeof this.selection == \"string\", opts = Object.assign({\n            returnFirst,\n            returnDocuments: !0\n        }, options);\n        return this.#client.mutate({\n            patch: this.serialize()\n        }, opts);\n    }\n}\nclass Patch extends BasePatch {\n    #client;\n    constructor(selection, operations, client){\n        super(selection, operations), this.#client = client;\n    }\n    /**\n   * Clones the patch\n   */ clone() {\n        return new Patch(this.selection, {\n            ...this.operations\n        }, this.#client);\n    }\n    commit(options) {\n        if (!this.#client) throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n        const returnFirst = typeof this.selection == \"string\", opts = Object.assign({\n            returnFirst,\n            returnDocuments: !0\n        }, options);\n        return this.#client.mutate({\n            patch: this.serialize()\n        }, opts);\n    }\n}\nconst defaultMutateOptions = {\n    returnDocuments: !1\n};\nclass BaseTransaction {\n    constructor(operations = [], transactionId){\n        this.operations = operations, this.trxId = transactionId;\n    }\n    /**\n   * Creates a new Sanity document. If `_id` is provided and already exists, the mutation will fail. If no `_id` is given, one will automatically be generated by the database.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create. Requires a `_type` property.\n   */ create(doc) {\n        return validateObject(\"create\", doc), this._add({\n            create: doc\n        });\n    }\n    /**\n   * Creates a new Sanity document. If a document with the same `_id` already exists, the create operation will be ignored.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create if it does not already exist. Requires `_id` and `_type` properties.\n   */ createIfNotExists(doc) {\n        const op = \"createIfNotExists\";\n        return validateObject(op, doc), requireDocumentId(op, doc), this._add({\n            [op]: doc\n        });\n    }\n    /**\n   * Creates a new Sanity document, or replaces an existing one if the same `_id` is already used.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create or replace. Requires `_id` and `_type` properties.\n   */ createOrReplace(doc) {\n        const op = \"createOrReplace\";\n        return validateObject(op, doc), requireDocumentId(op, doc), this._add({\n            [op]: doc\n        });\n    }\n    /**\n   * Deletes the document with the given document ID\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param documentId - Document ID to delete\n   */ delete(documentId) {\n        return validateDocumentId(\"delete\", documentId), this._add({\n            delete: {\n                id: documentId\n            }\n        });\n    }\n    transactionId(id) {\n        return id ? (this.trxId = id, this) : this.trxId;\n    }\n    /**\n   * Return a plain JSON representation of the transaction\n   */ serialize() {\n        return [\n            ...this.operations\n        ];\n    }\n    /**\n   * Return a plain JSON representation of the transaction\n   */ toJSON() {\n        return this.serialize();\n    }\n    /**\n   * Clears the transaction of all operations\n   */ reset() {\n        return this.operations = [], this;\n    }\n    _add(mut) {\n        return this.operations.push(mut), this;\n    }\n}\nclass Transaction extends BaseTransaction {\n    #client;\n    constructor(operations, client, transactionId){\n        super(operations, transactionId), this.#client = client;\n    }\n    /**\n   * Clones the transaction\n   */ clone() {\n        return new Transaction([\n            ...this.operations\n        ], this.#client, this.trxId);\n    }\n    commit(options) {\n        if (!this.#client) throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n        return this.#client.mutate(this.serialize(), Object.assign({\n            transactionId: this.trxId\n        }, defaultMutateOptions, options || {}));\n    }\n    patch(patchOrDocumentId, patchOps) {\n        const isBuilder = typeof patchOps == \"function\";\n        if (typeof patchOrDocumentId != \"string\" && patchOrDocumentId instanceof Patch) return this._add({\n            patch: patchOrDocumentId.serialize()\n        });\n        if (isBuilder) {\n            const patch = patchOps(new Patch(patchOrDocumentId, {}, this.#client));\n            if (!(patch instanceof Patch)) throw new Error(\"function passed to `patch()` must return the patch\");\n            return this._add({\n                patch: patch.serialize()\n            });\n        }\n        return this._add({\n            patch: {\n                id: patchOrDocumentId,\n                ...patchOps\n            }\n        });\n    }\n}\nclass ObservableTransaction extends BaseTransaction {\n    #client;\n    constructor(operations, client, transactionId){\n        super(operations, transactionId), this.#client = client;\n    }\n    /**\n   * Clones the transaction\n   */ clone() {\n        return new ObservableTransaction([\n            ...this.operations\n        ], this.#client, this.trxId);\n    }\n    commit(options) {\n        if (!this.#client) throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n        return this.#client.mutate(this.serialize(), Object.assign({\n            transactionId: this.trxId\n        }, defaultMutateOptions, options || {}));\n    }\n    patch(patchOrDocumentId, patchOps) {\n        const isBuilder = typeof patchOps == \"function\";\n        if (typeof patchOrDocumentId != \"string\" && patchOrDocumentId instanceof ObservablePatch) return this._add({\n            patch: patchOrDocumentId.serialize()\n        });\n        if (isBuilder) {\n            const patch = patchOps(new ObservablePatch(patchOrDocumentId, {}, this.#client));\n            if (!(patch instanceof ObservablePatch)) throw new Error(\"function passed to `patch()` must return the patch\");\n            return this._add({\n                patch: patch.serialize()\n            });\n        }\n        return this._add({\n            patch: {\n                id: patchOrDocumentId,\n                ...patchOps\n            }\n        });\n    }\n}\nconst projectHeader = \"X-Sanity-Project-ID\";\nfunction requestOptions(config, overrides = {}) {\n    const headers = {}, token = overrides.token || config.token;\n    token && (headers.Authorization = `Bearer ${token}`), !overrides.useGlobalApi && !config.useProjectHostname && config.projectId && (headers[projectHeader] = config.projectId);\n    const withCredentials = !!(typeof overrides.withCredentials > \"u\" ? config.token || config.withCredentials : overrides.withCredentials), timeout = typeof overrides.timeout > \"u\" ? config.timeout : overrides.timeout;\n    return Object.assign({}, overrides, {\n        headers: Object.assign({}, headers, overrides.headers || {}),\n        timeout: typeof timeout > \"u\" ? 5 * 60 * 1e3 : timeout,\n        proxy: overrides.proxy || config.proxy,\n        json: !0,\n        withCredentials,\n        fetch: typeof overrides.fetch == \"object\" && typeof config.fetch == \"object\" ? {\n            ...config.fetch,\n            ...overrides.fetch\n        } : overrides.fetch || config.fetch\n    });\n}\nconst encodeQueryString = ({ query, params = {}, options = {} })=>{\n    const searchParams = new URLSearchParams(), { tag, includeMutations, returnQuery, ...opts } = options;\n    tag && searchParams.append(\"tag\", tag), searchParams.append(\"query\", query);\n    for (const [key, value] of Object.entries(params))searchParams.append(`$${key}`, JSON.stringify(value));\n    for (const [key, value] of Object.entries(opts))value && searchParams.append(key, `${value}`);\n    return returnQuery === !1 && searchParams.append(\"returnQuery\", \"false\"), includeMutations === !1 && searchParams.append(\"includeMutations\", \"false\"), `?${searchParams}`;\n}, excludeFalsey = (param, defValue)=>param === !1 ? void 0 : typeof param > \"u\" ? defValue : param, getMutationQuery = (options = {})=>({\n        dryRun: options.dryRun,\n        returnIds: !0,\n        returnDocuments: excludeFalsey(options.returnDocuments, !0),\n        visibility: options.visibility || \"sync\",\n        autoGenerateArrayKeys: options.autoGenerateArrayKeys,\n        skipCrossDatasetReferenceValidation: options.skipCrossDatasetReferenceValidation\n    }), isResponse = (event)=>event.type === \"response\", getBody = (event)=>event.body, indexBy = (docs, attr)=>docs.reduce((indexed, doc)=>(indexed[attr(doc)] = doc, indexed), /* @__PURE__ */ Object.create(null)), getQuerySizeLimit = 11264;\nfunction _fetch(client, httpRequest, _stega, query, _params = {}, options = {}) {\n    const stega = \"stega\" in options ? {\n        ..._stega || {},\n        ...typeof options.stega == \"boolean\" ? {\n            enabled: options.stega\n        } : options.stega || {}\n    } : _stega, params = stega.enabled ? (0,_chunks_es_stegaClean_js__WEBPACK_IMPORTED_MODULE_3__.stegaClean)(_params) : _params, mapResponse = options.filterResponse === !1 ? (res)=>res : (res)=>res.result, { cache, next, ...opts } = {\n        // Opt out of setting a `signal` on an internal `fetch` if one isn't provided.\n        // This is necessary in React Server Components to avoid opting out of Request Memoization.\n        useAbortSignal: typeof options.signal < \"u\",\n        // Set `resultSourceMap' when stega is enabled, as it's required for encoding.\n        resultSourceMap: stega.enabled ? \"withKeyArraySelector\" : options.resultSourceMap,\n        ...options,\n        // Default to not returning the query, unless `filterResponse` is `false`,\n        // or `returnQuery` is explicitly set. `true` is the default in Content Lake, so skip if truthy\n        returnQuery: options.filterResponse === !1 && options.returnQuery !== !1\n    }, reqOpts = typeof cache < \"u\" || typeof next < \"u\" ? {\n        ...opts,\n        fetch: {\n            cache,\n            next\n        }\n    } : opts, $request = _dataRequest(client, httpRequest, \"query\", {\n        query,\n        params\n    }, reqOpts);\n    return stega.enabled ? $request.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.combineLatestWith)((0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_5__.from)(__webpack_require__.e(/*! import() */ \"vendor-chunks/@sanity\").then(__webpack_require__.bind(__webpack_require__, /*! ./_chunks-es/stegaEncodeSourceMap.js */ \"(rsc)/./node_modules/@sanity/client/dist/_chunks-es/stegaEncodeSourceMap.js\")).then(function(n) {\n        return n.stegaEncodeSourceMap$1;\n    }).then(({ stegaEncodeSourceMap })=>stegaEncodeSourceMap))), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(([res, stegaEncodeSourceMap])=>{\n        const result = stegaEncodeSourceMap(res.result, res.resultSourceMap, stega);\n        return mapResponse({\n            ...res,\n            result\n        });\n    })) : $request.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(mapResponse));\n}\nfunction _getDocument(client, httpRequest, id, opts = {}) {\n    const options = {\n        uri: _getDataUrl(client, \"doc\", id),\n        json: !0,\n        tag: opts.tag,\n        signal: opts.signal\n    };\n    return _requestObservable(client, httpRequest, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.filter)(isResponse), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)((event)=>event.body.documents && event.body.documents[0]));\n}\nfunction _getDocuments(client, httpRequest, ids, opts = {}) {\n    const options = {\n        uri: _getDataUrl(client, \"doc\", ids.join(\",\")),\n        json: !0,\n        tag: opts.tag,\n        signal: opts.signal\n    };\n    return _requestObservable(client, httpRequest, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.filter)(isResponse), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)((event)=>{\n        const indexed = indexBy(event.body.documents || [], (doc)=>doc._id);\n        return ids.map((id)=>indexed[id] || null);\n    }));\n}\nfunction _createIfNotExists(client, httpRequest, doc, options) {\n    return requireDocumentId(\"createIfNotExists\", doc), _create(client, httpRequest, doc, \"createIfNotExists\", options);\n}\nfunction _createOrReplace(client, httpRequest, doc, options) {\n    return requireDocumentId(\"createOrReplace\", doc), _create(client, httpRequest, doc, \"createOrReplace\", options);\n}\nfunction _delete(client, httpRequest, selection, options) {\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: [\n            {\n                delete: getSelection(selection)\n            }\n        ]\n    }, options);\n}\nfunction _mutate(client, httpRequest, mutations, options) {\n    let mut;\n    mutations instanceof Patch || mutations instanceof ObservablePatch ? mut = {\n        patch: mutations.serialize()\n    } : mutations instanceof Transaction || mutations instanceof ObservableTransaction ? mut = mutations.serialize() : mut = mutations;\n    const muts = Array.isArray(mut) ? mut : [\n        mut\n    ], transactionId = options && options.transactionId || void 0;\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: muts,\n        transactionId\n    }, options);\n}\nfunction _action(client, httpRequest, actions, options) {\n    const acts = Array.isArray(actions) ? actions : [\n        actions\n    ], transactionId = options && options.transactionId || void 0, skipCrossDatasetReferenceValidation = options && options.skipCrossDatasetReferenceValidation || void 0, dryRun = options && options.dryRun || void 0;\n    return _dataRequest(client, httpRequest, \"actions\", {\n        actions: acts,\n        transactionId,\n        skipCrossDatasetReferenceValidation,\n        dryRun\n    }, options);\n}\nfunction _dataRequest(client, httpRequest, endpoint, body, options = {}) {\n    const isMutation = endpoint === \"mutate\", isAction = endpoint === \"actions\", isQuery = endpoint === \"query\", strQuery = isMutation || isAction ? \"\" : encodeQueryString(body), useGet = !isMutation && !isAction && strQuery.length < getQuerySizeLimit, stringQuery = useGet ? strQuery : \"\", returnFirst = options.returnFirst, { timeout, token, tag, headers, returnQuery, lastLiveEventId, cacheMode } = options, uri = _getDataUrl(client, endpoint, stringQuery), reqOptions = {\n        method: useGet ? \"GET\" : \"POST\",\n        uri,\n        json: !0,\n        body: useGet ? void 0 : body,\n        query: isMutation && getMutationQuery(options),\n        timeout,\n        headers,\n        token,\n        tag,\n        returnQuery,\n        perspective: options.perspective,\n        resultSourceMap: options.resultSourceMap,\n        lastLiveEventId: Array.isArray(lastLiveEventId) ? lastLiveEventId[0] : lastLiveEventId,\n        cacheMode,\n        canUseCdn: isQuery,\n        signal: options.signal,\n        fetch: options.fetch,\n        useAbortSignal: options.useAbortSignal,\n        useCdn: options.useCdn\n    };\n    return _requestObservable(client, httpRequest, reqOptions).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.filter)(isResponse), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(getBody), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)((res)=>{\n        if (!isMutation) return res;\n        const results = res.results || [];\n        if (options.returnDocuments) return returnFirst ? results[0] && results[0].document : results.map((mut)=>mut.document);\n        const key = returnFirst ? \"documentId\" : \"documentIds\", ids = returnFirst ? results[0] && results[0].id : results.map((mut)=>mut.id);\n        return {\n            transactionId: res.transactionId,\n            results,\n            [key]: ids\n        };\n    }));\n}\nfunction _create(client, httpRequest, doc, op, options = {}) {\n    const mutation = {\n        [op]: doc\n    }, opts = Object.assign({\n        returnFirst: !0,\n        returnDocuments: !0\n    }, options);\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: [\n            mutation\n        ]\n    }, opts);\n}\nfunction _requestObservable(client, httpRequest, options) {\n    const uri = options.url || options.uri, config = client.config(), canUseCdn = typeof options.canUseCdn > \"u\" ? [\n        \"GET\",\n        \"HEAD\"\n    ].indexOf(options.method || \"GET\") >= 0 && uri.indexOf(\"/data/\") === 0 : options.canUseCdn;\n    let useCdn = (options.useCdn ?? config.useCdn) && canUseCdn;\n    const tag = options.tag && config.requestTagPrefix ? [\n        config.requestTagPrefix,\n        options.tag\n    ].join(\".\") : options.tag || config.requestTagPrefix;\n    if (tag && options.tag !== null && (options.query = {\n        tag: requestTag(tag),\n        ...options.query\n    }), [\n        \"GET\",\n        \"HEAD\",\n        \"POST\"\n    ].indexOf(options.method || \"GET\") >= 0 && uri.indexOf(\"/data/query/\") === 0) {\n        const resultSourceMap = options.resultSourceMap ?? config.resultSourceMap;\n        resultSourceMap !== void 0 && resultSourceMap !== !1 && (options.query = {\n            resultSourceMap,\n            ...options.query\n        });\n        const perspectiveOption = options.perspective || config.perspective;\n        typeof perspectiveOption < \"u\" && (validateApiPerspective(perspectiveOption), options.query = {\n            perspective: Array.isArray(perspectiveOption) ? perspectiveOption.join(\",\") : perspectiveOption,\n            ...options.query\n        }, perspectiveOption === \"previewDrafts\" && useCdn && (useCdn = !1, printCdnPreviewDraftsWarning())), options.lastLiveEventId && (options.query = {\n            ...options.query,\n            lastLiveEventId: options.lastLiveEventId\n        }), options.returnQuery === !1 && (options.query = {\n            returnQuery: \"false\",\n            ...options.query\n        }), useCdn && options.cacheMode == \"noStale\" && (options.query = {\n            cacheMode: \"noStale\",\n            ...options.query\n        });\n    }\n    const reqOptions = requestOptions(config, Object.assign({}, options, {\n        url: _getUrl(client, uri, useCdn)\n    })), request = new _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((subscriber)=>httpRequest(reqOptions, config.requester).subscribe(subscriber));\n    return options.signal ? request.pipe(_withAbortSignal(options.signal)) : request;\n}\nfunction _request(client, httpRequest, options) {\n    return _requestObservable(client, httpRequest, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.filter)((event)=>event.type === \"response\"), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)((event)=>event.body));\n}\nfunction _getDataUrl(client, operation, path) {\n    const config = client.config(), catalog = hasDataset(config), baseUri = `/${operation}/${catalog}`;\n    return `/data${path ? `${baseUri}/${path}` : baseUri}`.replace(/\\/($|\\?)/, \"$1\");\n}\nfunction _getUrl(client, uri, canUseCdn = !1) {\n    const { url, cdnUrl } = client.config();\n    return `${canUseCdn ? cdnUrl : url}/${uri.replace(/^\\//, \"\")}`;\n}\nfunction _withAbortSignal(signal) {\n    return (input)=>new _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>{\n            const abort = ()=>observer.error(_createAbortError(signal));\n            if (signal && signal.aborted) {\n                abort();\n                return;\n            }\n            const subscription = input.subscribe(observer);\n            return signal.addEventListener(\"abort\", abort), ()=>{\n                signal.removeEventListener(\"abort\", abort), subscription.unsubscribe();\n            };\n        });\n}\nconst isDomExceptionSupported = !!globalThis.DOMException;\nfunction _createAbortError(signal) {\n    if (isDomExceptionSupported) return new DOMException(signal?.reason ?? \"The operation was aborted.\", \"AbortError\");\n    const error = new Error(signal?.reason ?? \"The operation was aborted.\");\n    return error.name = \"AbortError\", error;\n}\nclass ObservableAssetsClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    upload(assetType, body, options) {\n        return _upload(this.#client, this.#httpRequest, assetType, body, options);\n    }\n}\nclass AssetsClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    upload(assetType, body, options) {\n        const observable2 = _upload(this.#client, this.#httpRequest, assetType, body, options);\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(observable2.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.filter)((event)=>event.type === \"response\"), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)((event)=>event.body.document)));\n    }\n}\nfunction _upload(client, httpRequest, assetType, body, opts = {}) {\n    validateAssetType(assetType);\n    let meta = opts.extract || void 0;\n    meta && !meta.length && (meta = [\n        \"none\"\n    ]);\n    const dataset2 = hasDataset(client.config()), assetEndpoint = assetType === \"image\" ? \"images\" : \"files\", options = optionsFromFile(opts, body), { tag, label, title, description, creditLine, filename, source } = options, query = {\n        label,\n        title,\n        description,\n        filename,\n        meta,\n        creditLine\n    };\n    return source && (query.sourceId = source.id, query.sourceName = source.name, query.sourceUrl = source.url), _requestObservable(client, httpRequest, {\n        tag,\n        method: \"POST\",\n        timeout: options.timeout || 0,\n        uri: `/assets/${assetEndpoint}/${dataset2}`,\n        headers: options.contentType ? {\n            \"Content-Type\": options.contentType\n        } : {},\n        query,\n        body\n    });\n}\nfunction optionsFromFile(opts, file) {\n    return typeof File > \"u\" || !(file instanceof File) ? opts : Object.assign({\n        filename: opts.preserveFilename === !1 ? void 0 : file.name,\n        contentType: file.type\n    }, opts);\n}\nvar defaults = (obj, defaults2)=>Object.keys(defaults2).concat(Object.keys(obj)).reduce((target, prop)=>(target[prop] = typeof obj[prop] > \"u\" ? defaults2[prop] : obj[prop], target), {});\nconst pick = (obj, props)=>props.reduce((selection, prop)=>(typeof obj[prop] > \"u\" || (selection[prop] = obj[prop]), selection), {}), MAX_URL_LENGTH = 14800, possibleOptions = [\n    \"includePreviousRevision\",\n    \"includeResult\",\n    \"includeMutations\",\n    \"visibility\",\n    \"effectFormat\",\n    \"tag\"\n], defaultOptions = {\n    includeResult: !0\n};\nfunction _listen(query, params, opts = {}) {\n    const { url, token, withCredentials, requestTagPrefix } = this.config(), tag = opts.tag && requestTagPrefix ? [\n        requestTagPrefix,\n        opts.tag\n    ].join(\".\") : opts.tag, options = {\n        ...defaults(opts, defaultOptions),\n        tag\n    }, listenOpts = pick(options, possibleOptions), qs = encodeQueryString({\n        query,\n        params,\n        options: {\n            tag,\n            ...listenOpts\n        }\n    }), uri = `${url}${_getDataUrl(this, \"listen\", qs)}`;\n    if (uri.length > MAX_URL_LENGTH) return new _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>observer.error(new Error(\"Query too large for listener\")));\n    const listenFor = options.events ? options.events : [\n        \"mutation\"\n    ], shouldEmitReconnect = listenFor.indexOf(\"reconnect\") !== -1, esOptions = {};\n    return (token || withCredentials) && (esOptions.withCredentials = !0), token && (esOptions.headers = {\n        Authorization: `Bearer ${token}`\n    }), new _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>{\n        let es, reconnectTimer, stopped = !1, unsubscribed = !1;\n        open();\n        function onError() {\n            stopped || (emitReconnect(), !stopped && es.readyState === es.CLOSED && (unsubscribe(), clearTimeout(reconnectTimer), reconnectTimer = setTimeout(open, 100)));\n        }\n        function onChannelError(err) {\n            observer.error(cooerceError(err));\n        }\n        function onMessage(evt) {\n            const event = parseEvent$1(evt);\n            return event instanceof Error ? observer.error(event) : observer.next(event);\n        }\n        function onDisconnect() {\n            stopped = !0, unsubscribe(), observer.complete();\n        }\n        function unsubscribe() {\n            es && (es.removeEventListener(\"error\", onError), es.removeEventListener(\"channelError\", onChannelError), es.removeEventListener(\"disconnect\", onDisconnect), listenFor.forEach((type)=>es.removeEventListener(type, onMessage)), es.close());\n        }\n        function emitReconnect() {\n            shouldEmitReconnect && observer.next({\n                type: \"reconnect\"\n            });\n        }\n        async function getEventSource() {\n            const { default: EventSource2 } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@sanity\"), __webpack_require__.e(\"vendor-chunks/eventsource\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @sanity/eventsource */ \"(rsc)/./node_modules/@sanity/eventsource/node.js\", 19));\n            if (unsubscribed) return;\n            const evs = new EventSource2(uri, esOptions);\n            return evs.addEventListener(\"error\", onError), evs.addEventListener(\"channelError\", onChannelError), evs.addEventListener(\"disconnect\", onDisconnect), listenFor.forEach((type)=>evs.addEventListener(type, onMessage)), evs;\n        }\n        function open() {\n            getEventSource().then((eventSource)=>{\n                eventSource && (es = eventSource, unsubscribed && unsubscribe());\n            }).catch((reason)=>{\n                observer.error(reason), stop();\n            });\n        }\n        function stop() {\n            stopped = !0, unsubscribe(), unsubscribed = !0;\n        }\n        return stop;\n    });\n}\nfunction parseEvent$1(event) {\n    try {\n        const data = event.data && JSON.parse(event.data) || {};\n        return Object.assign({\n            type: event.type\n        }, data);\n    } catch (err) {\n        return err;\n    }\n}\nfunction cooerceError(err) {\n    if (err instanceof Error) return err;\n    const evt = parseEvent$1(err);\n    return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\nfunction extractErrorMessage(err) {\n    return err.error ? err.error.description ? err.error.description : typeof err.error == \"string\" ? err.error : JSON.stringify(err.error, null, 2) : err.message || \"Unknown listener error\";\n}\nconst requiredApiVersion = \"2021-03-26\";\nclass LiveClient {\n    #client;\n    constructor(client){\n        this.#client = client;\n    }\n    /**\n   * Requires `apiVersion` to be `2021-03-26` or later.\n   */ events({ includeDrafts = !1, tag: _tag } = {}) {\n        const { projectId: projectId2, apiVersion: _apiVersion, token, withCredentials, requestTagPrefix } = this.#client.config(), apiVersion = _apiVersion.replace(/^v/, \"\");\n        if (apiVersion !== \"X\" && apiVersion < requiredApiVersion) throw new Error(`The live events API requires API version ${requiredApiVersion} or later. The current API version is ${apiVersion}. Please update your API version to use this feature.`);\n        if (includeDrafts && !token && !withCredentials) throw new Error(\"The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.\");\n        if (includeDrafts && apiVersion !== \"X\") throw new Error(\"The live events API requires API version X when 'includeDrafts: true'. This API is experimental and may change or even be removed.\");\n        const path = _getDataUrl(this.#client, \"live/events\"), url = new URL(this.#client.getUrl(path, !1)), tag = _tag && requestTagPrefix ? [\n            requestTagPrefix,\n            _tag\n        ].join(\".\") : _tag;\n        tag && url.searchParams.set(\"tag\", tag), includeDrafts && url.searchParams.set(\"includeDrafts\", \"true\");\n        const listenFor = [\n            \"restart\",\n            \"message\",\n            \"welcome\",\n            \"reconnect\"\n        ], esOptions = {};\n        return includeDrafts && token && (esOptions.headers = {\n            Authorization: `Bearer ${token}`\n        }), includeDrafts && withCredentials && (esOptions.withCredentials = !0), new _barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>{\n            let es, reconnectTimer, stopped = !1, unsubscribed = !1;\n            open();\n            function onError(evt) {\n                if (!stopped) {\n                    if (\"data\" in evt) {\n                        const event = parseEvent(evt);\n                        observer.error(new Error(event.message, {\n                            cause: event\n                        }));\n                    }\n                    es.readyState === es.CLOSED && (unsubscribe(), clearTimeout(reconnectTimer), reconnectTimer = setTimeout(open, 100));\n                }\n            }\n            function onMessage(evt) {\n                const event = parseEvent(evt);\n                return event instanceof Error ? observer.error(event) : observer.next(event);\n            }\n            function unsubscribe() {\n                if (es) {\n                    es.removeEventListener(\"error\", onError);\n                    for (const type of listenFor)es.removeEventListener(type, onMessage);\n                    es.close();\n                }\n            }\n            async function getEventSource() {\n                const EventSourceImplementation = typeof EventSource > \"u\" || esOptions.headers || esOptions.withCredentials ? (await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@sanity\"), __webpack_require__.e(\"vendor-chunks/eventsource\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @sanity/eventsource */ \"(rsc)/./node_modules/@sanity/eventsource/node.js\", 19))).default : EventSource;\n                if (unsubscribed) return;\n                try {\n                    if (await fetch(url, {\n                        method: \"OPTIONS\",\n                        mode: \"cors\",\n                        credentials: esOptions.withCredentials ? \"include\" : \"omit\",\n                        headers: esOptions.headers\n                    }), unsubscribed) return;\n                } catch  {\n                    throw new CorsOriginError({\n                        projectId: projectId2\n                    });\n                }\n                const evs = new EventSourceImplementation(url.toString(), esOptions);\n                evs.addEventListener(\"error\", onError);\n                for (const type of listenFor)evs.addEventListener(type, onMessage);\n                return evs;\n            }\n            function open() {\n                getEventSource().then((eventSource)=>{\n                    eventSource && (es = eventSource, unsubscribed && unsubscribe());\n                }).catch((reason)=>{\n                    observer.error(reason), stop();\n                });\n            }\n            function stop() {\n                stopped = !0, unsubscribe(), unsubscribed = !0;\n            }\n            return stop;\n        });\n    }\n}\nfunction parseEvent(event) {\n    try {\n        const data = event.data && JSON.parse(event.data) || {};\n        return {\n            type: event.type,\n            id: event.lastEventId,\n            ...data\n        };\n    } catch (err) {\n        return err;\n    }\n}\nclass ObservableDatasetsClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */ create(name, options) {\n        return _modify(this.#client, this.#httpRequest, \"PUT\", name, options);\n    }\n    /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */ edit(name, options) {\n        return _modify(this.#client, this.#httpRequest, \"PATCH\", name, options);\n    }\n    /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */ delete(name) {\n        return _modify(this.#client, this.#httpRequest, \"DELETE\", name);\n    }\n    /**\n   * Fetch a list of datasets for the configured project\n   */ list() {\n        return _request(this.#client, this.#httpRequest, {\n            uri: \"/datasets\",\n            tag: null\n        });\n    }\n}\nclass DatasetsClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */ create(name, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_modify(this.#client, this.#httpRequest, \"PUT\", name, options));\n    }\n    /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */ edit(name, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_modify(this.#client, this.#httpRequest, \"PATCH\", name, options));\n    }\n    /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */ delete(name) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_modify(this.#client, this.#httpRequest, \"DELETE\", name));\n    }\n    /**\n   * Fetch a list of datasets for the configured project\n   */ list() {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_request(this.#client, this.#httpRequest, {\n            uri: \"/datasets\",\n            tag: null\n        }));\n    }\n}\nfunction _modify(client, httpRequest, method, name, options) {\n    return dataset(name), _request(client, httpRequest, {\n        method,\n        uri: `/datasets/${name}`,\n        body: options,\n        tag: null\n    });\n}\nclass ObservableProjectsClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    list(options) {\n        const uri = options?.includeMembers === !1 ? \"/projects?includeMembers=false\" : \"/projects\";\n        return _request(this.#client, this.#httpRequest, {\n            uri\n        });\n    }\n    /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */ getById(projectId2) {\n        return _request(this.#client, this.#httpRequest, {\n            uri: `/projects/${projectId2}`\n        });\n    }\n}\nclass ProjectsClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    list(options) {\n        const uri = options?.includeMembers === !1 ? \"/projects?includeMembers=false\" : \"/projects\";\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_request(this.#client, this.#httpRequest, {\n            uri\n        }));\n    }\n    /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */ getById(projectId2) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_request(this.#client, this.#httpRequest, {\n            uri: `/projects/${projectId2}`\n        }));\n    }\n}\nclass ObservableUsersClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */ getById(id) {\n        return _request(this.#client, this.#httpRequest, {\n            uri: `/users/${id}`\n        });\n    }\n}\nclass UsersClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */ getById(id) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_request(this.#client, this.#httpRequest, {\n            uri: `/users/${id}`\n        }));\n    }\n}\nclass ObservableSanityClient {\n    /**\n   * Private properties\n   */ #clientConfig;\n    #httpRequest;\n    constructor(httpRequest, config = defaultConfig){\n        /**\n   * Instance properties\n   */ this.listen = _listen;\n        this.config(config), this.#httpRequest = httpRequest, this.assets = new ObservableAssetsClient(this, this.#httpRequest), this.datasets = new ObservableDatasetsClient(this, this.#httpRequest), this.live = new LiveClient(this), this.projects = new ObservableProjectsClient(this, this.#httpRequest), this.users = new ObservableUsersClient(this, this.#httpRequest);\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new ObservableSanityClient(this.#httpRequest, this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) return {\n            ...this.#clientConfig\n        };\n        if (this.#clientConfig && this.#clientConfig.allowReconfigure === !1) throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n        return this.#clientConfig = initConfig(newConfig, this.#clientConfig || {}), this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        const thisConfig = this.config();\n        return new ObservableSanityClient(this.#httpRequest, {\n            ...thisConfig,\n            ...newConfig,\n            stega: {\n                ...thisConfig.stega || {},\n                ...typeof newConfig?.stega == \"boolean\" ? {\n                    enabled: newConfig.stega\n                } : newConfig?.stega || {}\n            }\n        });\n    }\n    fetch(query, params, options) {\n        return _fetch(this, this.#httpRequest, this.#clientConfig.stega, query, params, options);\n    }\n    /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */ getDocument(id, options) {\n        return _getDocument(this, this.#httpRequest, id, options);\n    }\n    /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */ getDocuments(ids, options) {\n        return _getDocuments(this, this.#httpRequest, ids, options);\n    }\n    create(document, options) {\n        return _create(this, this.#httpRequest, document, \"create\", options);\n    }\n    createIfNotExists(document, options) {\n        return _createIfNotExists(this, this.#httpRequest, document, options);\n    }\n    createOrReplace(document, options) {\n        return _createOrReplace(this, this.#httpRequest, document, options);\n    }\n    delete(selection, options) {\n        return _delete(this, this.#httpRequest, selection, options);\n    }\n    mutate(operations, options) {\n        return _mutate(this, this.#httpRequest, operations, options);\n    }\n    /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */ patch(selection, operations) {\n        return new ObservablePatch(selection, operations, this);\n    }\n    /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */ transaction(operations) {\n        return new ObservableTransaction(operations, this);\n    }\n    /**\n   * Perform action operations against the configured dataset\n   *\n   * @param operations - Action operation(s) to execute\n   * @param options - Action options\n   */ action(operations, options) {\n        return _action(this, this.#httpRequest, operations, options);\n    }\n    /**\n   * Perform an HTTP request against the Sanity API\n   *\n   * @param options - Request options\n   */ request(options) {\n        return _request(this, this.#httpRequest, options);\n    }\n    /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */ getUrl(uri, canUseCdn) {\n        return _getUrl(this, uri, canUseCdn);\n    }\n    /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */ getDataUrl(operation, path) {\n        return _getDataUrl(this, operation, path);\n    }\n}\nclass SanityClient {\n    /**\n   * Private properties\n   */ #clientConfig;\n    #httpRequest;\n    constructor(httpRequest, config = defaultConfig){\n        /**\n   * Instance properties\n   */ this.listen = _listen;\n        this.config(config), this.#httpRequest = httpRequest, this.assets = new AssetsClient(this, this.#httpRequest), this.datasets = new DatasetsClient(this, this.#httpRequest), this.live = new LiveClient(this), this.projects = new ProjectsClient(this, this.#httpRequest), this.users = new UsersClient(this, this.#httpRequest), this.observable = new ObservableSanityClient(httpRequest, config);\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new SanityClient(this.#httpRequest, this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) return {\n            ...this.#clientConfig\n        };\n        if (this.#clientConfig && this.#clientConfig.allowReconfigure === !1) throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n        return this.observable && this.observable.config(newConfig), this.#clientConfig = initConfig(newConfig, this.#clientConfig || {}), this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        const thisConfig = this.config();\n        return new SanityClient(this.#httpRequest, {\n            ...thisConfig,\n            ...newConfig,\n            stega: {\n                ...thisConfig.stega || {},\n                ...typeof newConfig?.stega == \"boolean\" ? {\n                    enabled: newConfig.stega\n                } : newConfig?.stega || {}\n            }\n        });\n    }\n    fetch(query, params, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_fetch(this, this.#httpRequest, this.#clientConfig.stega, query, params, options));\n    }\n    /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */ getDocument(id, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_getDocument(this, this.#httpRequest, id, options));\n    }\n    /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */ getDocuments(ids, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_getDocuments(this, this.#httpRequest, ids, options));\n    }\n    create(document, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_create(this, this.#httpRequest, document, \"create\", options));\n    }\n    createIfNotExists(document, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_createIfNotExists(this, this.#httpRequest, document, options));\n    }\n    createOrReplace(document, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_createOrReplace(this, this.#httpRequest, document, options));\n    }\n    delete(selection, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_delete(this, this.#httpRequest, selection, options));\n    }\n    mutate(operations, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_mutate(this, this.#httpRequest, operations, options));\n    }\n    /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */ patch(documentId, operations) {\n        return new Patch(documentId, operations, this);\n    }\n    /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */ transaction(operations) {\n        return new Transaction(operations, this);\n    }\n    /**\n   * Perform action operations against the configured dataset\n   * Returns a promise that resolves to the transaction result\n   *\n   * @param operations - Action operation(s) to execute\n   * @param options - Action options\n   */ action(operations, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_action(this, this.#httpRequest, operations, options));\n    }\n    /**\n   * Perform a request against the Sanity API\n   * NOTE: Only use this for Sanity API endpoints, not for your own APIs!\n   *\n   * @param options - Request options\n   * @returns Promise resolving to the response body\n   */ request(options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_request(this, this.#httpRequest, options));\n    }\n    /**\n   * Perform an HTTP request a `/data` sub-endpoint\n   * NOTE: Considered internal, thus marked as deprecated. Use `request` instead.\n   *\n   * @deprecated - Use `request()` or your own HTTP library instead\n   * @param endpoint - Endpoint to hit (mutate, query etc)\n   * @param body - Request body\n   * @param options - Request options\n   * @internal\n   */ dataRequest(endpoint, body, options) {\n        return (0,_barrel_optimize_names_Observable_from_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_6__.lastValueFrom)(_dataRequest(this, this.#httpRequest, endpoint, body, options));\n    }\n    /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */ getUrl(uri, canUseCdn) {\n        return _getUrl(this, uri, canUseCdn);\n    }\n    /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */ getDataUrl(operation, path) {\n        return _getDataUrl(this, operation, path);\n    }\n}\nfunction defineCreateClientExports(envMiddleware2, ClassConstructor) {\n    const defaultRequester = defineHttpRequest(envMiddleware2);\n    return {\n        requester: defaultRequester,\n        createClient: (config)=>new ClassConstructor((options, requester2)=>(requester2 || defaultRequester)({\n                    maxRedirects: 0,\n                    maxRetries: config.maxRetries,\n                    retryDelay: config.retryDelay,\n                    ...options\n                }), config)\n    };\n}\nfunction defineDeprecatedCreateClient(createClient2) {\n    return function(config) {\n        return printNoDefaultExport(), createClient2(config);\n    };\n}\nvar envMiddleware = [];\nconst exp = defineCreateClientExports(envMiddleware, SanityClient), requester = exp.requester, createClient = exp.createClient, deprecatedCreateClient = defineDeprecatedCreateClient(createClient);\n //# sourceMappingURL=index.browser.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9pbmRleC5icm93c2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErQjtBQUNlO0FBQzZDO0FBQ3BDO0FBQ0M7QUFDUTtBQUNoRSxNQUFNZSxvQkFBb0JDO0lBS3hCQyxZQUFZQyxHQUFHLENBQUU7UUFDZixNQUFNQyxRQUFRQyxrQkFBa0JGOztRQUNoQyxhQUFLLENBQUNDLE1BQU1FLE9BQU8sUUFMckJDLGFBQWEsWUFLV0MsT0FBT0MsTUFBTSxDQUFDLElBQUksRUFBRUw7SUFDNUM7QUFDRjtBQUNBLE1BQU1NLG9CQUFvQlQ7SUFLeEJDLFlBQVlDLEdBQUcsQ0FBRTtRQUNmLE1BQU1DLFFBQVFDLGtCQUFrQkY7O1FBQ2hDLGFBQUssQ0FBQ0MsTUFBTUUsT0FBTyxRQUxyQkMsYUFBYSxZQUtXQyxPQUFPQyxNQUFNLENBQUMsSUFBSSxFQUFFTDtJQUM1QztBQUNGO0FBQ0EsU0FBU0Msa0JBQWtCRixHQUFHO0lBQzVCLE1BQU1RLE9BQU9SLElBQUlRLElBQUksRUFBRVAsUUFBUTtRQUM3QlEsVUFBVVQ7UUFDVkksWUFBWUosSUFBSUksVUFBVTtRQUMxQk0sY0FBY0MsY0FBY0gsTUFBTVI7UUFDbENHLFNBQVM7UUFDVFMsU0FBUyxLQUFLO0lBQ2hCO0lBQ0EsSUFBSUosS0FBS0ssS0FBSyxJQUFJTCxLQUFLTCxPQUFPLEVBQzVCLE9BQU9GLE1BQU1FLE9BQU8sR0FBRyxDQUFDLEVBQUVLLEtBQUtLLEtBQUssQ0FBQyxHQUFHLEVBQUVMLEtBQUtMLE9BQU8sQ0FBQyxDQUFDLEVBQUVGO0lBQzVELElBQUlhLGdCQUFnQk4sU0FBU08sY0FBY1AsT0FBTztRQUNoRCxNQUFNUSxXQUFXUixLQUFLSyxLQUFLLENBQUNJLEtBQUssSUFBSSxFQUFFLEVBQUVBLFFBQVFELFNBQVNFLEtBQUssQ0FBQyxHQUFHLEdBQUd2QixHQUFHLENBQUMsQ0FBQ3dCLE9BQVNBLEtB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aUksMEJBQTBCelgsY0FBYyxFQUFFMFgsZ0JBQWdCO0lBQ2pFLE1BQU1DLG1CQUFtQjVYLGtCQUFrQkM7SUFDM0MsT0FBTztRQUFFbVAsV0FBV3dJO1FBQWtCQyxjQUFjLENBQUN4VixTQUFXLElBQUlzVixpQkFDbEUsQ0FBQ3JYLFNBQVN3WCxhQUFlLENBQUNBLGNBQWNGLGdCQUFlLEVBQUc7b0JBQ3hERyxjQUFjO29CQUNkeFgsWUFBWThCLE9BQU85QixVQUFVO29CQUM3QnlYLFlBQVkzVixPQUFPMlYsVUFBVTtvQkFDN0IsR0FBRzFYLE9BQU87Z0JBQ1osSUFDQStCO0lBQ0E7QUFDSjtBQUNBLFNBQVM0Viw2QkFBNkJDLGFBQWE7SUFDakQsT0FBTyxTQUFTN1YsTUFBTTtRQUNwQixPQUFPYyx3QkFBd0IrVSxjQUFjN1Y7SUFDL0M7QUFDRjtBQUNBLElBQUk4VixnQkFBZ0IsRUFBRTtBQUN0QixNQUFNQyxNQUFNViwwQkFBMEJTLGVBQWVYLGVBQWVwSSxZQUFZZ0osSUFBSWhKLFNBQVMsRUFBRXlJLGVBQWVPLElBQUlQLFlBQVksRUFBRVEseUJBQXlCSiw2QkFBNkJKO0FBbUJwTCxDQUNGLHlDQUF5QyIsInNvdXJjZXMiOlsid2VicGFjazovL2FkbWlzc2lvbi11cGxpZnQvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9pbmRleC5icm93c2VyLmpzPzk5OGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0SXQgfSBmcm9tIFwiZ2V0LWl0XCI7XG5pbXBvcnQgeyBhZGFwdGVyLCBlbnZpcm9ubWVudCB9IGZyb20gXCJnZXQtaXRcIjtcbmltcG9ydCB7IHJldHJ5LCBqc29uUmVxdWVzdCwganNvblJlc3BvbnNlLCBwcm9ncmVzcywgb2JzZXJ2YWJsZSB9IGZyb20gXCJnZXQtaXQvbWlkZGxld2FyZVwiO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgZnJvbSwgbGFzdFZhbHVlRnJvbSB9IGZyb20gXCJyeGpzXCI7XG5pbXBvcnQgeyBzdGVnYUNsZWFuIH0gZnJvbSBcIi4vX2NodW5rcy1lcy9zdGVnYUNsZWFuLmpzXCI7XG5pbXBvcnQgeyBjb21iaW5lTGF0ZXN0V2l0aCwgbWFwLCBmaWx0ZXIgfSBmcm9tIFwicnhqcy9vcGVyYXRvcnNcIjtcbmNsYXNzIENsaWVudEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICByZXNwb25zZTtcbiAgc3RhdHVzQ29kZSA9IDQwMDtcbiAgcmVzcG9uc2VCb2R5O1xuICBkZXRhaWxzO1xuICBjb25zdHJ1Y3RvcihyZXMpIHtcbiAgICBjb25zdCBwcm9wcyA9IGV4dHJhY3RFcnJvclByb3BzKHJlcyk7XG4gICAgc3VwZXIocHJvcHMubWVzc2FnZSksIE9iamVjdC5hc3NpZ24odGhpcywgcHJvcHMpO1xuICB9XG59XG5jbGFzcyBTZXJ2ZXJFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcmVzcG9uc2U7XG4gIHN0YXR1c0NvZGUgPSA1MDA7XG4gIHJlc3BvbnNlQm9keTtcbiAgZGV0YWlscztcbiAgY29uc3RydWN0b3IocmVzKSB7XG4gICAgY29uc3QgcHJvcHMgPSBleHRyYWN0RXJyb3JQcm9wcyhyZXMpO1xuICAgIHN1cGVyKHByb3BzLm1lc3NhZ2UpLCBPYmplY3QuYXNzaWduKHRoaXMsIHByb3BzKTtcbiAgfVxufVxuZnVuY3Rpb24gZXh0cmFjdEVycm9yUHJvcHMocmVzKSB7XG4gIGNvbnN0IGJvZHkgPSByZXMuYm9keSwgcHJvcHMgPSB7XG4gICAgcmVzcG9uc2U6IHJlcyxcbiAgICBzdGF0dXNDb2RlOiByZXMuc3RhdHVzQ29kZSxcbiAgICByZXNwb25zZUJvZHk6IHN0cmluZ2lmeUJvZHkoYm9keSwgcmVzKSxcbiAgICBtZXNzYWdlOiBcIlwiLFxuICAgIGRldGFpbHM6IHZvaWQgMFxuICB9O1xuICBpZiAoYm9keS5lcnJvciAmJiBib2R5Lm1lc3NhZ2UpXG4gICAgcmV0dXJuIHByb3BzLm1lc3NhZ2UgPSBgJHtib2R5LmVycm9yfSAtICR7Ym9keS5tZXNzYWdlfWAsIHByb3BzO1xuICBpZiAoaXNNdXRhdGlvbkVycm9yKGJvZHkpIHx8IGlzQWN0aW9uRXJyb3IoYm9keSkpIHtcbiAgICBjb25zdCBhbGxJdGVtcyA9IGJvZHkuZXJyb3IuaXRlbXMgfHwgW10sIGl0ZW1zID0gYWxsSXRlbXMuc2xpY2UoMCwgNSkubWFwKChpdGVtKSA9PiBpdGVtLmVycm9yPy5kZXNjcmlwdGlvbikuZmlsdGVyKEJvb2xlYW4pO1xuICAgIGxldCBpdGVtc1N0ciA9IGl0ZW1zLmxlbmd0aCA/IGA6XG4tICR7aXRlbXMuam9pbihgXG4tIGApfWAgOiBcIlwiO1xuICAgIHJldHVybiBhbGxJdGVtcy5sZW5ndGggPiA1ICYmIChpdGVtc1N0ciArPSBgXG4uLi5hbmQgJHthbGxJdGVtcy5sZW5ndGggLSA1fSBtb3JlYCksIHByb3BzLm1lc3NhZ2UgPSBgJHtib2R5LmVycm9yLmRlc2NyaXB0aW9ufSR7aXRlbXNTdHJ9YCwgcHJvcHMuZGV0YWlscyA9IGJvZHkuZXJyb3IsIHByb3BzO1xuICB9XG4gIHJldHVybiBib2R5LmVycm9yICYmIGJvZHkuZXJyb3IuZGVzY3JpcHRpb24gPyAocHJvcHMubWVzc2FnZSA9IGJvZHkuZXJyb3IuZGVzY3JpcHRpb24sIHByb3BzLmRldGFpbHMgPSBib2R5LmVycm9yLCBwcm9wcykgOiAocHJvcHMubWVzc2FnZSA9IGJvZHkuZXJyb3IgfHwgYm9keS5tZXNzYWdlIHx8IGh0dHBFcnJvck1lc3NhZ2UocmVzKSwgcHJvcHMpO1xufVxuZnVuY3Rpb24gaXNNdXRhdGlvbkVycm9yKGJvZHkpIHtcbiAgcmV0dXJuIGlzUGxhaW5PYmplY3QoYm9keSkgJiYgaXNQbGFpbk9iamVjdChib2R5LmVycm9yKSAmJiBib2R5LmVycm9yLnR5cGUgPT09IFwibXV0YXRpb25FcnJvclwiICYmIHR5cGVvZiBib2R5LmVycm9yLmRlc2NyaXB0aW9uID09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBpc0FjdGlvbkVycm9yKGJvZHkpIHtcbiAgcmV0dXJuIGlzUGxhaW5PYmplY3QoYm9keSkgJiYgaXNQbGFpbk9iamVjdChib2R5LmVycm9yKSAmJiBib2R5LmVycm9yLnR5cGUgPT09IFwiYWN0aW9uRXJyb3JcIiAmJiB0eXBlb2YgYm9keS5lcnJvci5kZXNjcmlwdGlvbiA9PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmogPT0gXCJvYmplY3RcIiAmJiBvYmogIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkob2JqKTtcbn1cbmZ1bmN0aW9uIGh0dHBFcnJvck1lc3NhZ2UocmVzKSB7XG4gIGNvbnN0IHN0YXR1c01lc3NhZ2UgPSByZXMuc3RhdHVzTWVzc2FnZSA/IGAgJHtyZXMuc3RhdHVzTWVzc2FnZX1gIDogXCJcIjtcbiAgcmV0dXJuIGAke3Jlcy5tZXRob2R9LXJlcXVlc3QgdG8gJHtyZXMudXJsfSByZXN1bHRlZCBpbiBIVFRQICR7cmVzLnN0YXR1c0NvZGV9JHtzdGF0dXNNZXNzYWdlfWA7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlCb2R5KGJvZHksIHJlcykge1xuICByZXR1cm4gKHJlcy5oZWFkZXJzW1wiY29udGVudC10eXBlXCJdIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImFwcGxpY2F0aW9uL2pzb25cIikgIT09IC0xID8gSlNPTi5zdHJpbmdpZnkoYm9keSwgbnVsbCwgMikgOiBib2R5O1xufVxuY2xhc3MgQ29yc09yaWdpbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBwcm9qZWN0SWQ7XG4gIGFkZE9yaWdpblVybDtcbiAgY29uc3RydWN0b3IoeyBwcm9qZWN0SWQ6IHByb2plY3RJZDIgfSkge1xuICAgIHN1cGVyKFwiQ29yc09yaWdpbkVycm9yXCIpLCB0aGlzLm5hbWUgPSBcIkNvcnNPcmlnaW5FcnJvclwiLCB0aGlzLnByb2plY3RJZCA9IHByb2plY3RJZDI7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChgaHR0cHM6Ly9zYW5pdHkuaW8vbWFuYWdlL3Byb2plY3QvJHtwcm9qZWN0SWQyfS9hcGlgKTtcbiAgICBpZiAodHlwZW9mIGxvY2F0aW9uIDwgXCJ1XCIpIHtcbiAgICAgIGNvbnN0IHsgb3JpZ2luIH0gPSBsb2NhdGlvbjtcbiAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwiY29yc1wiLCBcImFkZFwiKSwgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJvcmlnaW5cIiwgb3JpZ2luKSwgdGhpcy5hZGRPcmlnaW5VcmwgPSB1cmwsIHRoaXMubWVzc2FnZSA9IGBUaGUgY3VycmVudCBvcmlnaW4gaXMgbm90IGFsbG93ZWQgdG8gY29ubmVjdCB0byB0aGUgTGl2ZSBDb250ZW50IEFQSS4gQWRkIGl0IGhlcmU6ICR7dXJsfWA7XG4gICAgfSBlbHNlXG4gICAgICB0aGlzLm1lc3NhZ2UgPSBgVGhlIGN1cnJlbnQgb3JpZ2luIGlzIG5vdCBhbGxvd2VkIHRvIGNvbm5lY3QgdG8gdGhlIExpdmUgQ29udGVudCBBUEkuIENoYW5nZSB5b3VyIGNvbmZpZ3VyYXRpb24gaGVyZTogJHt1cmx9YDtcbiAgfVxufVxuY29uc3QgaHR0cEVycm9yID0ge1xuICBvblJlc3BvbnNlOiAocmVzKSA9PiB7XG4gICAgaWYgKHJlcy5zdGF0dXNDb2RlID49IDUwMClcbiAgICAgIHRocm93IG5ldyBTZXJ2ZXJFcnJvcihyZXMpO1xuICAgIGlmIChyZXMuc3RhdHVzQ29kZSA+PSA0MDApXG4gICAgICB0aHJvdyBuZXcgQ2xpZW50RXJyb3IocmVzKTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG59LCBwcmludFdhcm5pbmdzID0ge1xuICBvblJlc3BvbnNlOiAocmVzKSA9PiB7XG4gICAgY29uc3Qgd2FybiA9IHJlcy5oZWFkZXJzW1wieC1zYW5pdHktd2FybmluZ1wiXTtcbiAgICByZXR1cm4gKEFycmF5LmlzQXJyYXkod2FybikgPyB3YXJuIDogW3dhcm5dKS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaCgobXNnKSA9PiBjb25zb2xlLndhcm4obXNnKSksIHJlcztcbiAgfVxufTtcbmZ1bmN0aW9uIGRlZmluZUh0dHBSZXF1ZXN0KGVudk1pZGRsZXdhcmUyKSB7XG4gIHJldHVybiBnZXRJdChbXG4gICAgcmV0cnkoeyBzaG91bGRSZXRyeSB9KSxcbiAgICAuLi5lbnZNaWRkbGV3YXJlMixcbiAgICBwcmludFdhcm5pbmdzLFxuICAgIGpzb25SZXF1ZXN0KCksXG4gICAganNvblJlc3BvbnNlKCksXG4gICAgcHJvZ3Jlc3MoKSxcbiAgICBodHRwRXJyb3IsXG4gICAgb2JzZXJ2YWJsZSh7IGltcGxlbWVudGF0aW9uOiBPYnNlcnZhYmxlIH0pXG4gIF0pO1xufVxuZnVuY3Rpb24gc2hvdWxkUmV0cnkoZXJyLCBhdHRlbXB0LCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zLm1heFJldHJpZXMgPT09IDApXG4gICAgcmV0dXJuICExO1xuICBjb25zdCBpc1NhZmUgPSBvcHRpb25zLm1ldGhvZCA9PT0gXCJHRVRcIiB8fCBvcHRpb25zLm1ldGhvZCA9PT0gXCJIRUFEXCIsIGlzUXVlcnkgPSAob3B0aW9ucy51cmkgfHwgb3B0aW9ucy51cmwpLnN0YXJ0c1dpdGgoXCIvZGF0YS9xdWVyeVwiKSwgaXNSZXRyaWFibGVSZXNwb25zZSA9IGVyci5yZXNwb25zZSAmJiAoZXJyLnJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDQyOSB8fCBlcnIucmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gNTAyIHx8IGVyci5yZXNwb25zZS5zdGF0dXNDb2RlID09PSA1MDMpO1xuICByZXR1cm4gKGlzU2FmZSB8fCBpc1F1ZXJ5KSAmJiBpc1JldHJpYWJsZVJlc3BvbnNlID8gITAgOiByZXRyeS5zaG91bGRSZXRyeShlcnIsIGF0dGVtcHQsIG9wdGlvbnMpO1xufVxuY29uc3QgQkFTRV9VUkwgPSBcImh0dHBzOi8vd3d3LnNhbml0eS5pby9oZWxwL1wiO1xuZnVuY3Rpb24gZ2VuZXJhdGVIZWxwVXJsKHNsdWcpIHtcbiAgcmV0dXJuIEJBU0VfVVJMICsgc2x1Zztcbn1cbmNvbnN0IFZBTElEX0FTU0VUX1RZUEVTID0gW1wiaW1hZ2VcIiwgXCJmaWxlXCJdLCBWQUxJRF9JTlNFUlRfTE9DQVRJT05TID0gW1wiYmVmb3JlXCIsIFwiYWZ0ZXJcIiwgXCJyZXBsYWNlXCJdLCBkYXRhc2V0ID0gKG5hbWUpID0+IHtcbiAgaWYgKCEvXih+W2EtejAtOV17MX1bLVxcd117MCw2M318W2EtejAtOV17MX1bLVxcd117MCw2M30pJC8udGVzdChuYW1lKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkRhdGFzZXRzIGNhbiBvbmx5IGNvbnRhaW4gbG93ZXJjYXNlIGNoYXJhY3RlcnMsIG51bWJlcnMsIHVuZGVyc2NvcmVzIGFuZCBkYXNoZXMsIGFuZCBzdGFydCB3aXRoIHRpbGRlLCBhbmQgYmUgbWF4aW11bSA2NCBjaGFyYWN0ZXJzXCJcbiAgICApO1xufSwgcHJvamVjdElkID0gKGlkKSA9PiB7XG4gIGlmICghL15bLWEtejAtOV0rJC9pLnRlc3QoaWQpKVxuICAgIHRocm93IG5ldyBFcnJvcihcImBwcm9qZWN0SWRgIGNhbiBvbmx5IGNvbnRhaW4gb25seSBhLXosIDAtOSBhbmQgZGFzaGVzXCIpO1xufSwgdmFsaWRhdGVBc3NldFR5cGUgPSAodHlwZSkgPT4ge1xuICBpZiAoVkFMSURfQVNTRVRfVFlQRVMuaW5kZXhPZih0eXBlKSA9PT0gLTEpXG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGFzc2V0IHR5cGU6ICR7dHlwZX0uIE11c3QgYmUgb25lIG9mICR7VkFMSURfQVNTRVRfVFlQRVMuam9pbihcIiwgXCIpfWApO1xufSwgdmFsaWRhdGVPYmplY3QgPSAob3AsIHZhbCkgPT4ge1xuICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgIT0gXCJvYmplY3RcIiB8fCBBcnJheS5pc0FycmF5KHZhbCkpXG4gICAgdGhyb3cgbmV3IEVycm9yKGAke29wfSgpIHRha2VzIGFuIG9iamVjdCBvZiBwcm9wZXJ0aWVzYCk7XG59LCB2YWxpZGF0ZURvY3VtZW50SWQgPSAob3AsIGlkKSA9PiB7XG4gIGlmICh0eXBlb2YgaWQgIT0gXCJzdHJpbmdcIiB8fCAhL15bYS16MC05X11bYS16MC05Xy4tXXswLDEyN30kL2kudGVzdChpZCkgfHwgaWQuaW5jbHVkZXMoXCIuLlwiKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7b3B9KCk6IFwiJHtpZH1cIiBpcyBub3QgYSB2YWxpZCBkb2N1bWVudCBJRGApO1xufSwgcmVxdWlyZURvY3VtZW50SWQgPSAob3AsIGRvYykgPT4ge1xuICBpZiAoIWRvYy5faWQpXG4gICAgdGhyb3cgbmV3IEVycm9yKGAke29wfSgpIHJlcXVpcmVzIHRoYXQgdGhlIGRvY3VtZW50IGNvbnRhaW5zIGFuIElEIChcIl9pZFwiIHByb3BlcnR5KWApO1xuICB2YWxpZGF0ZURvY3VtZW50SWQob3AsIGRvYy5faWQpO1xufSwgdmFsaWRhdGVJbnNlcnQgPSAoYXQsIHNlbGVjdG9yLCBpdGVtcykgPT4ge1xuICBjb25zdCBzaWduYXR1cmUgPSBcImluc2VydChhdCwgc2VsZWN0b3IsIGl0ZW1zKVwiO1xuICBpZiAoVkFMSURfSU5TRVJUX0xPQ0FUSU9OUy5pbmRleE9mKGF0KSA9PT0gLTEpIHtcbiAgICBjb25zdCB2YWxpZCA9IFZBTElEX0lOU0VSVF9MT0NBVElPTlMubWFwKChsb2MpID0+IGBcIiR7bG9jfVwiYCkuam9pbihcIiwgXCIpO1xuICAgIHRocm93IG5ldyBFcnJvcihgJHtzaWduYXR1cmV9IHRha2VzIGFuIFwiYXRcIi1hcmd1bWVudCB3aGljaCBpcyBvbmUgb2Y6ICR7dmFsaWR9YCk7XG4gIH1cbiAgaWYgKHR5cGVvZiBzZWxlY3RvciAhPSBcInN0cmluZ1wiKVxuICAgIHRocm93IG5ldyBFcnJvcihgJHtzaWduYXR1cmV9IHRha2VzIGEgXCJzZWxlY3RvclwiLWFyZ3VtZW50IHdoaWNoIG11c3QgYmUgYSBzdHJpbmdgKTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGl0ZW1zKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7c2lnbmF0dXJlfSB0YWtlcyBhbiBcIml0ZW1zXCItYXJndW1lbnQgd2hpY2ggbXVzdCBiZSBhbiBhcnJheWApO1xufSwgaGFzRGF0YXNldCA9IChjb25maWcpID0+IHtcbiAgaWYgKCFjb25maWcuZGF0YXNldClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJgZGF0YXNldGAgbXVzdCBiZSBwcm92aWRlZCB0byBwZXJmb3JtIHF1ZXJpZXNcIik7XG4gIHJldHVybiBjb25maWcuZGF0YXNldCB8fCBcIlwiO1xufSwgcmVxdWVzdFRhZyA9ICh0YWcpID0+IHtcbiAgaWYgKHR5cGVvZiB0YWcgIT0gXCJzdHJpbmdcIiB8fCAhL15bYS16MC05Ll8tXXsxLDc1fSQvaS50ZXN0KHRhZykpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJUYWcgY2FuIG9ubHkgY29udGFpbiBhbHBoYW51bWVyaWMgY2hhcmFjdGVycywgdW5kZXJzY29yZXMsIGRhc2hlcyBhbmQgZG90cywgYW5kIGJlIGJldHdlZW4gb25lIGFuZCA3NSBjaGFyYWN0ZXJzIGxvbmcuXCJcbiAgICApO1xuICByZXR1cm4gdGFnO1xufTtcbmZ1bmN0aW9uIG9uY2UoZm4pIHtcbiAgbGV0IGRpZENhbGwgPSAhMSwgcmV0dXJuVmFsdWU7XG4gIHJldHVybiAoLi4uYXJncykgPT4gKGRpZENhbGwgfHwgKHJldHVyblZhbHVlID0gZm4oLi4uYXJncyksIGRpZENhbGwgPSAhMCksIHJldHVyblZhbHVlKTtcbn1cbmNvbnN0IGNyZWF0ZVdhcm5pbmdQcmludGVyID0gKG1lc3NhZ2UpID0+IChcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgb25jZSgoLi4uYXJncykgPT4gY29uc29sZS53YXJuKG1lc3NhZ2Uuam9pbihcIiBcIiksIC4uLmFyZ3MpKVxuKSwgcHJpbnRDZG5BbmRXaXRoQ3JlZGVudGlhbHNXYXJuaW5nID0gY3JlYXRlV2FybmluZ1ByaW50ZXIoW1xuICBcIkJlY2F1c2UgeW91IHNldCBgd2l0aENyZWRlbnRpYWxzYCB0byB0cnVlLCB3ZSB3aWxsIG92ZXJyaWRlIHlvdXIgYHVzZUNkbmBcIixcbiAgXCJzZXR0aW5nIHRvIGJlIGZhbHNlIHNpbmNlIChjb29raWUtYmFzZWQpIGNyZWRlbnRpYWxzIGFyZSBuZXZlciBzZXQgb24gdGhlIENETlwiXG5dKSwgcHJpbnRDZG5XYXJuaW5nID0gY3JlYXRlV2FybmluZ1ByaW50ZXIoW1xuICBcIlNpbmNlIHlvdSBoYXZlbid0IHNldCBhIHZhbHVlIGZvciBgdXNlQ2RuYCwgd2Ugd2lsbCBkZWxpdmVyIGNvbnRlbnQgdXNpbmcgb3VyXCIsXG4gIFwiZ2xvYmFsLCBlZGdlLWNhY2hlZCBBUEktQ0ROLiBJZiB5b3Ugd2lzaCB0byBoYXZlIGNvbnRlbnQgZGVsaXZlcmVkIGZhc3Rlciwgc2V0XCIsXG4gIFwiYHVzZUNkbjogZmFsc2VgIHRvIHVzZSB0aGUgTGl2ZSBBUEkuIE5vdGU6IFlvdSBtYXkgaW5jdXIgaGlnaGVyIGNvc3RzIHVzaW5nIHRoZSBsaXZlIEFQSS5cIlxuXSksIHByaW50Q2RuUHJldmlld0RyYWZ0c1dhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXG4gIFwiVGhlIFNhbml0eSBjbGllbnQgaXMgY29uZmlndXJlZCB3aXRoIHRoZSBgcGVyc3BlY3RpdmVgIHNldCB0byBgcHJldmlld0RyYWZ0c2AsIHdoaWNoIGRvZXNuJ3Qgc3VwcG9ydCB0aGUgQVBJLUNETi5cIixcbiAgXCJUaGUgTGl2ZSBBUEkgd2lsbCBiZSB1c2VkIGluc3RlYWQuIFNldCBgdXNlQ2RuOiBmYWxzZWAgaW4geW91ciBjb25maWd1cmF0aW9uIHRvIGhpZGUgdGhpcyB3YXJuaW5nLlwiXG5dKSwgcHJpbnRCcm93c2VyVG9rZW5XYXJuaW5nID0gY3JlYXRlV2FybmluZ1ByaW50ZXIoW1xuICBcIllvdSBoYXZlIGNvbmZpZ3VyZWQgU2FuaXR5IGNsaWVudCB0byB1c2UgYSB0b2tlbiBpbiB0aGUgYnJvd3Nlci4gVGhpcyBtYXkgY2F1c2UgdW5pbnRlbnRpb25hbCBzZWN1cml0eSBpc3N1ZXMuXCIsXG4gIGBTZWUgJHtnZW5lcmF0ZUhlbHBVcmwoXG4gICAgXCJqcy1jbGllbnQtYnJvd3Nlci10b2tlblwiXG4gICl9IGZvciBtb3JlIGluZm9ybWF0aW9uIGFuZCBob3cgdG8gaGlkZSB0aGlzIHdhcm5pbmcuYFxuXSksIHByaW50Tm9BcGlWZXJzaW9uU3BlY2lmaWVkV2FybmluZyA9IGNyZWF0ZVdhcm5pbmdQcmludGVyKFtcbiAgXCJVc2luZyB0aGUgU2FuaXR5IGNsaWVudCB3aXRob3V0IHNwZWNpZnlpbmcgYW4gQVBJIHZlcnNpb24gaXMgZGVwcmVjYXRlZC5cIixcbiAgYFNlZSAke2dlbmVyYXRlSGVscFVybChcImpzLWNsaWVudC1hcGktdmVyc2lvblwiKX1gXG5dKSwgcHJpbnROb0RlZmF1bHRFeHBvcnQgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXG4gIFwiVGhlIGRlZmF1bHQgZXhwb3J0IG9mIEBzYW5pdHkvY2xpZW50IGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSB0aGUgbmFtZWQgZXhwb3J0IGBjcmVhdGVDbGllbnRgIGluc3RlYWQuXCJcbl0pLCBkZWZhdWx0Q2RuSG9zdCA9IFwiYXBpY2RuLnNhbml0eS5pb1wiLCBkZWZhdWx0Q29uZmlnID0ge1xuICBhcGlIb3N0OiBcImh0dHBzOi8vYXBpLnNhbml0eS5pb1wiLFxuICBhcGlWZXJzaW9uOiBcIjFcIixcbiAgdXNlUHJvamVjdEhvc3RuYW1lOiAhMCxcbiAgc3RlZ2E6IHsgZW5hYmxlZDogITEgfVxufSwgTE9DQUxIT1NUUyA9IFtcImxvY2FsaG9zdFwiLCBcIjEyNy4wLjAuMVwiLCBcIjAuMC4wLjBcIl0sIGlzTG9jYWwgPSAoaG9zdCkgPT4gTE9DQUxIT1NUUy5pbmRleE9mKGhvc3QpICE9PSAtMTtcbmZ1bmN0aW9uIHZhbGlkYXRlQXBpVmVyc2lvbihhcGlWZXJzaW9uKSB7XG4gIGlmIChhcGlWZXJzaW9uID09PSBcIjFcIiB8fCBhcGlWZXJzaW9uID09PSBcIlhcIilcbiAgICByZXR1cm47XG4gIGNvbnN0IGFwaURhdGUgPSBuZXcgRGF0ZShhcGlWZXJzaW9uKTtcbiAgaWYgKCEoL15cXGR7NH0tXFxkezJ9LVxcZHsyfSQvLnRlc3QoYXBpVmVyc2lvbikgJiYgYXBpRGF0ZSBpbnN0YW5jZW9mIERhdGUgJiYgYXBpRGF0ZS5nZXRUaW1lKCkgPiAwKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEFQSSB2ZXJzaW9uIHN0cmluZywgZXhwZWN0ZWQgYDFgIG9yIGRhdGUgaW4gZm9ybWF0IGBZWVlZLU1NLUREYFwiKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlQXBpUGVyc3BlY3RpdmUocGVyc3BlY3RpdmUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkocGVyc3BlY3RpdmUpKSB7XG4gICAgZm9yIChjb25zdCBwZXJzcGVjdGl2ZVZhbHVlIG9mIHBlcnNwZWN0aXZlKVxuICAgICAgaWYgKHBlcnNwZWN0aXZlVmFsdWUgIT09IFwicHVibGlzaGVkXCIgJiYgcGVyc3BlY3RpdmVWYWx1ZSAhPT0gXCJkcmFmdHNcIiAmJiAhKHR5cGVvZiBwZXJzcGVjdGl2ZVZhbHVlID09IFwic3RyaW5nXCIgJiYgcGVyc3BlY3RpdmVWYWx1ZS5zdGFydHNXaXRoKFwiclwiKSAmJiBwZXJzcGVjdGl2ZVZhbHVlICE9PSBcInJhd1wiKSlcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICBcIkludmFsaWQgQVBJIHBlcnNwZWN0aXZlIHZhbHVlLCBleHBlY3RlZCBgcHVibGlzaGVkYCwgYGRyYWZ0c2Agb3IgYSB2YWxpZCByZWxlYXNlIGlkZW50aWZpZXIgc3RyaW5nXCJcbiAgICAgICAgKTtcbiAgICByZXR1cm47XG4gIH1cbiAgc3dpdGNoIChwZXJzcGVjdGl2ZSkge1xuICAgIGNhc2UgXCJwcmV2aWV3RHJhZnRzXCI6XG4gICAgY2FzZSBcImRyYWZ0c1wiOlxuICAgIGNhc2UgXCJwdWJsaXNoZWRcIjpcbiAgICBjYXNlIFwicmF3XCI6XG4gICAgICByZXR1cm47XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgIFwiSW52YWxpZCBBUEkgcGVyc3BlY3RpdmUgc3RyaW5nLCBleHBlY3RlZCBgcHVibGlzaGVkYCwgYHByZXZpZXdEcmFmdHNgIG9yIGByYXdgXCJcbiAgICAgICk7XG4gIH1cbn1cbmNvbnN0IGluaXRDb25maWcgPSAoY29uZmlnLCBwcmV2Q29uZmlnKSA9PiB7XG4gIGNvbnN0IHNwZWNpZmllZENvbmZpZyA9IHtcbiAgICAuLi5wcmV2Q29uZmlnLFxuICAgIC4uLmNvbmZpZyxcbiAgICBzdGVnYToge1xuICAgICAgLi4udHlwZW9mIHByZXZDb25maWcuc3RlZ2EgPT0gXCJib29sZWFuXCIgPyB7IGVuYWJsZWQ6IHByZXZDb25maWcuc3RlZ2EgfSA6IHByZXZDb25maWcuc3RlZ2EgfHwgZGVmYXVsdENvbmZpZy5zdGVnYSxcbiAgICAgIC4uLnR5cGVvZiBjb25maWcuc3RlZ2EgPT0gXCJib29sZWFuXCIgPyB7IGVuYWJsZWQ6IGNvbmZpZy5zdGVnYSB9IDogY29uZmlnLnN0ZWdhIHx8IHt9XG4gICAgfVxuICB9O1xuICBzcGVjaWZpZWRDb25maWcuYXBpVmVyc2lvbiB8fCBwcmludE5vQXBpVmVyc2lvblNwZWNpZmllZFdhcm5pbmcoKTtcbiAgY29uc3QgbmV3Q29uZmlnID0ge1xuICAgIC4uLmRlZmF1bHRDb25maWcsXG4gICAgLi4uc3BlY2lmaWVkQ29uZmlnXG4gIH0sIHByb2plY3RCYXNlZCA9IG5ld0NvbmZpZy51c2VQcm9qZWN0SG9zdG5hbWU7XG4gIGlmICh0eXBlb2YgUHJvbWlzZSA+IFwidVwiKSB7XG4gICAgY29uc3QgaGVscFVybCA9IGdlbmVyYXRlSGVscFVybChcImpzLWNsaWVudC1wcm9taXNlLXBvbHlmaWxsXCIpO1xuICAgIHRocm93IG5ldyBFcnJvcihgTm8gbmF0aXZlIFByb21pc2UtaW1wbGVtZW50YXRpb24gZm91bmQsIHBvbHlmaWxsIG5lZWRlZCAtIHNlZSAke2hlbHBVcmx9YCk7XG4gIH1cbiAgaWYgKHByb2plY3RCYXNlZCAmJiAhbmV3Q29uZmlnLnByb2plY3RJZClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb25maWd1cmF0aW9uIG11c3QgY29udGFpbiBgcHJvamVjdElkYFwiKTtcbiAgaWYgKHR5cGVvZiBuZXdDb25maWcucGVyc3BlY3RpdmUgPCBcInVcIiAmJiB2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlKG5ld0NvbmZpZy5wZXJzcGVjdGl2ZSksIFwiZW5jb2RlU291cmNlTWFwXCIgaW4gbmV3Q29uZmlnKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiSXQgbG9va3MgbGlrZSB5b3UncmUgdXNpbmcgb3B0aW9ucyBtZWFudCBmb3IgJ0BzYW5pdHkvcHJldmlldy1raXQvY2xpZW50Jy4gJ2VuY29kZVNvdXJjZU1hcCcgaXMgbm90IHN1cHBvcnRlZCBpbiAnQHNhbml0eS9jbGllbnQnLiBEaWQgeW91IG1lYW4gJ3N0ZWdhLmVuYWJsZWQnP1wiXG4gICAgKTtcbiAgaWYgKFwiZW5jb2RlU291cmNlTWFwQXRQYXRoXCIgaW4gbmV3Q29uZmlnKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiSXQgbG9va3MgbGlrZSB5b3UncmUgdXNpbmcgb3B0aW9ucyBtZWFudCBmb3IgJ0BzYW5pdHkvcHJldmlldy1raXQvY2xpZW50Jy4gJ2VuY29kZVNvdXJjZU1hcEF0UGF0aCcgaXMgbm90IHN1cHBvcnRlZCBpbiAnQHNhbml0eS9jbGllbnQnLiBEaWQgeW91IG1lYW4gJ3N0ZWdhLmZpbHRlcic/XCJcbiAgICApO1xuICBpZiAodHlwZW9mIG5ld0NvbmZpZy5zdGVnYS5lbmFibGVkICE9IFwiYm9vbGVhblwiKVxuICAgIHRocm93IG5ldyBFcnJvcihgc3RlZ2EuZW5hYmxlZCBtdXN0IGJlIGEgYm9vbGVhbiwgcmVjZWl2ZWQgJHtuZXdDb25maWcuc3RlZ2EuZW5hYmxlZH1gKTtcbiAgaWYgKG5ld0NvbmZpZy5zdGVnYS5lbmFibGVkICYmIG5ld0NvbmZpZy5zdGVnYS5zdHVkaW9VcmwgPT09IHZvaWQgMClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJzdGVnYS5zdHVkaW9VcmwgbXVzdCBiZSBkZWZpbmVkIHdoZW4gc3RlZ2EuZW5hYmxlZCBpcyB0cnVlXCIpO1xuICBpZiAobmV3Q29uZmlnLnN0ZWdhLmVuYWJsZWQgJiYgdHlwZW9mIG5ld0NvbmZpZy5zdGVnYS5zdHVkaW9VcmwgIT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgbmV3Q29uZmlnLnN0ZWdhLnN0dWRpb1VybCAhPSBcImZ1bmN0aW9uXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYHN0ZWdhLnN0dWRpb1VybCBtdXN0IGJlIGEgc3RyaW5nIG9yIGEgZnVuY3Rpb24sIHJlY2VpdmVkICR7bmV3Q29uZmlnLnN0ZWdhLnN0dWRpb1VybH1gXG4gICAgKTtcbiAgY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyA8IFwidVwiICYmIHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsIGlzTG9jYWxob3N0ID0gaXNCcm93c2VyICYmIGlzTG9jYWwod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKTtcbiAgaXNCcm93c2VyICYmIGlzTG9jYWxob3N0ICYmIG5ld0NvbmZpZy50b2tlbiAmJiBuZXdDb25maWcuaWdub3JlQnJvd3NlclRva2VuV2FybmluZyAhPT0gITAgPyBwcmludEJyb3dzZXJUb2tlbldhcm5pbmcoKSA6IHR5cGVvZiBuZXdDb25maWcudXNlQ2RuID4gXCJ1XCIgJiYgcHJpbnRDZG5XYXJuaW5nKCksIHByb2plY3RCYXNlZCAmJiBwcm9qZWN0SWQobmV3Q29uZmlnLnByb2plY3RJZCksIG5ld0NvbmZpZy5kYXRhc2V0ICYmIGRhdGFzZXQobmV3Q29uZmlnLmRhdGFzZXQpLCBcInJlcXVlc3RUYWdQcmVmaXhcIiBpbiBuZXdDb25maWcgJiYgKG5ld0NvbmZpZy5yZXF1ZXN0VGFnUHJlZml4ID0gbmV3Q29uZmlnLnJlcXVlc3RUYWdQcmVmaXggPyByZXF1ZXN0VGFnKG5ld0NvbmZpZy5yZXF1ZXN0VGFnUHJlZml4KS5yZXBsYWNlKC9cXC4rJC8sIFwiXCIpIDogdm9pZCAwKSwgbmV3Q29uZmlnLmFwaVZlcnNpb24gPSBgJHtuZXdDb25maWcuYXBpVmVyc2lvbn1gLnJlcGxhY2UoL152LywgXCJcIiksIG5ld0NvbmZpZy5pc0RlZmF1bHRBcGkgPSBuZXdDb25maWcuYXBpSG9zdCA9PT0gZGVmYXVsdENvbmZpZy5hcGlIb3N0LCBuZXdDb25maWcudXNlQ2RuID09PSAhMCAmJiBuZXdDb25maWcud2l0aENyZWRlbnRpYWxzICYmIHByaW50Q2RuQW5kV2l0aENyZWRlbnRpYWxzV2FybmluZygpLCBuZXdDb25maWcudXNlQ2RuID0gbmV3Q29uZmlnLnVzZUNkbiAhPT0gITEgJiYgIW5ld0NvbmZpZy53aXRoQ3JlZGVudGlhbHMsIHZhbGlkYXRlQXBpVmVyc2lvbihuZXdDb25maWcuYXBpVmVyc2lvbik7XG4gIGNvbnN0IGhvc3RQYXJ0cyA9IG5ld0NvbmZpZy5hcGlIb3N0LnNwbGl0KFwiOi8vXCIsIDIpLCBwcm90b2NvbCA9IGhvc3RQYXJ0c1swXSwgaG9zdCA9IGhvc3RQYXJ0c1sxXSwgY2RuSG9zdCA9IG5ld0NvbmZpZy5pc0RlZmF1bHRBcGkgPyBkZWZhdWx0Q2RuSG9zdCA6IGhvc3Q7XG4gIHJldHVybiBuZXdDb25maWcudXNlUHJvamVjdEhvc3RuYW1lID8gKG5ld0NvbmZpZy51cmwgPSBgJHtwcm90b2NvbH06Ly8ke25ld0NvbmZpZy5wcm9qZWN0SWR9LiR7aG9zdH0vdiR7bmV3Q29uZmlnLmFwaVZlcnNpb259YCwgbmV3Q29uZmlnLmNkblVybCA9IGAke3Byb3RvY29sfTovLyR7bmV3Q29uZmlnLnByb2plY3RJZH0uJHtjZG5Ib3N0fS92JHtuZXdDb25maWcuYXBpVmVyc2lvbn1gKSA6IChuZXdDb25maWcudXJsID0gYCR7bmV3Q29uZmlnLmFwaUhvc3R9L3Yke25ld0NvbmZpZy5hcGlWZXJzaW9ufWAsIG5ld0NvbmZpZy5jZG5VcmwgPSBuZXdDb25maWcudXJsKSwgbmV3Q29uZmlnO1xufTtcbmZ1bmN0aW9uIGdldFNlbGVjdGlvbihzZWwpIHtcbiAgaWYgKHR5cGVvZiBzZWwgPT0gXCJzdHJpbmdcIilcbiAgICByZXR1cm4geyBpZDogc2VsIH07XG4gIGlmIChBcnJheS5pc0FycmF5KHNlbCkpXG4gICAgcmV0dXJuIHsgcXVlcnk6IFwiKltfaWQgaW4gJGlkc11cIiwgcGFyYW1zOiB7IGlkczogc2VsIH0gfTtcbiAgaWYgKHR5cGVvZiBzZWwgPT0gXCJvYmplY3RcIiAmJiBzZWwgIT09IG51bGwgJiYgXCJxdWVyeVwiIGluIHNlbCAmJiB0eXBlb2Ygc2VsLnF1ZXJ5ID09IFwic3RyaW5nXCIpXG4gICAgcmV0dXJuIFwicGFyYW1zXCIgaW4gc2VsICYmIHR5cGVvZiBzZWwucGFyYW1zID09IFwib2JqZWN0XCIgJiYgc2VsLnBhcmFtcyAhPT0gbnVsbCA/IHsgcXVlcnk6IHNlbC5xdWVyeSwgcGFyYW1zOiBzZWwucGFyYW1zIH0gOiB7IHF1ZXJ5OiBzZWwucXVlcnkgfTtcbiAgY29uc3Qgc2VsZWN0aW9uT3B0cyA9IFtcbiAgICBcIiogRG9jdW1lbnQgSUQgKDxkb2NJZD4pXCIsXG4gICAgXCIqIEFycmF5IG9mIGRvY3VtZW50IElEc1wiLFxuICAgIFwiKiBPYmplY3QgY29udGFpbmluZyBgcXVlcnlgXCJcbiAgXS5qb2luKGBcbmApO1xuICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gc2VsZWN0aW9uIC0gbXVzdCBiZSBvbmUgb2Y6XG5cbiR7c2VsZWN0aW9uT3B0c31gKTtcbn1cbmNsYXNzIEJhc2VQYXRjaCB7XG4gIHNlbGVjdGlvbjtcbiAgb3BlcmF0aW9ucztcbiAgY29uc3RydWN0b3Ioc2VsZWN0aW9uLCBvcGVyYXRpb25zID0ge30pIHtcbiAgICB0aGlzLnNlbGVjdGlvbiA9IHNlbGVjdGlvbiwgdGhpcy5vcGVyYXRpb25zID0gb3BlcmF0aW9ucztcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgZ2l2ZW4gYXR0cmlidXRlcyB0byB0aGUgZG9jdW1lbnQuIERvZXMgTk9UIG1lcmdlIG9iamVjdHMuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgcGF0Y2gsIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGF0dHJzIC0gQXR0cmlidXRlcyB0byBzZXQuIFRvIHNldCBhIGRlZXAgYXR0cmlidXRlLCB1c2UgSlNPTk1hdGNoLCBlZzogXFx7XCJuZXN0ZWQucHJvcFwiOiBcInZhbHVlXCJcXH1cbiAgICovXG4gIHNldChhdHRycykge1xuICAgIHJldHVybiB0aGlzLl9hc3NpZ24oXCJzZXRcIiwgYXR0cnMpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBnaXZlbiBhdHRyaWJ1dGVzIHRvIHRoZSBkb2N1bWVudCBpZiB0aGV5IGFyZSBub3QgY3VycmVudGx5IHNldC4gRG9lcyBOT1QgbWVyZ2Ugb2JqZWN0cy5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCBwYXRjaCwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBBdHRyaWJ1dGVzIHRvIHNldC4gVG8gc2V0IGEgZGVlcCBhdHRyaWJ1dGUsIHVzZSBKU09OTWF0Y2gsIGVnOiBcXHtcIm5lc3RlZC5wcm9wXCI6IFwidmFsdWVcIlxcfVxuICAgKi9cbiAgc2V0SWZNaXNzaW5nKGF0dHJzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Fzc2lnbihcInNldElmTWlzc2luZ1wiLCBhdHRycyk7XG4gIH1cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGEgXCJkaWZmLW1hdGNoLXBhdGNoXCIgb3BlcmF0aW9uIG9uIHRoZSBzdHJpbmcgYXR0cmlidXRlcyBwcm92aWRlZC5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCBwYXRjaCwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBBdHRyaWJ1dGVzIHRvIHBlcmZvcm0gb3BlcmF0aW9uIG9uLiBUbyBzZXQgYSBkZWVwIGF0dHJpYnV0ZSwgdXNlIEpTT05NYXRjaCwgZWc6IFxce1wibmVzdGVkLnByb3BcIjogXCJkbXBcIlxcfVxuICAgKi9cbiAgZGlmZk1hdGNoUGF0Y2goYXR0cnMpIHtcbiAgICByZXR1cm4gdmFsaWRhdGVPYmplY3QoXCJkaWZmTWF0Y2hQYXRjaFwiLCBhdHRycyksIHRoaXMuX2Fzc2lnbihcImRpZmZNYXRjaFBhdGNoXCIsIGF0dHJzKTtcbiAgfVxuICAvKipcbiAgICogVW5zZXRzIHRoZSBhdHRyaWJ1dGUgcGF0aHMgcHJvdmlkZWQuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgcGF0Y2gsIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGF0dHJzIC0gQXR0cmlidXRlIHBhdGhzIHRvIHVuc2V0LlxuICAgKi9cbiAgdW5zZXQoYXR0cnMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXR0cnMpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5zZXQoYXR0cnMpIHRha2VzIGFuIGFycmF5IG9mIGF0dHJpYnV0ZXMgdG8gdW5zZXQsIG5vbi1hcnJheSBnaXZlblwiKTtcbiAgICByZXR1cm4gdGhpcy5vcGVyYXRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcGVyYXRpb25zLCB7IHVuc2V0OiBhdHRycyB9KSwgdGhpcztcbiAgfVxuICAvKipcbiAgICogSW5jcmVtZW50IGEgbnVtZXJpYyB2YWx1ZS4gRWFjaCBlbnRyeSBpbiB0aGUgYXJndW1lbnQgaXMgZWl0aGVyIGFuIGF0dHJpYnV0ZSBvciBhIEpTT04gcGF0aC4gVGhlIHZhbHVlIG1heSBiZSBhIHBvc2l0aXZlIG9yIG5lZ2F0aXZlIGludGVnZXIgb3IgZmxvYXRpbmctcG9pbnQgdmFsdWUuIFRoZSBvcGVyYXRpb24gd2lsbCBmYWlsIGlmIHRhcmdldCB2YWx1ZSBpcyBub3QgYSBudW1lcmljIHZhbHVlLCBvciBkb2Vzbid0IGV4aXN0LlxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBPYmplY3Qgb2YgYXR0cmlidXRlIHBhdGhzIHRvIGluY3JlbWVudCwgdmFsdWVzIHJlcHJlc2VudGluZyB0aGUgbnVtYmVyIHRvIGluY3JlbWVudCBieS5cbiAgICovXG4gIGluYyhhdHRycykge1xuICAgIHJldHVybiB0aGlzLl9hc3NpZ24oXCJpbmNcIiwgYXR0cnMpO1xuICB9XG4gIC8qKlxuICAgKiBEZWNyZW1lbnQgYSBudW1lcmljIHZhbHVlLiBFYWNoIGVudHJ5IGluIHRoZSBhcmd1bWVudCBpcyBlaXRoZXIgYW4gYXR0cmlidXRlIG9yIGEgSlNPTiBwYXRoLiBUaGUgdmFsdWUgbWF5IGJlIGEgcG9zaXRpdmUgb3IgbmVnYXRpdmUgaW50ZWdlciBvciBmbG9hdGluZy1wb2ludCB2YWx1ZS4gVGhlIG9wZXJhdGlvbiB3aWxsIGZhaWwgaWYgdGFyZ2V0IHZhbHVlIGlzIG5vdCBhIG51bWVyaWMgdmFsdWUsIG9yIGRvZXNuJ3QgZXhpc3QuXG4gICAqXG4gICAqIEBwYXJhbSBhdHRycyAtIE9iamVjdCBvZiBhdHRyaWJ1dGUgcGF0aHMgdG8gZGVjcmVtZW50LCB2YWx1ZXMgcmVwcmVzZW50aW5nIHRoZSBudW1iZXIgdG8gZGVjcmVtZW50IGJ5LlxuICAgKi9cbiAgZGVjKGF0dHJzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Fzc2lnbihcImRlY1wiLCBhdHRycyk7XG4gIH1cbiAgLyoqXG4gICAqIFByb3ZpZGVzIG1ldGhvZHMgZm9yIG1vZGlmeWluZyBhcnJheXMsIGJ5IGluc2VydGluZywgYXBwZW5kaW5nIGFuZCByZXBsYWNpbmcgZWxlbWVudHMgdmlhIGEgSlNPTlBhdGggZXhwcmVzc2lvbi5cbiAgICpcbiAgICogQHBhcmFtIGF0IC0gTG9jYXRpb24gdG8gaW5zZXJ0IGF0LCByZWxhdGl2ZSB0byB0aGUgZ2l2ZW4gc2VsZWN0b3IsIG9yICdyZXBsYWNlJyB0aGUgbWF0Y2hlZCBwYXRoXG4gICAqIEBwYXJhbSBzZWxlY3RvciAtIEpTT05QYXRoIGV4cHJlc3Npb24sIGVnIGBjb21tZW50c1stMV1gIG9yIGBibG9ja3NbX2tleT09XCJhYmMxMjNcIl1gXG4gICAqIEBwYXJhbSBpdGVtcyAtIEFycmF5IG9mIGl0ZW1zIHRvIGluc2VydC9yZXBsYWNlXG4gICAqL1xuICBpbnNlcnQoYXQsIHNlbGVjdG9yLCBpdGVtcykge1xuICAgIHJldHVybiB2YWxpZGF0ZUluc2VydChhdCwgc2VsZWN0b3IsIGl0ZW1zKSwgdGhpcy5fYXNzaWduKFwiaW5zZXJ0XCIsIHsgW2F0XTogc2VsZWN0b3IsIGl0ZW1zIH0pO1xuICB9XG4gIC8qKlxuICAgKiBBcHBlbmQgdGhlIGdpdmVuIGl0ZW1zIHRvIHRoZSBhcnJheSBhdCB0aGUgZ2l2ZW4gSlNPTlBhdGhcbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdG9yIC0gQXR0cmlidXRlL3BhdGggdG8gYXBwZW5kIHRvLCBlZyBgY29tbWVudHNgIG9yIGBwZXJzb24uaG9iYmllc2BcbiAgICogQHBhcmFtIGl0ZW1zIC0gQXJyYXkgb2YgaXRlbXMgdG8gYXBwZW5kIHRvIHRoZSBhcnJheVxuICAgKi9cbiAgYXBwZW5kKHNlbGVjdG9yLCBpdGVtcykge1xuICAgIHJldHVybiB0aGlzLmluc2VydChcImFmdGVyXCIsIGAke3NlbGVjdG9yfVstMV1gLCBpdGVtcyk7XG4gIH1cbiAgLyoqXG4gICAqIFByZXBlbmQgdGhlIGdpdmVuIGl0ZW1zIHRvIHRoZSBhcnJheSBhdCB0aGUgZ2l2ZW4gSlNPTlBhdGhcbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdG9yIC0gQXR0cmlidXRlL3BhdGggdG8gcHJlcGVuZCB0bywgZWcgYGNvbW1lbnRzYCBvciBgcGVyc29uLmhvYmJpZXNgXG4gICAqIEBwYXJhbSBpdGVtcyAtIEFycmF5IG9mIGl0ZW1zIHRvIHByZXBlbmQgdG8gdGhlIGFycmF5XG4gICAqL1xuICBwcmVwZW5kKHNlbGVjdG9yLCBpdGVtcykge1xuICAgIHJldHVybiB0aGlzLmluc2VydChcImJlZm9yZVwiLCBgJHtzZWxlY3Rvcn1bMF1gLCBpdGVtcyk7XG4gIH1cbiAgLyoqXG4gICAqIENoYW5nZSB0aGUgY29udGVudHMgb2YgYW4gYXJyYXkgYnkgcmVtb3ZpbmcgZXhpc3RpbmcgZWxlbWVudHMgYW5kL29yIGFkZGluZyBuZXcgZWxlbWVudHMuXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RvciAtIEF0dHJpYnV0ZSBvciBKU09OUGF0aCBleHByZXNzaW9uIGZvciBhcnJheVxuICAgKiBAcGFyYW0gc3RhcnQgLSBJbmRleCBhdCB3aGljaCB0byBzdGFydCBjaGFuZ2luZyB0aGUgYXJyYXkgKHdpdGggb3JpZ2luIDApLiBJZiBncmVhdGVyIHRoYW4gdGhlIGxlbmd0aCBvZiB0aGUgYXJyYXksIGFjdHVhbCBzdGFydGluZyBpbmRleCB3aWxsIGJlIHNldCB0byB0aGUgbGVuZ3RoIG9mIHRoZSBhcnJheS4gSWYgbmVnYXRpdmUsIHdpbGwgYmVnaW4gdGhhdCBtYW55IGVsZW1lbnRzIGZyb20gdGhlIGVuZCBvZiB0aGUgYXJyYXkgKHdpdGggb3JpZ2luIC0xKSBhbmQgd2lsbCBiZSBzZXQgdG8gMCBpZiBhYnNvbHV0ZSB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gdGhlIGxlbmd0aCBvZiB0aGUgYXJyYXkueFxuICAgKiBAcGFyYW0gZGVsZXRlQ291bnQgLSBBbiBpbnRlZ2VyIGluZGljYXRpbmcgdGhlIG51bWJlciBvZiBvbGQgYXJyYXkgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgKiBAcGFyYW0gaXRlbXMgLSBUaGUgZWxlbWVudHMgdG8gYWRkIHRvIHRoZSBhcnJheSwgYmVnaW5uaW5nIGF0IHRoZSBzdGFydCBpbmRleC4gSWYgeW91IGRvbid0IHNwZWNpZnkgYW55IGVsZW1lbnRzLCBzcGxpY2UoKSB3aWxsIG9ubHkgcmVtb3ZlIGVsZW1lbnRzIGZyb20gdGhlIGFycmF5LlxuICAgKi9cbiAgc3BsaWNlKHNlbGVjdG9yLCBzdGFydCwgZGVsZXRlQ291bnQsIGl0ZW1zKSB7XG4gICAgY29uc3QgZGVsQWxsID0gdHlwZW9mIGRlbGV0ZUNvdW50ID4gXCJ1XCIgfHwgZGVsZXRlQ291bnQgPT09IC0xLCBzdGFydEluZGV4ID0gc3RhcnQgPCAwID8gc3RhcnQgLSAxIDogc3RhcnQsIGRlbENvdW50ID0gZGVsQWxsID8gLTEgOiBNYXRoLm1heCgwLCBzdGFydCArIGRlbGV0ZUNvdW50KSwgZGVsUmFuZ2UgPSBzdGFydEluZGV4IDwgMCAmJiBkZWxDb3VudCA+PSAwID8gXCJcIiA6IGRlbENvdW50LCByYW5nZVNlbGVjdG9yID0gYCR7c2VsZWN0b3J9WyR7c3RhcnRJbmRleH06JHtkZWxSYW5nZX1dYDtcbiAgICByZXR1cm4gdGhpcy5pbnNlcnQoXCJyZXBsYWNlXCIsIHJhbmdlU2VsZWN0b3IsIGl0ZW1zIHx8IFtdKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhIHJldmlzaW9uIGNsYXVzZSwgcHJldmVudGluZyB0aGUgZG9jdW1lbnQgZnJvbSBiZWluZyBwYXRjaGVkIGlmIHRoZSBgX3JldmAgcHJvcGVydHkgZG9lcyBub3QgbWF0Y2ggdGhlIGdpdmVuIHZhbHVlXG4gICAqXG4gICAqIEBwYXJhbSByZXYgLSBSZXZpc2lvbiB0byBsb2NrIHRoZSBwYXRjaCB0b1xuICAgKi9cbiAgaWZSZXZpc2lvbklkKHJldikge1xuICAgIHJldHVybiB0aGlzLm9wZXJhdGlvbnMuaWZSZXZpc2lvbklEID0gcmV2LCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYSBwbGFpbiBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwYXRjaFxuICAgKi9cbiAgc2VyaWFsaXplKCkge1xuICAgIHJldHVybiB7IC4uLmdldFNlbGVjdGlvbih0aGlzLnNlbGVjdGlvbiksIC4uLnRoaXMub3BlcmF0aW9ucyB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYSBwbGFpbiBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwYXRjaFxuICAgKi9cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB0aGlzLnNlcmlhbGl6ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIHBhdGNoIG9mIGFsbCBvcGVyYXRpb25zXG4gICAqL1xuICByZXNldCgpIHtcbiAgICByZXR1cm4gdGhpcy5vcGVyYXRpb25zID0ge30sIHRoaXM7XG4gIH1cbiAgX2Fzc2lnbihvcCwgcHJvcHMsIG1lcmdlID0gITApIHtcbiAgICByZXR1cm4gdmFsaWRhdGVPYmplY3Qob3AsIHByb3BzKSwgdGhpcy5vcGVyYXRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcGVyYXRpb25zLCB7XG4gICAgICBbb3BdOiBPYmplY3QuYXNzaWduKHt9LCBtZXJnZSAmJiB0aGlzLm9wZXJhdGlvbnNbb3BdIHx8IHt9LCBwcm9wcylcbiAgICB9KSwgdGhpcztcbiAgfVxuICBfc2V0KG9wLCBwcm9wcykge1xuICAgIHJldHVybiB0aGlzLl9hc3NpZ24ob3AsIHByb3BzLCAhMSk7XG4gIH1cbn1cbmNsYXNzIE9ic2VydmFibGVQYXRjaCBleHRlbmRzIEJhc2VQYXRjaCB7XG4gICNjbGllbnQ7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdGlvbiwgb3BlcmF0aW9ucywgY2xpZW50KSB7XG4gICAgc3VwZXIoc2VsZWN0aW9uLCBvcGVyYXRpb25zKSwgdGhpcy4jY2xpZW50ID0gY2xpZW50O1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHBhdGNoXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGVQYXRjaCh0aGlzLnNlbGVjdGlvbiwgeyAuLi50aGlzLm9wZXJhdGlvbnMgfSwgdGhpcy4jY2xpZW50KTtcbiAgfVxuICBjb21taXQob3B0aW9ucykge1xuICAgIGlmICghdGhpcy4jY2xpZW50KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIk5vIGBjbGllbnRgIHBhc3NlZCB0byBwYXRjaCwgZWl0aGVyIHByb3ZpZGUgb25lIG9yIHBhc3MgdGhlIHBhdGNoIHRvIGEgY2xpZW50cyBgbXV0YXRlKClgIG1ldGhvZFwiXG4gICAgICApO1xuICAgIGNvbnN0IHJldHVybkZpcnN0ID0gdHlwZW9mIHRoaXMuc2VsZWN0aW9uID09IFwic3RyaW5nXCIsIG9wdHMgPSBPYmplY3QuYXNzaWduKHsgcmV0dXJuRmlyc3QsIHJldHVybkRvY3VtZW50czogITAgfSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHRoaXMuI2NsaWVudC5tdXRhdGUoeyBwYXRjaDogdGhpcy5zZXJpYWxpemUoKSB9LCBvcHRzKTtcbiAgfVxufVxuY2xhc3MgUGF0Y2ggZXh0ZW5kcyBCYXNlUGF0Y2gge1xuICAjY2xpZW50O1xuICBjb25zdHJ1Y3RvcihzZWxlY3Rpb24sIG9wZXJhdGlvbnMsIGNsaWVudCkge1xuICAgIHN1cGVyKHNlbGVjdGlvbiwgb3BlcmF0aW9ucyksIHRoaXMuI2NsaWVudCA9IGNsaWVudDtcbiAgfVxuICAvKipcbiAgICogQ2xvbmVzIHRoZSBwYXRjaFxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBQYXRjaCh0aGlzLnNlbGVjdGlvbiwgeyAuLi50aGlzLm9wZXJhdGlvbnMgfSwgdGhpcy4jY2xpZW50KTtcbiAgfVxuICBjb21taXQob3B0aW9ucykge1xuICAgIGlmICghdGhpcy4jY2xpZW50KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIk5vIGBjbGllbnRgIHBhc3NlZCB0byBwYXRjaCwgZWl0aGVyIHByb3ZpZGUgb25lIG9yIHBhc3MgdGhlIHBhdGNoIHRvIGEgY2xpZW50cyBgbXV0YXRlKClgIG1ldGhvZFwiXG4gICAgICApO1xuICAgIGNvbnN0IHJldHVybkZpcnN0ID0gdHlwZW9mIHRoaXMuc2VsZWN0aW9uID09IFwic3RyaW5nXCIsIG9wdHMgPSBPYmplY3QuYXNzaWduKHsgcmV0dXJuRmlyc3QsIHJldHVybkRvY3VtZW50czogITAgfSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHRoaXMuI2NsaWVudC5tdXRhdGUoeyBwYXRjaDogdGhpcy5zZXJpYWxpemUoKSB9LCBvcHRzKTtcbiAgfVxufVxuY29uc3QgZGVmYXVsdE11dGF0ZU9wdGlvbnMgPSB7IHJldHVybkRvY3VtZW50czogITEgfTtcbmNsYXNzIEJhc2VUcmFuc2FjdGlvbiB7XG4gIG9wZXJhdGlvbnM7XG4gIHRyeElkO1xuICBjb25zdHJ1Y3RvcihvcGVyYXRpb25zID0gW10sIHRyYW5zYWN0aW9uSWQpIHtcbiAgICB0aGlzLm9wZXJhdGlvbnMgPSBvcGVyYXRpb25zLCB0aGlzLnRyeElkID0gdHJhbnNhY3Rpb25JZDtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBTYW5pdHkgZG9jdW1lbnQuIElmIGBfaWRgIGlzIHByb3ZpZGVkIGFuZCBhbHJlYWR5IGV4aXN0cywgdGhlIG11dGF0aW9uIHdpbGwgZmFpbC4gSWYgbm8gYF9pZGAgaXMgZ2l2ZW4sIG9uZSB3aWxsIGF1dG9tYXRpY2FsbHkgYmUgZ2VuZXJhdGVkIGJ5IHRoZSBkYXRhYmFzZS5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCB0cmFuc2FjdGlvbiwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gZG9jIC0gRG9jdW1lbnQgdG8gY3JlYXRlLiBSZXF1aXJlcyBhIGBfdHlwZWAgcHJvcGVydHkuXG4gICAqL1xuICBjcmVhdGUoZG9jKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRlT2JqZWN0KFwiY3JlYXRlXCIsIGRvYyksIHRoaXMuX2FkZCh7IGNyZWF0ZTogZG9jIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFNhbml0eSBkb2N1bWVudC4gSWYgYSBkb2N1bWVudCB3aXRoIHRoZSBzYW1lIGBfaWRgIGFscmVhZHkgZXhpc3RzLCB0aGUgY3JlYXRlIG9wZXJhdGlvbiB3aWxsIGJlIGlnbm9yZWQuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24sIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGRvYyAtIERvY3VtZW50IHRvIGNyZWF0ZSBpZiBpdCBkb2VzIG5vdCBhbHJlYWR5IGV4aXN0LiBSZXF1aXJlcyBgX2lkYCBhbmQgYF90eXBlYCBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgY3JlYXRlSWZOb3RFeGlzdHMoZG9jKSB7XG4gICAgY29uc3Qgb3AgPSBcImNyZWF0ZUlmTm90RXhpc3RzXCI7XG4gICAgcmV0dXJuIHZhbGlkYXRlT2JqZWN0KG9wLCBkb2MpLCByZXF1aXJlRG9jdW1lbnRJZChvcCwgZG9jKSwgdGhpcy5fYWRkKHsgW29wXTogZG9jIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFNhbml0eSBkb2N1bWVudCwgb3IgcmVwbGFjZXMgYW4gZXhpc3Rpbmcgb25lIGlmIHRoZSBzYW1lIGBfaWRgIGlzIGFscmVhZHkgdXNlZC5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCB0cmFuc2FjdGlvbiwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gZG9jIC0gRG9jdW1lbnQgdG8gY3JlYXRlIG9yIHJlcGxhY2UuIFJlcXVpcmVzIGBfaWRgIGFuZCBgX3R5cGVgIHByb3BlcnRpZXMuXG4gICAqL1xuICBjcmVhdGVPclJlcGxhY2UoZG9jKSB7XG4gICAgY29uc3Qgb3AgPSBcImNyZWF0ZU9yUmVwbGFjZVwiO1xuICAgIHJldHVybiB2YWxpZGF0ZU9iamVjdChvcCwgZG9jKSwgcmVxdWlyZURvY3VtZW50SWQob3AsIGRvYyksIHRoaXMuX2FkZCh7IFtvcF06IGRvYyB9KTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlcyB0aGUgZG9jdW1lbnQgd2l0aCB0aGUgZ2l2ZW4gZG9jdW1lbnQgSURcbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCB0cmFuc2FjdGlvbiwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gZG9jdW1lbnRJZCAtIERvY3VtZW50IElEIHRvIGRlbGV0ZVxuICAgKi9cbiAgZGVsZXRlKGRvY3VtZW50SWQpIHtcbiAgICByZXR1cm4gdmFsaWRhdGVEb2N1bWVudElkKFwiZGVsZXRlXCIsIGRvY3VtZW50SWQpLCB0aGlzLl9hZGQoeyBkZWxldGU6IHsgaWQ6IGRvY3VtZW50SWQgfSB9KTtcbiAgfVxuICB0cmFuc2FjdGlvbklkKGlkKSB7XG4gICAgcmV0dXJuIGlkID8gKHRoaXMudHJ4SWQgPSBpZCwgdGhpcykgOiB0aGlzLnRyeElkO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYSBwbGFpbiBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0cmFuc2FjdGlvblxuICAgKi9cbiAgc2VyaWFsaXplKCkge1xuICAgIHJldHVybiBbLi4udGhpcy5vcGVyYXRpb25zXTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGEgcGxhaW4gSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgdHJhbnNhY3Rpb25cbiAgICovXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gdGhpcy5zZXJpYWxpemUoKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIHRoZSB0cmFuc2FjdGlvbiBvZiBhbGwgb3BlcmF0aW9uc1xuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMub3BlcmF0aW9ucyA9IFtdLCB0aGlzO1xuICB9XG4gIF9hZGQobXV0KSB7XG4gICAgcmV0dXJuIHRoaXMub3BlcmF0aW9ucy5wdXNoKG11dCksIHRoaXM7XG4gIH1cbn1cbmNsYXNzIFRyYW5zYWN0aW9uIGV4dGVuZHMgQmFzZVRyYW5zYWN0aW9uIHtcbiAgI2NsaWVudDtcbiAgY29uc3RydWN0b3Iob3BlcmF0aW9ucywgY2xpZW50LCB0cmFuc2FjdGlvbklkKSB7XG4gICAgc3VwZXIob3BlcmF0aW9ucywgdHJhbnNhY3Rpb25JZCksIHRoaXMuI2NsaWVudCA9IGNsaWVudDtcbiAgfVxuICAvKipcbiAgICogQ2xvbmVzIHRoZSB0cmFuc2FjdGlvblxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbihbLi4udGhpcy5vcGVyYXRpb25zXSwgdGhpcy4jY2xpZW50LCB0aGlzLnRyeElkKTtcbiAgfVxuICBjb21taXQob3B0aW9ucykge1xuICAgIGlmICghdGhpcy4jY2xpZW50KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIk5vIGBjbGllbnRgIHBhc3NlZCB0byB0cmFuc2FjdGlvbiwgZWl0aGVyIHByb3ZpZGUgb25lIG9yIHBhc3MgdGhlIHRyYW5zYWN0aW9uIHRvIGEgY2xpZW50cyBgbXV0YXRlKClgIG1ldGhvZFwiXG4gICAgICApO1xuICAgIHJldHVybiB0aGlzLiNjbGllbnQubXV0YXRlKFxuICAgICAgdGhpcy5zZXJpYWxpemUoKSxcbiAgICAgIE9iamVjdC5hc3NpZ24oeyB0cmFuc2FjdGlvbklkOiB0aGlzLnRyeElkIH0sIGRlZmF1bHRNdXRhdGVPcHRpb25zLCBvcHRpb25zIHx8IHt9KVxuICAgICk7XG4gIH1cbiAgcGF0Y2gocGF0Y2hPckRvY3VtZW50SWQsIHBhdGNoT3BzKSB7XG4gICAgY29uc3QgaXNCdWlsZGVyID0gdHlwZW9mIHBhdGNoT3BzID09IFwiZnVuY3Rpb25cIjtcbiAgICBpZiAodHlwZW9mIHBhdGNoT3JEb2N1bWVudElkICE9IFwic3RyaW5nXCIgJiYgcGF0Y2hPckRvY3VtZW50SWQgaW5zdGFuY2VvZiBQYXRjaClcbiAgICAgIHJldHVybiB0aGlzLl9hZGQoeyBwYXRjaDogcGF0Y2hPckRvY3VtZW50SWQuc2VyaWFsaXplKCkgfSk7XG4gICAgaWYgKGlzQnVpbGRlcikge1xuICAgICAgY29uc3QgcGF0Y2ggPSBwYXRjaE9wcyhuZXcgUGF0Y2gocGF0Y2hPckRvY3VtZW50SWQsIHt9LCB0aGlzLiNjbGllbnQpKTtcbiAgICAgIGlmICghKHBhdGNoIGluc3RhbmNlb2YgUGF0Y2gpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJmdW5jdGlvbiBwYXNzZWQgdG8gYHBhdGNoKClgIG11c3QgcmV0dXJuIHRoZSBwYXRjaFwiKTtcbiAgICAgIHJldHVybiB0aGlzLl9hZGQoeyBwYXRjaDogcGF0Y2guc2VyaWFsaXplKCkgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9hZGQoeyBwYXRjaDogeyBpZDogcGF0Y2hPckRvY3VtZW50SWQsIC4uLnBhdGNoT3BzIH0gfSk7XG4gIH1cbn1cbmNsYXNzIE9ic2VydmFibGVUcmFuc2FjdGlvbiBleHRlbmRzIEJhc2VUcmFuc2FjdGlvbiB7XG4gICNjbGllbnQ7XG4gIGNvbnN0cnVjdG9yKG9wZXJhdGlvbnMsIGNsaWVudCwgdHJhbnNhY3Rpb25JZCkge1xuICAgIHN1cGVyKG9wZXJhdGlvbnMsIHRyYW5zYWN0aW9uSWQpLCB0aGlzLiNjbGllbnQgPSBjbGllbnQ7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgdHJhbnNhY3Rpb25cbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVRyYW5zYWN0aW9uKFsuLi50aGlzLm9wZXJhdGlvbnNdLCB0aGlzLiNjbGllbnQsIHRoaXMudHJ4SWQpO1xuICB9XG4gIGNvbW1pdChvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLiNjbGllbnQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiTm8gYGNsaWVudGAgcGFzc2VkIHRvIHRyYW5zYWN0aW9uLCBlaXRoZXIgcHJvdmlkZSBvbmUgb3IgcGFzcyB0aGUgdHJhbnNhY3Rpb24gdG8gYSBjbGllbnRzIGBtdXRhdGUoKWAgbWV0aG9kXCJcbiAgICAgICk7XG4gICAgcmV0dXJuIHRoaXMuI2NsaWVudC5tdXRhdGUoXG4gICAgICB0aGlzLnNlcmlhbGl6ZSgpLFxuICAgICAgT2JqZWN0LmFzc2lnbih7IHRyYW5zYWN0aW9uSWQ6IHRoaXMudHJ4SWQgfSwgZGVmYXVsdE11dGF0ZU9wdGlvbnMsIG9wdGlvbnMgfHwge30pXG4gICAgKTtcbiAgfVxuICBwYXRjaChwYXRjaE9yRG9jdW1lbnRJZCwgcGF0Y2hPcHMpIHtcbiAgICBjb25zdCBpc0J1aWxkZXIgPSB0eXBlb2YgcGF0Y2hPcHMgPT0gXCJmdW5jdGlvblwiO1xuICAgIGlmICh0eXBlb2YgcGF0Y2hPckRvY3VtZW50SWQgIT0gXCJzdHJpbmdcIiAmJiBwYXRjaE9yRG9jdW1lbnRJZCBpbnN0YW5jZW9mIE9ic2VydmFibGVQYXRjaClcbiAgICAgIHJldHVybiB0aGlzLl9hZGQoeyBwYXRjaDogcGF0Y2hPckRvY3VtZW50SWQuc2VyaWFsaXplKCkgfSk7XG4gICAgaWYgKGlzQnVpbGRlcikge1xuICAgICAgY29uc3QgcGF0Y2ggPSBwYXRjaE9wcyhuZXcgT2JzZXJ2YWJsZVBhdGNoKHBhdGNoT3JEb2N1bWVudElkLCB7fSwgdGhpcy4jY2xpZW50KSk7XG4gICAgICBpZiAoIShwYXRjaCBpbnN0YW5jZW9mIE9ic2VydmFibGVQYXRjaCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImZ1bmN0aW9uIHBhc3NlZCB0byBgcGF0Y2goKWAgbXVzdCByZXR1cm4gdGhlIHBhdGNoXCIpO1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZCh7IHBhdGNoOiBwYXRjaC5zZXJpYWxpemUoKSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2FkZCh7IHBhdGNoOiB7IGlkOiBwYXRjaE9yRG9jdW1lbnRJZCwgLi4ucGF0Y2hPcHMgfSB9KTtcbiAgfVxufVxuY29uc3QgcHJvamVjdEhlYWRlciA9IFwiWC1TYW5pdHktUHJvamVjdC1JRFwiO1xuZnVuY3Rpb24gcmVxdWVzdE9wdGlvbnMoY29uZmlnLCBvdmVycmlkZXMgPSB7fSkge1xuICBjb25zdCBoZWFkZXJzID0ge30sIHRva2VuID0gb3ZlcnJpZGVzLnRva2VuIHx8IGNvbmZpZy50b2tlbjtcbiAgdG9rZW4gJiYgKGhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGBCZWFyZXIgJHt0b2tlbn1gKSwgIW92ZXJyaWRlcy51c2VHbG9iYWxBcGkgJiYgIWNvbmZpZy51c2VQcm9qZWN0SG9zdG5hbWUgJiYgY29uZmlnLnByb2plY3RJZCAmJiAoaGVhZGVyc1twcm9qZWN0SGVhZGVyXSA9IGNvbmZpZy5wcm9qZWN0SWQpO1xuICBjb25zdCB3aXRoQ3JlZGVudGlhbHMgPSAhISh0eXBlb2Ygb3ZlcnJpZGVzLndpdGhDcmVkZW50aWFscyA+IFwidVwiID8gY29uZmlnLnRva2VuIHx8IGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgOiBvdmVycmlkZXMud2l0aENyZWRlbnRpYWxzKSwgdGltZW91dCA9IHR5cGVvZiBvdmVycmlkZXMudGltZW91dCA+IFwidVwiID8gY29uZmlnLnRpbWVvdXQgOiBvdmVycmlkZXMudGltZW91dDtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIG92ZXJyaWRlcywge1xuICAgIGhlYWRlcnM6IE9iamVjdC5hc3NpZ24oe30sIGhlYWRlcnMsIG92ZXJyaWRlcy5oZWFkZXJzIHx8IHt9KSxcbiAgICB0aW1lb3V0OiB0eXBlb2YgdGltZW91dCA+IFwidVwiID8gNSAqIDYwICogMWUzIDogdGltZW91dCxcbiAgICBwcm94eTogb3ZlcnJpZGVzLnByb3h5IHx8IGNvbmZpZy5wcm94eSxcbiAgICBqc29uOiAhMCxcbiAgICB3aXRoQ3JlZGVudGlhbHMsXG4gICAgZmV0Y2g6IHR5cGVvZiBvdmVycmlkZXMuZmV0Y2ggPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgY29uZmlnLmZldGNoID09IFwib2JqZWN0XCIgPyB7IC4uLmNvbmZpZy5mZXRjaCwgLi4ub3ZlcnJpZGVzLmZldGNoIH0gOiBvdmVycmlkZXMuZmV0Y2ggfHwgY29uZmlnLmZldGNoXG4gIH0pO1xufVxuY29uc3QgZW5jb2RlUXVlcnlTdHJpbmcgPSAoe1xuICBxdWVyeSxcbiAgcGFyYW1zID0ge30sXG4gIG9wdGlvbnMgPSB7fVxufSkgPT4ge1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCksIHsgdGFnLCBpbmNsdWRlTXV0YXRpb25zLCByZXR1cm5RdWVyeSwgLi4ub3B0cyB9ID0gb3B0aW9ucztcbiAgdGFnICYmIHNlYXJjaFBhcmFtcy5hcHBlbmQoXCJ0YWdcIiwgdGFnKSwgc2VhcmNoUGFyYW1zLmFwcGVuZChcInF1ZXJ5XCIsIHF1ZXJ5KTtcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocGFyYW1zKSlcbiAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKGAkJHtrZXl9YCwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMob3B0cykpXG4gICAgdmFsdWUgJiYgc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIGAke3ZhbHVlfWApO1xuICByZXR1cm4gcmV0dXJuUXVlcnkgPT09ICExICYmIHNlYXJjaFBhcmFtcy5hcHBlbmQoXCJyZXR1cm5RdWVyeVwiLCBcImZhbHNlXCIpLCBpbmNsdWRlTXV0YXRpb25zID09PSAhMSAmJiBzZWFyY2hQYXJhbXMuYXBwZW5kKFwiaW5jbHVkZU11dGF0aW9uc1wiLCBcImZhbHNlXCIpLCBgPyR7c2VhcmNoUGFyYW1zfWA7XG59LCBleGNsdWRlRmFsc2V5ID0gKHBhcmFtLCBkZWZWYWx1ZSkgPT4gcGFyYW0gPT09ICExID8gdm9pZCAwIDogdHlwZW9mIHBhcmFtID4gXCJ1XCIgPyBkZWZWYWx1ZSA6IHBhcmFtLCBnZXRNdXRhdGlvblF1ZXJ5ID0gKG9wdGlvbnMgPSB7fSkgPT4gKHtcbiAgZHJ5UnVuOiBvcHRpb25zLmRyeVJ1bixcbiAgcmV0dXJuSWRzOiAhMCxcbiAgcmV0dXJuRG9jdW1lbnRzOiBleGNsdWRlRmFsc2V5KG9wdGlvbnMucmV0dXJuRG9jdW1lbnRzLCAhMCksXG4gIHZpc2liaWxpdHk6IG9wdGlvbnMudmlzaWJpbGl0eSB8fCBcInN5bmNcIixcbiAgYXV0b0dlbmVyYXRlQXJyYXlLZXlzOiBvcHRpb25zLmF1dG9HZW5lcmF0ZUFycmF5S2V5cyxcbiAgc2tpcENyb3NzRGF0YXNldFJlZmVyZW5jZVZhbGlkYXRpb246IG9wdGlvbnMuc2tpcENyb3NzRGF0YXNldFJlZmVyZW5jZVZhbGlkYXRpb25cbn0pLCBpc1Jlc3BvbnNlID0gKGV2ZW50KSA9PiBldmVudC50eXBlID09PSBcInJlc3BvbnNlXCIsIGdldEJvZHkgPSAoZXZlbnQpID0+IGV2ZW50LmJvZHksIGluZGV4QnkgPSAoZG9jcywgYXR0cikgPT4gZG9jcy5yZWR1Y2UoKGluZGV4ZWQsIGRvYykgPT4gKGluZGV4ZWRbYXR0cihkb2MpXSA9IGRvYywgaW5kZXhlZCksIC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpKSwgZ2V0UXVlcnlTaXplTGltaXQgPSAxMTI2NDtcbmZ1bmN0aW9uIF9mZXRjaChjbGllbnQsIGh0dHBSZXF1ZXN0LCBfc3RlZ2EsIHF1ZXJ5LCBfcGFyYW1zID0ge30sIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBzdGVnYSA9IFwic3RlZ2FcIiBpbiBvcHRpb25zID8ge1xuICAgIC4uLl9zdGVnYSB8fCB7fSxcbiAgICAuLi50eXBlb2Ygb3B0aW9ucy5zdGVnYSA9PSBcImJvb2xlYW5cIiA/IHsgZW5hYmxlZDogb3B0aW9ucy5zdGVnYSB9IDogb3B0aW9ucy5zdGVnYSB8fCB7fVxuICB9IDogX3N0ZWdhLCBwYXJhbXMgPSBzdGVnYS5lbmFibGVkID8gc3RlZ2FDbGVhbihfcGFyYW1zKSA6IF9wYXJhbXMsIG1hcFJlc3BvbnNlID0gb3B0aW9ucy5maWx0ZXJSZXNwb25zZSA9PT0gITEgPyAocmVzKSA9PiByZXMgOiAocmVzKSA9PiByZXMucmVzdWx0LCB7IGNhY2hlLCBuZXh0LCAuLi5vcHRzIH0gPSB7XG4gICAgLy8gT3B0IG91dCBvZiBzZXR0aW5nIGEgYHNpZ25hbGAgb24gYW4gaW50ZXJuYWwgYGZldGNoYCBpZiBvbmUgaXNuJ3QgcHJvdmlkZWQuXG4gICAgLy8gVGhpcyBpcyBuZWNlc3NhcnkgaW4gUmVhY3QgU2VydmVyIENvbXBvbmVudHMgdG8gYXZvaWQgb3B0aW5nIG91dCBvZiBSZXF1ZXN0IE1lbW9pemF0aW9uLlxuICAgIHVzZUFib3J0U2lnbmFsOiB0eXBlb2Ygb3B0aW9ucy5zaWduYWwgPCBcInVcIixcbiAgICAvLyBTZXQgYHJlc3VsdFNvdXJjZU1hcCcgd2hlbiBzdGVnYSBpcyBlbmFibGVkLCBhcyBpdCdzIHJlcXVpcmVkIGZvciBlbmNvZGluZy5cbiAgICByZXN1bHRTb3VyY2VNYXA6IHN0ZWdhLmVuYWJsZWQgPyBcIndpdGhLZXlBcnJheVNlbGVjdG9yXCIgOiBvcHRpb25zLnJlc3VsdFNvdXJjZU1hcCxcbiAgICAuLi5vcHRpb25zLFxuICAgIC8vIERlZmF1bHQgdG8gbm90IHJldHVybmluZyB0aGUgcXVlcnksIHVubGVzcyBgZmlsdGVyUmVzcG9uc2VgIGlzIGBmYWxzZWAsXG4gICAgLy8gb3IgYHJldHVyblF1ZXJ5YCBpcyBleHBsaWNpdGx5IHNldC4gYHRydWVgIGlzIHRoZSBkZWZhdWx0IGluIENvbnRlbnQgTGFrZSwgc28gc2tpcCBpZiB0cnV0aHlcbiAgICByZXR1cm5RdWVyeTogb3B0aW9ucy5maWx0ZXJSZXNwb25zZSA9PT0gITEgJiYgb3B0aW9ucy5yZXR1cm5RdWVyeSAhPT0gITFcbiAgfSwgcmVxT3B0cyA9IHR5cGVvZiBjYWNoZSA8IFwidVwiIHx8IHR5cGVvZiBuZXh0IDwgXCJ1XCIgPyB7IC4uLm9wdHMsIGZldGNoOiB7IGNhY2hlLCBuZXh0IH0gfSA6IG9wdHMsICRyZXF1ZXN0ID0gX2RhdGFSZXF1ZXN0KGNsaWVudCwgaHR0cFJlcXVlc3QsIFwicXVlcnlcIiwgeyBxdWVyeSwgcGFyYW1zIH0sIHJlcU9wdHMpO1xuICByZXR1cm4gc3RlZ2EuZW5hYmxlZCA/ICRyZXF1ZXN0LnBpcGUoXG4gICAgY29tYmluZUxhdGVzdFdpdGgoXG4gICAgICBmcm9tKFxuICAgICAgICBpbXBvcnQoXCIuL19jaHVua3MtZXMvc3RlZ2FFbmNvZGVTb3VyY2VNYXAuanNcIikudGhlbihmdW5jdGlvbihuKSB7XG4gICAgICAgICAgcmV0dXJuIG4uc3RlZ2FFbmNvZGVTb3VyY2VNYXAkMTtcbiAgICAgICAgfSkudGhlbihcbiAgICAgICAgICAoeyBzdGVnYUVuY29kZVNvdXJjZU1hcCB9KSA9PiBzdGVnYUVuY29kZVNvdXJjZU1hcFxuICAgICAgICApXG4gICAgICApXG4gICAgKSxcbiAgICBtYXAoXG4gICAgICAoW3Jlcywgc3RlZ2FFbmNvZGVTb3VyY2VNYXBdKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHN0ZWdhRW5jb2RlU291cmNlTWFwKHJlcy5yZXN1bHQsIHJlcy5yZXN1bHRTb3VyY2VNYXAsIHN0ZWdhKTtcbiAgICAgICAgcmV0dXJuIG1hcFJlc3BvbnNlKHsgLi4ucmVzLCByZXN1bHQgfSk7XG4gICAgICB9XG4gICAgKVxuICApIDogJHJlcXVlc3QucGlwZShtYXAobWFwUmVzcG9uc2UpKTtcbn1cbmZ1bmN0aW9uIF9nZXREb2N1bWVudChjbGllbnQsIGh0dHBSZXF1ZXN0LCBpZCwgb3B0cyA9IHt9KSB7XG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgdXJpOiBfZ2V0RGF0YVVybChjbGllbnQsIFwiZG9jXCIsIGlkKSxcbiAgICBqc29uOiAhMCxcbiAgICB0YWc6IG9wdHMudGFnLFxuICAgIHNpZ25hbDogb3B0cy5zaWduYWxcbiAgfTtcbiAgcmV0dXJuIF9yZXF1ZXN0T2JzZXJ2YWJsZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBvcHRpb25zKS5waXBlKFxuICAgIGZpbHRlcihpc1Jlc3BvbnNlKSxcbiAgICBtYXAoKGV2ZW50KSA9PiBldmVudC5ib2R5LmRvY3VtZW50cyAmJiBldmVudC5ib2R5LmRvY3VtZW50c1swXSlcbiAgKTtcbn1cbmZ1bmN0aW9uIF9nZXREb2N1bWVudHMoY2xpZW50LCBodHRwUmVxdWVzdCwgaWRzLCBvcHRzID0ge30pIHtcbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICB1cmk6IF9nZXREYXRhVXJsKGNsaWVudCwgXCJkb2NcIiwgaWRzLmpvaW4oXCIsXCIpKSxcbiAgICBqc29uOiAhMCxcbiAgICB0YWc6IG9wdHMudGFnLFxuICAgIHNpZ25hbDogb3B0cy5zaWduYWxcbiAgfTtcbiAgcmV0dXJuIF9yZXF1ZXN0T2JzZXJ2YWJsZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBvcHRpb25zKS5waXBlKFxuICAgIGZpbHRlcihpc1Jlc3BvbnNlKSxcbiAgICBtYXAoKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBpbmRleGVkID0gaW5kZXhCeShldmVudC5ib2R5LmRvY3VtZW50cyB8fCBbXSwgKGRvYykgPT4gZG9jLl9pZCk7XG4gICAgICByZXR1cm4gaWRzLm1hcCgoaWQpID0+IGluZGV4ZWRbaWRdIHx8IG51bGwpO1xuICAgIH0pXG4gICk7XG59XG5mdW5jdGlvbiBfY3JlYXRlSWZOb3RFeGlzdHMoY2xpZW50LCBodHRwUmVxdWVzdCwgZG9jLCBvcHRpb25zKSB7XG4gIHJldHVybiByZXF1aXJlRG9jdW1lbnRJZChcImNyZWF0ZUlmTm90RXhpc3RzXCIsIGRvYyksIF9jcmVhdGUoY2xpZW50LCBodHRwUmVxdWVzdCwgZG9jLCBcImNyZWF0ZUlmTm90RXhpc3RzXCIsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gX2NyZWF0ZU9yUmVwbGFjZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBkb2MsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHJlcXVpcmVEb2N1bWVudElkKFwiY3JlYXRlT3JSZXBsYWNlXCIsIGRvYyksIF9jcmVhdGUoY2xpZW50LCBodHRwUmVxdWVzdCwgZG9jLCBcImNyZWF0ZU9yUmVwbGFjZVwiLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIF9kZWxldGUoY2xpZW50LCBodHRwUmVxdWVzdCwgc2VsZWN0aW9uLCBvcHRpb25zKSB7XG4gIHJldHVybiBfZGF0YVJlcXVlc3QoXG4gICAgY2xpZW50LFxuICAgIGh0dHBSZXF1ZXN0LFxuICAgIFwibXV0YXRlXCIsXG4gICAgeyBtdXRhdGlvbnM6IFt7IGRlbGV0ZTogZ2V0U2VsZWN0aW9uKHNlbGVjdGlvbikgfV0gfSxcbiAgICBvcHRpb25zXG4gICk7XG59XG5mdW5jdGlvbiBfbXV0YXRlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG11dGF0aW9ucywgb3B0aW9ucykge1xuICBsZXQgbXV0O1xuICBtdXRhdGlvbnMgaW5zdGFuY2VvZiBQYXRjaCB8fCBtdXRhdGlvbnMgaW5zdGFuY2VvZiBPYnNlcnZhYmxlUGF0Y2ggPyBtdXQgPSB7IHBhdGNoOiBtdXRhdGlvbnMuc2VyaWFsaXplKCkgfSA6IG11dGF0aW9ucyBpbnN0YW5jZW9mIFRyYW5zYWN0aW9uIHx8IG11dGF0aW9ucyBpbnN0YW5jZW9mIE9ic2VydmFibGVUcmFuc2FjdGlvbiA/IG11dCA9IG11dGF0aW9ucy5zZXJpYWxpemUoKSA6IG11dCA9IG11dGF0aW9ucztcbiAgY29uc3QgbXV0cyA9IEFycmF5LmlzQXJyYXkobXV0KSA/IG11dCA6IFttdXRdLCB0cmFuc2FjdGlvbklkID0gb3B0aW9ucyAmJiBvcHRpb25zLnRyYW5zYWN0aW9uSWQgfHwgdm9pZCAwO1xuICByZXR1cm4gX2RhdGFSZXF1ZXN0KGNsaWVudCwgaHR0cFJlcXVlc3QsIFwibXV0YXRlXCIsIHsgbXV0YXRpb25zOiBtdXRzLCB0cmFuc2FjdGlvbklkIH0sIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gX2FjdGlvbihjbGllbnQsIGh0dHBSZXF1ZXN0LCBhY3Rpb25zLCBvcHRpb25zKSB7XG4gIGNvbnN0IGFjdHMgPSBBcnJheS5pc0FycmF5KGFjdGlvbnMpID8gYWN0aW9ucyA6IFthY3Rpb25zXSwgdHJhbnNhY3Rpb25JZCA9IG9wdGlvbnMgJiYgb3B0aW9ucy50cmFuc2FjdGlvbklkIHx8IHZvaWQgMCwgc2tpcENyb3NzRGF0YXNldFJlZmVyZW5jZVZhbGlkYXRpb24gPSBvcHRpb25zICYmIG9wdGlvbnMuc2tpcENyb3NzRGF0YXNldFJlZmVyZW5jZVZhbGlkYXRpb24gfHwgdm9pZCAwLCBkcnlSdW4gPSBvcHRpb25zICYmIG9wdGlvbnMuZHJ5UnVuIHx8IHZvaWQgMDtcbiAgcmV0dXJuIF9kYXRhUmVxdWVzdChcbiAgICBjbGllbnQsXG4gICAgaHR0cFJlcXVlc3QsXG4gICAgXCJhY3Rpb25zXCIsXG4gICAgeyBhY3Rpb25zOiBhY3RzLCB0cmFuc2FjdGlvbklkLCBza2lwQ3Jvc3NEYXRhc2V0UmVmZXJlbmNlVmFsaWRhdGlvbiwgZHJ5UnVuIH0sXG4gICAgb3B0aW9uc1xuICApO1xufVxuZnVuY3Rpb24gX2RhdGFSZXF1ZXN0KGNsaWVudCwgaHR0cFJlcXVlc3QsIGVuZHBvaW50LCBib2R5LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgaXNNdXRhdGlvbiA9IGVuZHBvaW50ID09PSBcIm11dGF0ZVwiLCBpc0FjdGlvbiA9IGVuZHBvaW50ID09PSBcImFjdGlvbnNcIiwgaXNRdWVyeSA9IGVuZHBvaW50ID09PSBcInF1ZXJ5XCIsIHN0clF1ZXJ5ID0gaXNNdXRhdGlvbiB8fCBpc0FjdGlvbiA/IFwiXCIgOiBlbmNvZGVRdWVyeVN0cmluZyhib2R5KSwgdXNlR2V0ID0gIWlzTXV0YXRpb24gJiYgIWlzQWN0aW9uICYmIHN0clF1ZXJ5Lmxlbmd0aCA8IGdldFF1ZXJ5U2l6ZUxpbWl0LCBzdHJpbmdRdWVyeSA9IHVzZUdldCA/IHN0clF1ZXJ5IDogXCJcIiwgcmV0dXJuRmlyc3QgPSBvcHRpb25zLnJldHVybkZpcnN0LCB7IHRpbWVvdXQsIHRva2VuLCB0YWcsIGhlYWRlcnMsIHJldHVyblF1ZXJ5LCBsYXN0TGl2ZUV2ZW50SWQsIGNhY2hlTW9kZSB9ID0gb3B0aW9ucywgdXJpID0gX2dldERhdGFVcmwoY2xpZW50LCBlbmRwb2ludCwgc3RyaW5nUXVlcnkpLCByZXFPcHRpb25zID0ge1xuICAgIG1ldGhvZDogdXNlR2V0ID8gXCJHRVRcIiA6IFwiUE9TVFwiLFxuICAgIHVyaSxcbiAgICBqc29uOiAhMCxcbiAgICBib2R5OiB1c2VHZXQgPyB2b2lkIDAgOiBib2R5LFxuICAgIHF1ZXJ5OiBpc011dGF0aW9uICYmIGdldE11dGF0aW9uUXVlcnkob3B0aW9ucyksXG4gICAgdGltZW91dCxcbiAgICBoZWFkZXJzLFxuICAgIHRva2VuLFxuICAgIHRhZyxcbiAgICByZXR1cm5RdWVyeSxcbiAgICBwZXJzcGVjdGl2ZTogb3B0aW9ucy5wZXJzcGVjdGl2ZSxcbiAgICByZXN1bHRTb3VyY2VNYXA6IG9wdGlvbnMucmVzdWx0U291cmNlTWFwLFxuICAgIGxhc3RMaXZlRXZlbnRJZDogQXJyYXkuaXNBcnJheShsYXN0TGl2ZUV2ZW50SWQpID8gbGFzdExpdmVFdmVudElkWzBdIDogbGFzdExpdmVFdmVudElkLFxuICAgIGNhY2hlTW9kZSxcbiAgICBjYW5Vc2VDZG46IGlzUXVlcnksXG4gICAgc2lnbmFsOiBvcHRpb25zLnNpZ25hbCxcbiAgICBmZXRjaDogb3B0aW9ucy5mZXRjaCxcbiAgICB1c2VBYm9ydFNpZ25hbDogb3B0aW9ucy51c2VBYm9ydFNpZ25hbCxcbiAgICB1c2VDZG46IG9wdGlvbnMudXNlQ2RuXG4gIH07XG4gIHJldHVybiBfcmVxdWVzdE9ic2VydmFibGUoY2xpZW50LCBodHRwUmVxdWVzdCwgcmVxT3B0aW9ucykucGlwZShcbiAgICBmaWx0ZXIoaXNSZXNwb25zZSksXG4gICAgbWFwKGdldEJvZHkpLFxuICAgIG1hcCgocmVzKSA9PiB7XG4gICAgICBpZiAoIWlzTXV0YXRpb24pXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICBjb25zdCByZXN1bHRzID0gcmVzLnJlc3VsdHMgfHwgW107XG4gICAgICBpZiAob3B0aW9ucy5yZXR1cm5Eb2N1bWVudHMpXG4gICAgICAgIHJldHVybiByZXR1cm5GaXJzdCA/IHJlc3VsdHNbMF0gJiYgcmVzdWx0c1swXS5kb2N1bWVudCA6IHJlc3VsdHMubWFwKChtdXQpID0+IG11dC5kb2N1bWVudCk7XG4gICAgICBjb25zdCBrZXkgPSByZXR1cm5GaXJzdCA/IFwiZG9jdW1lbnRJZFwiIDogXCJkb2N1bWVudElkc1wiLCBpZHMgPSByZXR1cm5GaXJzdCA/IHJlc3VsdHNbMF0gJiYgcmVzdWx0c1swXS5pZCA6IHJlc3VsdHMubWFwKChtdXQpID0+IG11dC5pZCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0cmFuc2FjdGlvbklkOiByZXMudHJhbnNhY3Rpb25JZCxcbiAgICAgICAgcmVzdWx0cyxcbiAgICAgICAgW2tleV06IGlkc1xuICAgICAgfTtcbiAgICB9KVxuICApO1xufVxuZnVuY3Rpb24gX2NyZWF0ZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBkb2MsIG9wLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgbXV0YXRpb24gPSB7IFtvcF06IGRvYyB9LCBvcHRzID0gT2JqZWN0LmFzc2lnbih7IHJldHVybkZpcnN0OiAhMCwgcmV0dXJuRG9jdW1lbnRzOiAhMCB9LCBvcHRpb25zKTtcbiAgcmV0dXJuIF9kYXRhUmVxdWVzdChjbGllbnQsIGh0dHBSZXF1ZXN0LCBcIm11dGF0ZVwiLCB7IG11dGF0aW9uczogW211dGF0aW9uXSB9LCBvcHRzKTtcbn1cbmZ1bmN0aW9uIF9yZXF1ZXN0T2JzZXJ2YWJsZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBvcHRpb25zKSB7XG4gIGNvbnN0IHVyaSA9IG9wdGlvbnMudXJsIHx8IG9wdGlvbnMudXJpLCBjb25maWcgPSBjbGllbnQuY29uZmlnKCksIGNhblVzZUNkbiA9IHR5cGVvZiBvcHRpb25zLmNhblVzZUNkbiA+IFwidVwiID8gW1wiR0VUXCIsIFwiSEVBRFwiXS5pbmRleE9mKG9wdGlvbnMubWV0aG9kIHx8IFwiR0VUXCIpID49IDAgJiYgdXJpLmluZGV4T2YoXCIvZGF0YS9cIikgPT09IDAgOiBvcHRpb25zLmNhblVzZUNkbjtcbiAgbGV0IHVzZUNkbiA9IChvcHRpb25zLnVzZUNkbiA/PyBjb25maWcudXNlQ2RuKSAmJiBjYW5Vc2VDZG47XG4gIGNvbnN0IHRhZyA9IG9wdGlvbnMudGFnICYmIGNvbmZpZy5yZXF1ZXN0VGFnUHJlZml4ID8gW2NvbmZpZy5yZXF1ZXN0VGFnUHJlZml4LCBvcHRpb25zLnRhZ10uam9pbihcIi5cIikgOiBvcHRpb25zLnRhZyB8fCBjb25maWcucmVxdWVzdFRhZ1ByZWZpeDtcbiAgaWYgKHRhZyAmJiBvcHRpb25zLnRhZyAhPT0gbnVsbCAmJiAob3B0aW9ucy5xdWVyeSA9IHsgdGFnOiByZXF1ZXN0VGFnKHRhZyksIC4uLm9wdGlvbnMucXVlcnkgfSksIFtcIkdFVFwiLCBcIkhFQURcIiwgXCJQT1NUXCJdLmluZGV4T2Yob3B0aW9ucy5tZXRob2QgfHwgXCJHRVRcIikgPj0gMCAmJiB1cmkuaW5kZXhPZihcIi9kYXRhL3F1ZXJ5L1wiKSA9PT0gMCkge1xuICAgIGNvbnN0IHJlc3VsdFNvdXJjZU1hcCA9IG9wdGlvbnMucmVzdWx0U291cmNlTWFwID8/IGNvbmZpZy5yZXN1bHRTb3VyY2VNYXA7XG4gICAgcmVzdWx0U291cmNlTWFwICE9PSB2b2lkIDAgJiYgcmVzdWx0U291cmNlTWFwICE9PSAhMSAmJiAob3B0aW9ucy5xdWVyeSA9IHsgcmVzdWx0U291cmNlTWFwLCAuLi5vcHRpb25zLnF1ZXJ5IH0pO1xuICAgIGNvbnN0IHBlcnNwZWN0aXZlT3B0aW9uID0gb3B0aW9ucy5wZXJzcGVjdGl2ZSB8fCBjb25maWcucGVyc3BlY3RpdmU7XG4gICAgdHlwZW9mIHBlcnNwZWN0aXZlT3B0aW9uIDwgXCJ1XCIgJiYgKHZhbGlkYXRlQXBpUGVyc3BlY3RpdmUocGVyc3BlY3RpdmVPcHRpb24pLCBvcHRpb25zLnF1ZXJ5ID0ge1xuICAgICAgcGVyc3BlY3RpdmU6IEFycmF5LmlzQXJyYXkocGVyc3BlY3RpdmVPcHRpb24pID8gcGVyc3BlY3RpdmVPcHRpb24uam9pbihcIixcIikgOiBwZXJzcGVjdGl2ZU9wdGlvbixcbiAgICAgIC4uLm9wdGlvbnMucXVlcnlcbiAgICB9LCBwZXJzcGVjdGl2ZU9wdGlvbiA9PT0gXCJwcmV2aWV3RHJhZnRzXCIgJiYgdXNlQ2RuICYmICh1c2VDZG4gPSAhMSwgcHJpbnRDZG5QcmV2aWV3RHJhZnRzV2FybmluZygpKSksIG9wdGlvbnMubGFzdExpdmVFdmVudElkICYmIChvcHRpb25zLnF1ZXJ5ID0geyAuLi5vcHRpb25zLnF1ZXJ5LCBsYXN0TGl2ZUV2ZW50SWQ6IG9wdGlvbnMubGFzdExpdmVFdmVudElkIH0pLCBvcHRpb25zLnJldHVyblF1ZXJ5ID09PSAhMSAmJiAob3B0aW9ucy5xdWVyeSA9IHsgcmV0dXJuUXVlcnk6IFwiZmFsc2VcIiwgLi4ub3B0aW9ucy5xdWVyeSB9KSwgdXNlQ2RuICYmIG9wdGlvbnMuY2FjaGVNb2RlID09IFwibm9TdGFsZVwiICYmIChvcHRpb25zLnF1ZXJ5ID0geyBjYWNoZU1vZGU6IFwibm9TdGFsZVwiLCAuLi5vcHRpb25zLnF1ZXJ5IH0pO1xuICB9XG4gIGNvbnN0IHJlcU9wdGlvbnMgPSByZXF1ZXN0T3B0aW9ucyhcbiAgICBjb25maWcsXG4gICAgT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywge1xuICAgICAgdXJsOiBfZ2V0VXJsKGNsaWVudCwgdXJpLCB1c2VDZG4pXG4gICAgfSlcbiAgKSwgcmVxdWVzdCA9IG5ldyBPYnNlcnZhYmxlKFxuICAgIChzdWJzY3JpYmVyKSA9PiBodHRwUmVxdWVzdChyZXFPcHRpb25zLCBjb25maWcucmVxdWVzdGVyKS5zdWJzY3JpYmUoc3Vic2NyaWJlcilcbiAgKTtcbiAgcmV0dXJuIG9wdGlvbnMuc2lnbmFsID8gcmVxdWVzdC5waXBlKF93aXRoQWJvcnRTaWduYWwob3B0aW9ucy5zaWduYWwpKSA6IHJlcXVlc3Q7XG59XG5mdW5jdGlvbiBfcmVxdWVzdChjbGllbnQsIGh0dHBSZXF1ZXN0LCBvcHRpb25zKSB7XG4gIHJldHVybiBfcmVxdWVzdE9ic2VydmFibGUoY2xpZW50LCBodHRwUmVxdWVzdCwgb3B0aW9ucykucGlwZShcbiAgICBmaWx0ZXIoKGV2ZW50KSA9PiBldmVudC50eXBlID09PSBcInJlc3BvbnNlXCIpLFxuICAgIG1hcCgoZXZlbnQpID0+IGV2ZW50LmJvZHkpXG4gICk7XG59XG5mdW5jdGlvbiBfZ2V0RGF0YVVybChjbGllbnQsIG9wZXJhdGlvbiwgcGF0aCkge1xuICBjb25zdCBjb25maWcgPSBjbGllbnQuY29uZmlnKCksIGNhdGFsb2cgPSBoYXNEYXRhc2V0KGNvbmZpZyksIGJhc2VVcmkgPSBgLyR7b3BlcmF0aW9ufS8ke2NhdGFsb2d9YDtcbiAgcmV0dXJuIGAvZGF0YSR7cGF0aCA/IGAke2Jhc2VVcml9LyR7cGF0aH1gIDogYmFzZVVyaX1gLnJlcGxhY2UoL1xcLygkfFxcPykvLCBcIiQxXCIpO1xufVxuZnVuY3Rpb24gX2dldFVybChjbGllbnQsIHVyaSwgY2FuVXNlQ2RuID0gITEpIHtcbiAgY29uc3QgeyB1cmwsIGNkblVybCB9ID0gY2xpZW50LmNvbmZpZygpO1xuICByZXR1cm4gYCR7Y2FuVXNlQ2RuID8gY2RuVXJsIDogdXJsfS8ke3VyaS5yZXBsYWNlKC9eXFwvLywgXCJcIil9YDtcbn1cbmZ1bmN0aW9uIF93aXRoQWJvcnRTaWduYWwoc2lnbmFsKSB7XG4gIHJldHVybiAoaW5wdXQpID0+IG5ldyBPYnNlcnZhYmxlKChvYnNlcnZlcikgPT4ge1xuICAgIGNvbnN0IGFib3J0ID0gKCkgPT4gb2JzZXJ2ZXIuZXJyb3IoX2NyZWF0ZUFib3J0RXJyb3Ioc2lnbmFsKSk7XG4gICAgaWYgKHNpZ25hbCAmJiBzaWduYWwuYWJvcnRlZCkge1xuICAgICAgYWJvcnQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gaW5wdXQuc3Vic2NyaWJlKG9ic2VydmVyKTtcbiAgICByZXR1cm4gc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBhYm9ydCksICgpID0+IHtcbiAgICAgIHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgYWJvcnQpLCBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICB9KTtcbn1cbmNvbnN0IGlzRG9tRXhjZXB0aW9uU3VwcG9ydGVkID0gISFnbG9iYWxUaGlzLkRPTUV4Y2VwdGlvbjtcbmZ1bmN0aW9uIF9jcmVhdGVBYm9ydEVycm9yKHNpZ25hbCkge1xuICBpZiAoaXNEb21FeGNlcHRpb25TdXBwb3J0ZWQpXG4gICAgcmV0dXJuIG5ldyBET01FeGNlcHRpb24oc2lnbmFsPy5yZWFzb24gPz8gXCJUaGUgb3BlcmF0aW9uIHdhcyBhYm9ydGVkLlwiLCBcIkFib3J0RXJyb3JcIik7XG4gIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKHNpZ25hbD8ucmVhc29uID8/IFwiVGhlIG9wZXJhdGlvbiB3YXMgYWJvcnRlZC5cIik7XG4gIHJldHVybiBlcnJvci5uYW1lID0gXCJBYm9ydEVycm9yXCIsIGVycm9yO1xufVxuY2xhc3MgT2JzZXJ2YWJsZUFzc2V0c0NsaWVudCB7XG4gICNjbGllbnQ7XG4gICNodHRwUmVxdWVzdDtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIHRoaXMuI2NsaWVudCA9IGNsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QgPSBodHRwUmVxdWVzdDtcbiAgfVxuICB1cGxvYWQoYXNzZXRUeXBlLCBib2R5LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF91cGxvYWQodGhpcy4jY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCwgYXNzZXRUeXBlLCBib2R5LCBvcHRpb25zKTtcbiAgfVxufVxuY2xhc3MgQXNzZXRzQ2xpZW50IHtcbiAgI2NsaWVudDtcbiAgI2h0dHBSZXF1ZXN0O1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgdGhpcy4jY2xpZW50ID0gY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCA9IGh0dHBSZXF1ZXN0O1xuICB9XG4gIHVwbG9hZChhc3NldFR5cGUsIGJvZHksIG9wdGlvbnMpIHtcbiAgICBjb25zdCBvYnNlcnZhYmxlMiA9IF91cGxvYWQodGhpcy4jY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCwgYXNzZXRUeXBlLCBib2R5LCBvcHRpb25zKTtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShcbiAgICAgIG9ic2VydmFibGUyLnBpcGUoXG4gICAgICAgIGZpbHRlcigoZXZlbnQpID0+IGV2ZW50LnR5cGUgPT09IFwicmVzcG9uc2VcIiksXG4gICAgICAgIG1hcChcbiAgICAgICAgICAoZXZlbnQpID0+IGV2ZW50LmJvZHkuZG9jdW1lbnRcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIF91cGxvYWQoY2xpZW50LCBodHRwUmVxdWVzdCwgYXNzZXRUeXBlLCBib2R5LCBvcHRzID0ge30pIHtcbiAgdmFsaWRhdGVBc3NldFR5cGUoYXNzZXRUeXBlKTtcbiAgbGV0IG1ldGEgPSBvcHRzLmV4dHJhY3QgfHwgdm9pZCAwO1xuICBtZXRhICYmICFtZXRhLmxlbmd0aCAmJiAobWV0YSA9IFtcIm5vbmVcIl0pO1xuICBjb25zdCBkYXRhc2V0MiA9IGhhc0RhdGFzZXQoY2xpZW50LmNvbmZpZygpKSwgYXNzZXRFbmRwb2ludCA9IGFzc2V0VHlwZSA9PT0gXCJpbWFnZVwiID8gXCJpbWFnZXNcIiA6IFwiZmlsZXNcIiwgb3B0aW9ucyA9IG9wdGlvbnNGcm9tRmlsZShvcHRzLCBib2R5KSwgeyB0YWcsIGxhYmVsLCB0aXRsZSwgZGVzY3JpcHRpb24sIGNyZWRpdExpbmUsIGZpbGVuYW1lLCBzb3VyY2UgfSA9IG9wdGlvbnMsIHF1ZXJ5ID0ge1xuICAgIGxhYmVsLFxuICAgIHRpdGxlLFxuICAgIGRlc2NyaXB0aW9uLFxuICAgIGZpbGVuYW1lLFxuICAgIG1ldGEsXG4gICAgY3JlZGl0TGluZVxuICB9O1xuICByZXR1cm4gc291cmNlICYmIChxdWVyeS5zb3VyY2VJZCA9IHNvdXJjZS5pZCwgcXVlcnkuc291cmNlTmFtZSA9IHNvdXJjZS5uYW1lLCBxdWVyeS5zb3VyY2VVcmwgPSBzb3VyY2UudXJsKSwgX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIHtcbiAgICB0YWcsXG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB0aW1lb3V0OiBvcHRpb25zLnRpbWVvdXQgfHwgMCxcbiAgICB1cmk6IGAvYXNzZXRzLyR7YXNzZXRFbmRwb2ludH0vJHtkYXRhc2V0Mn1gLFxuICAgIGhlYWRlcnM6IG9wdGlvbnMuY29udGVudFR5cGUgPyB7IFwiQ29udGVudC1UeXBlXCI6IG9wdGlvbnMuY29udGVudFR5cGUgfSA6IHt9LFxuICAgIHF1ZXJ5LFxuICAgIGJvZHlcbiAgfSk7XG59XG5mdW5jdGlvbiBvcHRpb25zRnJvbUZpbGUob3B0cywgZmlsZSkge1xuICByZXR1cm4gdHlwZW9mIEZpbGUgPiBcInVcIiB8fCAhKGZpbGUgaW5zdGFuY2VvZiBGaWxlKSA/IG9wdHMgOiBPYmplY3QuYXNzaWduKFxuICAgIHtcbiAgICAgIGZpbGVuYW1lOiBvcHRzLnByZXNlcnZlRmlsZW5hbWUgPT09ICExID8gdm9pZCAwIDogZmlsZS5uYW1lLFxuICAgICAgY29udGVudFR5cGU6IGZpbGUudHlwZVxuICAgIH0sXG4gICAgb3B0c1xuICApO1xufVxudmFyIGRlZmF1bHRzID0gKG9iaiwgZGVmYXVsdHMyKSA9PiBPYmplY3Qua2V5cyhkZWZhdWx0czIpLmNvbmNhdChPYmplY3Qua2V5cyhvYmopKS5yZWR1Y2UoKHRhcmdldCwgcHJvcCkgPT4gKHRhcmdldFtwcm9wXSA9IHR5cGVvZiBvYmpbcHJvcF0gPiBcInVcIiA/IGRlZmF1bHRzMltwcm9wXSA6IG9ialtwcm9wXSwgdGFyZ2V0KSwge30pO1xuY29uc3QgcGljayA9IChvYmosIHByb3BzKSA9PiBwcm9wcy5yZWR1Y2UoKHNlbGVjdGlvbiwgcHJvcCkgPT4gKHR5cGVvZiBvYmpbcHJvcF0gPiBcInVcIiB8fCAoc2VsZWN0aW9uW3Byb3BdID0gb2JqW3Byb3BdKSwgc2VsZWN0aW9uKSwge30pLCBNQVhfVVJMX0xFTkdUSCA9IDE0ODAwLCBwb3NzaWJsZU9wdGlvbnMgPSBbXG4gIFwiaW5jbHVkZVByZXZpb3VzUmV2aXNpb25cIixcbiAgXCJpbmNsdWRlUmVzdWx0XCIsXG4gIFwiaW5jbHVkZU11dGF0aW9uc1wiLFxuICBcInZpc2liaWxpdHlcIixcbiAgXCJlZmZlY3RGb3JtYXRcIixcbiAgXCJ0YWdcIlxuXSwgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGluY2x1ZGVSZXN1bHQ6ICEwXG59O1xuZnVuY3Rpb24gX2xpc3RlbihxdWVyeSwgcGFyYW1zLCBvcHRzID0ge30pIHtcbiAgY29uc3QgeyB1cmwsIHRva2VuLCB3aXRoQ3JlZGVudGlhbHMsIHJlcXVlc3RUYWdQcmVmaXggfSA9IHRoaXMuY29uZmlnKCksIHRhZyA9IG9wdHMudGFnICYmIHJlcXVlc3RUYWdQcmVmaXggPyBbcmVxdWVzdFRhZ1ByZWZpeCwgb3B0cy50YWddLmpvaW4oXCIuXCIpIDogb3B0cy50YWcsIG9wdGlvbnMgPSB7IC4uLmRlZmF1bHRzKG9wdHMsIGRlZmF1bHRPcHRpb25zKSwgdGFnIH0sIGxpc3Rlbk9wdHMgPSBwaWNrKG9wdGlvbnMsIHBvc3NpYmxlT3B0aW9ucyksIHFzID0gZW5jb2RlUXVlcnlTdHJpbmcoeyBxdWVyeSwgcGFyYW1zLCBvcHRpb25zOiB7IHRhZywgLi4ubGlzdGVuT3B0cyB9IH0pLCB1cmkgPSBgJHt1cmx9JHtfZ2V0RGF0YVVybCh0aGlzLCBcImxpc3RlblwiLCBxcyl9YDtcbiAgaWYgKHVyaS5sZW5ndGggPiBNQVhfVVJMX0xFTkdUSClcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoKG9ic2VydmVyKSA9PiBvYnNlcnZlci5lcnJvcihuZXcgRXJyb3IoXCJRdWVyeSB0b28gbGFyZ2UgZm9yIGxpc3RlbmVyXCIpKSk7XG4gIGNvbnN0IGxpc3RlbkZvciA9IG9wdGlvbnMuZXZlbnRzID8gb3B0aW9ucy5ldmVudHMgOiBbXCJtdXRhdGlvblwiXSwgc2hvdWxkRW1pdFJlY29ubmVjdCA9IGxpc3RlbkZvci5pbmRleE9mKFwicmVjb25uZWN0XCIpICE9PSAtMSwgZXNPcHRpb25zID0ge307XG4gIHJldHVybiAodG9rZW4gfHwgd2l0aENyZWRlbnRpYWxzKSAmJiAoZXNPcHRpb25zLndpdGhDcmVkZW50aWFscyA9ICEwKSwgdG9rZW4gJiYgKGVzT3B0aW9ucy5oZWFkZXJzID0ge1xuICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gXG4gIH0pLCBuZXcgT2JzZXJ2YWJsZSgob2JzZXJ2ZXIpID0+IHtcbiAgICBsZXQgZXMsIHJlY29ubmVjdFRpbWVyLCBzdG9wcGVkID0gITEsIHVuc3Vic2NyaWJlZCA9ICExO1xuICAgIG9wZW4oKTtcbiAgICBmdW5jdGlvbiBvbkVycm9yKCkge1xuICAgICAgc3RvcHBlZCB8fCAoZW1pdFJlY29ubmVjdCgpLCAhc3RvcHBlZCAmJiBlcy5yZWFkeVN0YXRlID09PSBlcy5DTE9TRUQgJiYgKHVuc3Vic2NyaWJlKCksIGNsZWFyVGltZW91dChyZWNvbm5lY3RUaW1lciksIHJlY29ubmVjdFRpbWVyID0gc2V0VGltZW91dChvcGVuLCAxMDApKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uQ2hhbm5lbEVycm9yKGVycikge1xuICAgICAgb2JzZXJ2ZXIuZXJyb3IoY29vZXJjZUVycm9yKGVycikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbk1lc3NhZ2UoZXZ0KSB7XG4gICAgICBjb25zdCBldmVudCA9IHBhcnNlRXZlbnQkMShldnQpO1xuICAgICAgcmV0dXJuIGV2ZW50IGluc3RhbmNlb2YgRXJyb3IgPyBvYnNlcnZlci5lcnJvcihldmVudCkgOiBvYnNlcnZlci5uZXh0KGV2ZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25EaXNjb25uZWN0KCkge1xuICAgICAgc3RvcHBlZCA9ICEwLCB1bnN1YnNjcmliZSgpLCBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgIGVzICYmIChlcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgb25FcnJvciksIGVzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFubmVsRXJyb3JcIiwgb25DaGFubmVsRXJyb3IpLCBlcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGlzY29ubmVjdFwiLCBvbkRpc2Nvbm5lY3QpLCBsaXN0ZW5Gb3IuZm9yRWFjaCgodHlwZSkgPT4gZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBvbk1lc3NhZ2UpKSwgZXMuY2xvc2UoKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVtaXRSZWNvbm5lY3QoKSB7XG4gICAgICBzaG91bGRFbWl0UmVjb25uZWN0ICYmIG9ic2VydmVyLm5leHQoeyB0eXBlOiBcInJlY29ubmVjdFwiIH0pO1xuICAgIH1cbiAgICBhc3luYyBmdW5jdGlvbiBnZXRFdmVudFNvdXJjZSgpIHtcbiAgICAgIGNvbnN0IHsgZGVmYXVsdDogRXZlbnRTb3VyY2UyIH0gPSBhd2FpdCBpbXBvcnQoXCJAc2FuaXR5L2V2ZW50c291cmNlXCIpO1xuICAgICAgaWYgKHVuc3Vic2NyaWJlZClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgZXZzID0gbmV3IEV2ZW50U291cmNlMih1cmksIGVzT3B0aW9ucyk7XG4gICAgICByZXR1cm4gZXZzLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBvbkVycm9yKSwgZXZzLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFubmVsRXJyb3JcIiwgb25DaGFubmVsRXJyb3IpLCBldnMuYWRkRXZlbnRMaXN0ZW5lcihcImRpc2Nvbm5lY3RcIiwgb25EaXNjb25uZWN0KSwgbGlzdGVuRm9yLmZvckVhY2goKHR5cGUpID0+IGV2cy5hZGRFdmVudExpc3RlbmVyKHR5cGUsIG9uTWVzc2FnZSkpLCBldnM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICBnZXRFdmVudFNvdXJjZSgpLnRoZW4oKGV2ZW50U291cmNlKSA9PiB7XG4gICAgICAgIGV2ZW50U291cmNlICYmIChlcyA9IGV2ZW50U291cmNlLCB1bnN1YnNjcmliZWQgJiYgdW5zdWJzY3JpYmUoKSk7XG4gICAgICB9KS5jYXRjaCgocmVhc29uKSA9PiB7XG4gICAgICAgIG9ic2VydmVyLmVycm9yKHJlYXNvbiksIHN0b3AoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgc3RvcHBlZCA9ICEwLCB1bnN1YnNjcmliZSgpLCB1bnN1YnNjcmliZWQgPSAhMDtcbiAgICB9XG4gICAgcmV0dXJuIHN0b3A7XG4gIH0pO1xufVxuZnVuY3Rpb24gcGFyc2VFdmVudCQxKGV2ZW50KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IGV2ZW50LmRhdGEgJiYgSlNPTi5wYXJzZShldmVudC5kYXRhKSB8fCB7fTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7IHR5cGU6IGV2ZW50LnR5cGUgfSwgZGF0YSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBlcnI7XG4gIH1cbn1cbmZ1bmN0aW9uIGNvb2VyY2VFcnJvcihlcnIpIHtcbiAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKVxuICAgIHJldHVybiBlcnI7XG4gIGNvbnN0IGV2dCA9IHBhcnNlRXZlbnQkMShlcnIpO1xuICByZXR1cm4gZXZ0IGluc3RhbmNlb2YgRXJyb3IgPyBldnQgOiBuZXcgRXJyb3IoZXh0cmFjdEVycm9yTWVzc2FnZShldnQpKTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RFcnJvck1lc3NhZ2UoZXJyKSB7XG4gIHJldHVybiBlcnIuZXJyb3IgPyBlcnIuZXJyb3IuZGVzY3JpcHRpb24gPyBlcnIuZXJyb3IuZGVzY3JpcHRpb24gOiB0eXBlb2YgZXJyLmVycm9yID09IFwic3RyaW5nXCIgPyBlcnIuZXJyb3IgOiBKU09OLnN0cmluZ2lmeShlcnIuZXJyb3IsIG51bGwsIDIpIDogZXJyLm1lc3NhZ2UgfHwgXCJVbmtub3duIGxpc3RlbmVyIGVycm9yXCI7XG59XG5jb25zdCByZXF1aXJlZEFwaVZlcnNpb24gPSBcIjIwMjEtMDMtMjZcIjtcbmNsYXNzIExpdmVDbGllbnQge1xuICAjY2xpZW50O1xuICBjb25zdHJ1Y3RvcihjbGllbnQpIHtcbiAgICB0aGlzLiNjbGllbnQgPSBjbGllbnQ7XG4gIH1cbiAgLyoqXG4gICAqIFJlcXVpcmVzIGBhcGlWZXJzaW9uYCB0byBiZSBgMjAyMS0wMy0yNmAgb3IgbGF0ZXIuXG4gICAqL1xuICBldmVudHMoe1xuICAgIGluY2x1ZGVEcmFmdHMgPSAhMSxcbiAgICB0YWc6IF90YWdcbiAgfSA9IHt9KSB7XG4gICAgY29uc3Qge1xuICAgICAgcHJvamVjdElkOiBwcm9qZWN0SWQyLFxuICAgICAgYXBpVmVyc2lvbjogX2FwaVZlcnNpb24sXG4gICAgICB0b2tlbixcbiAgICAgIHdpdGhDcmVkZW50aWFscyxcbiAgICAgIHJlcXVlc3RUYWdQcmVmaXhcbiAgICB9ID0gdGhpcy4jY2xpZW50LmNvbmZpZygpLCBhcGlWZXJzaW9uID0gX2FwaVZlcnNpb24ucmVwbGFjZSgvXnYvLCBcIlwiKTtcbiAgICBpZiAoYXBpVmVyc2lvbiAhPT0gXCJYXCIgJiYgYXBpVmVyc2lvbiA8IHJlcXVpcmVkQXBpVmVyc2lvbilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFRoZSBsaXZlIGV2ZW50cyBBUEkgcmVxdWlyZXMgQVBJIHZlcnNpb24gJHtyZXF1aXJlZEFwaVZlcnNpb259IG9yIGxhdGVyLiBUaGUgY3VycmVudCBBUEkgdmVyc2lvbiBpcyAke2FwaVZlcnNpb259LiBQbGVhc2UgdXBkYXRlIHlvdXIgQVBJIHZlcnNpb24gdG8gdXNlIHRoaXMgZmVhdHVyZS5gXG4gICAgICApO1xuICAgIGlmIChpbmNsdWRlRHJhZnRzICYmICF0b2tlbiAmJiAhd2l0aENyZWRlbnRpYWxzKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlRoZSBsaXZlIGV2ZW50cyBBUEkgcmVxdWlyZXMgYSB0b2tlbiBvciB3aXRoQ3JlZGVudGlhbHMgd2hlbiAnaW5jbHVkZURyYWZ0czogdHJ1ZScuIFBsZWFzZSB1cGRhdGUgeW91ciBjbGllbnQgY29uZmlndXJhdGlvbi4gVGhlIHRva2VuIHNob3VsZCBoYXZlIHRoZSBsb3dlc3QgcG9zc2libGUgYWNjZXNzIHJvbGUuXCJcbiAgICAgICk7XG4gICAgaWYgKGluY2x1ZGVEcmFmdHMgJiYgYXBpVmVyc2lvbiAhPT0gXCJYXCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiVGhlIGxpdmUgZXZlbnRzIEFQSSByZXF1aXJlcyBBUEkgdmVyc2lvbiBYIHdoZW4gJ2luY2x1ZGVEcmFmdHM6IHRydWUnLiBUaGlzIEFQSSBpcyBleHBlcmltZW50YWwgYW5kIG1heSBjaGFuZ2Ugb3IgZXZlbiBiZSByZW1vdmVkLlwiXG4gICAgICApO1xuICAgIGNvbnN0IHBhdGggPSBfZ2V0RGF0YVVybCh0aGlzLiNjbGllbnQsIFwibGl2ZS9ldmVudHNcIiksIHVybCA9IG5ldyBVUkwodGhpcy4jY2xpZW50LmdldFVybChwYXRoLCAhMSkpLCB0YWcgPSBfdGFnICYmIHJlcXVlc3RUYWdQcmVmaXggPyBbcmVxdWVzdFRhZ1ByZWZpeCwgX3RhZ10uam9pbihcIi5cIikgOiBfdGFnO1xuICAgIHRhZyAmJiB1cmwuc2VhcmNoUGFyYW1zLnNldChcInRhZ1wiLCB0YWcpLCBpbmNsdWRlRHJhZnRzICYmIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwiaW5jbHVkZURyYWZ0c1wiLCBcInRydWVcIik7XG4gICAgY29uc3QgbGlzdGVuRm9yID0gW1wicmVzdGFydFwiLCBcIm1lc3NhZ2VcIiwgXCJ3ZWxjb21lXCIsIFwicmVjb25uZWN0XCJdLCBlc09wdGlvbnMgPSB7fTtcbiAgICByZXR1cm4gaW5jbHVkZURyYWZ0cyAmJiB0b2tlbiAmJiAoZXNPcHRpb25zLmhlYWRlcnMgPSB7XG4gICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YFxuICAgIH0pLCBpbmNsdWRlRHJhZnRzICYmIHdpdGhDcmVkZW50aWFscyAmJiAoZXNPcHRpb25zLndpdGhDcmVkZW50aWFscyA9ICEwKSwgbmV3IE9ic2VydmFibGUoKG9ic2VydmVyKSA9PiB7XG4gICAgICBsZXQgZXMsIHJlY29ubmVjdFRpbWVyLCBzdG9wcGVkID0gITEsIHVuc3Vic2NyaWJlZCA9ICExO1xuICAgICAgb3BlbigpO1xuICAgICAgZnVuY3Rpb24gb25FcnJvcihldnQpIHtcbiAgICAgICAgaWYgKCFzdG9wcGVkKSB7XG4gICAgICAgICAgaWYgKFwiZGF0YVwiIGluIGV2dCkge1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBwYXJzZUV2ZW50KGV2dCk7XG4gICAgICAgICAgICBvYnNlcnZlci5lcnJvcihuZXcgRXJyb3IoZXZlbnQubWVzc2FnZSwgeyBjYXVzZTogZXZlbnQgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlcy5yZWFkeVN0YXRlID09PSBlcy5DTE9TRUQgJiYgKHVuc3Vic2NyaWJlKCksIGNsZWFyVGltZW91dChyZWNvbm5lY3RUaW1lciksIHJlY29ubmVjdFRpbWVyID0gc2V0VGltZW91dChvcGVuLCAxMDApKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gb25NZXNzYWdlKGV2dCkge1xuICAgICAgICBjb25zdCBldmVudCA9IHBhcnNlRXZlbnQoZXZ0KTtcbiAgICAgICAgcmV0dXJuIGV2ZW50IGluc3RhbmNlb2YgRXJyb3IgPyBvYnNlcnZlci5lcnJvcihldmVudCkgOiBvYnNlcnZlci5uZXh0KGV2ZW50KTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICBpZiAoZXMpIHtcbiAgICAgICAgICBlcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgb25FcnJvcik7XG4gICAgICAgICAgZm9yIChjb25zdCB0eXBlIG9mIGxpc3RlbkZvcilcbiAgICAgICAgICAgIGVzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgb25NZXNzYWdlKTtcbiAgICAgICAgICBlcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhc3luYyBmdW5jdGlvbiBnZXRFdmVudFNvdXJjZSgpIHtcbiAgICAgICAgY29uc3QgRXZlbnRTb3VyY2VJbXBsZW1lbnRhdGlvbiA9IHR5cGVvZiBFdmVudFNvdXJjZSA+IFwidVwiIHx8IGVzT3B0aW9ucy5oZWFkZXJzIHx8IGVzT3B0aW9ucy53aXRoQ3JlZGVudGlhbHMgPyAoYXdhaXQgaW1wb3J0KFwiQHNhbml0eS9ldmVudHNvdXJjZVwiKSkuZGVmYXVsdCA6IEV2ZW50U291cmNlO1xuICAgICAgICBpZiAodW5zdWJzY3JpYmVkKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiT1BUSU9OU1wiLFxuICAgICAgICAgICAgbW9kZTogXCJjb3JzXCIsXG4gICAgICAgICAgICBjcmVkZW50aWFsczogZXNPcHRpb25zLndpdGhDcmVkZW50aWFscyA/IFwiaW5jbHVkZVwiIDogXCJvbWl0XCIsXG4gICAgICAgICAgICBoZWFkZXJzOiBlc09wdGlvbnMuaGVhZGVyc1xuICAgICAgICAgIH0pLCB1bnN1YnNjcmliZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIHRocm93IG5ldyBDb3JzT3JpZ2luRXJyb3IoeyBwcm9qZWN0SWQ6IHByb2plY3RJZDIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXZzID0gbmV3IEV2ZW50U291cmNlSW1wbGVtZW50YXRpb24odXJsLnRvU3RyaW5nKCksIGVzT3B0aW9ucyk7XG4gICAgICAgIGV2cy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgb25FcnJvcik7XG4gICAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBsaXN0ZW5Gb3IpXG4gICAgICAgICAgZXZzLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgb25NZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIGV2cztcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICAgIGdldEV2ZW50U291cmNlKCkudGhlbigoZXZlbnRTb3VyY2UpID0+IHtcbiAgICAgICAgICBldmVudFNvdXJjZSAmJiAoZXMgPSBldmVudFNvdXJjZSwgdW5zdWJzY3JpYmVkICYmIHVuc3Vic2NyaWJlKCkpO1xuICAgICAgICB9KS5jYXRjaCgocmVhc29uKSA9PiB7XG4gICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IocmVhc29uKSwgc3RvcCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIHN0b3BwZWQgPSAhMCwgdW5zdWJzY3JpYmUoKSwgdW5zdWJzY3JpYmVkID0gITA7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RvcDtcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gcGFyc2VFdmVudChldmVudCkge1xuICB0cnkge1xuICAgIGNvbnN0IGRhdGEgPSBldmVudC5kYXRhICYmIEpTT04ucGFyc2UoZXZlbnQuZGF0YSkgfHwge307XG4gICAgcmV0dXJuIHsgdHlwZTogZXZlbnQudHlwZSwgaWQ6IGV2ZW50Lmxhc3RFdmVudElkLCAuLi5kYXRhIH07XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBlcnI7XG4gIH1cbn1cbmNsYXNzIE9ic2VydmFibGVEYXRhc2V0c0NsaWVudCB7XG4gICNjbGllbnQ7XG4gICNodHRwUmVxdWVzdDtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIHRoaXMuI2NsaWVudCA9IGNsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QgPSBodHRwUmVxdWVzdDtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGRhdGFzZXQgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gY3JlYXRlXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIGRhdGFzZXRcbiAgICovXG4gIGNyZWF0ZShuYW1lLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9tb2RpZnkodGhpcy4jY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCwgXCJQVVRcIiwgbmFtZSwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEVkaXQgYSBkYXRhc2V0IHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBOYW1lIG9mIHRoZSBkYXRhc2V0IHRvIGVkaXRcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBOZXcgb3B0aW9ucyBmb3IgdGhlIGRhdGFzZXRcbiAgICovXG4gIGVkaXQobmFtZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBfbW9kaWZ5KHRoaXMuI2NsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QsIFwiUEFUQ0hcIiwgbmFtZSwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGRhdGFzZXQgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gZGVsZXRlXG4gICAqL1xuICBkZWxldGUobmFtZSkge1xuICAgIHJldHVybiBfbW9kaWZ5KHRoaXMuI2NsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QsIFwiREVMRVRFXCIsIG5hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIGxpc3Qgb2YgZGF0YXNldHMgZm9yIHRoZSBjb25maWd1cmVkIHByb2plY3RcbiAgICovXG4gIGxpc3QoKSB7XG4gICAgcmV0dXJuIF9yZXF1ZXN0KHRoaXMuI2NsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QsIHtcbiAgICAgIHVyaTogXCIvZGF0YXNldHNcIixcbiAgICAgIHRhZzogbnVsbFxuICAgIH0pO1xuICB9XG59XG5jbGFzcyBEYXRhc2V0c0NsaWVudCB7XG4gICNjbGllbnQ7XG4gICNodHRwUmVxdWVzdDtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIHRoaXMuI2NsaWVudCA9IGNsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QgPSBodHRwUmVxdWVzdDtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGRhdGFzZXQgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gY3JlYXRlXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIGRhdGFzZXRcbiAgICovXG4gIGNyZWF0ZShuYW1lLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oXG4gICAgICBfbW9kaWZ5KHRoaXMuI2NsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QsIFwiUFVUXCIsIG5hbWUsIG9wdGlvbnMpXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogRWRpdCBhIGRhdGFzZXQgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gZWRpdFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIE5ldyBvcHRpb25zIGZvciB0aGUgZGF0YXNldFxuICAgKi9cbiAgZWRpdChuYW1lLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oXG4gICAgICBfbW9kaWZ5KHRoaXMuI2NsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QsIFwiUEFUQ0hcIiwgbmFtZSwgb3B0aW9ucylcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGUgYSBkYXRhc2V0IHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBOYW1lIG9mIHRoZSBkYXRhc2V0IHRvIGRlbGV0ZVxuICAgKi9cbiAgZGVsZXRlKG5hbWUpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfbW9kaWZ5KHRoaXMuI2NsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QsIFwiREVMRVRFXCIsIG5hbWUpKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSBsaXN0IG9mIGRhdGFzZXRzIGZvciB0aGUgY29uZmlndXJlZCBwcm9qZWN0XG4gICAqL1xuICBsaXN0KCkge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKFxuICAgICAgX3JlcXVlc3QodGhpcy4jY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCwgeyB1cmk6IFwiL2RhdGFzZXRzXCIsIHRhZzogbnVsbCB9KVxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIF9tb2RpZnkoY2xpZW50LCBodHRwUmVxdWVzdCwgbWV0aG9kLCBuYW1lLCBvcHRpb25zKSB7XG4gIHJldHVybiBkYXRhc2V0KG5hbWUpLCBfcmVxdWVzdChjbGllbnQsIGh0dHBSZXF1ZXN0LCB7XG4gICAgbWV0aG9kLFxuICAgIHVyaTogYC9kYXRhc2V0cy8ke25hbWV9YCxcbiAgICBib2R5OiBvcHRpb25zLFxuICAgIHRhZzogbnVsbFxuICB9KTtcbn1cbmNsYXNzIE9ic2VydmFibGVQcm9qZWN0c0NsaWVudCB7XG4gICNjbGllbnQ7XG4gICNodHRwUmVxdWVzdDtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIHRoaXMuI2NsaWVudCA9IGNsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QgPSBodHRwUmVxdWVzdDtcbiAgfVxuICBsaXN0KG9wdGlvbnMpIHtcbiAgICBjb25zdCB1cmkgPSBvcHRpb25zPy5pbmNsdWRlTWVtYmVycyA9PT0gITEgPyBcIi9wcm9qZWN0cz9pbmNsdWRlTWVtYmVycz1mYWxzZVwiIDogXCIvcHJvamVjdHNcIjtcbiAgICByZXR1cm4gX3JlcXVlc3QodGhpcy4jY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCwgeyB1cmkgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgcHJvamVjdCBieSBwcm9qZWN0IElEXG4gICAqXG4gICAqIEBwYXJhbSBwcm9qZWN0SWQgLSBJRCBvZiB0aGUgcHJvamVjdCB0byBmZXRjaFxuICAgKi9cbiAgZ2V0QnlJZChwcm9qZWN0SWQyKSB7XG4gICAgcmV0dXJuIF9yZXF1ZXN0KHRoaXMuI2NsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QsIHsgdXJpOiBgL3Byb2plY3RzLyR7cHJvamVjdElkMn1gIH0pO1xuICB9XG59XG5jbGFzcyBQcm9qZWN0c0NsaWVudCB7XG4gICNjbGllbnQ7XG4gICNodHRwUmVxdWVzdDtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIHRoaXMuI2NsaWVudCA9IGNsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QgPSBodHRwUmVxdWVzdDtcbiAgfVxuICBsaXN0KG9wdGlvbnMpIHtcbiAgICBjb25zdCB1cmkgPSBvcHRpb25zPy5pbmNsdWRlTWVtYmVycyA9PT0gITEgPyBcIi9wcm9qZWN0cz9pbmNsdWRlTWVtYmVycz1mYWxzZVwiIDogXCIvcHJvamVjdHNcIjtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfcmVxdWVzdCh0aGlzLiNjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0LCB7IHVyaSB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgcHJvamVjdCBieSBwcm9qZWN0IElEXG4gICAqXG4gICAqIEBwYXJhbSBwcm9qZWN0SWQgLSBJRCBvZiB0aGUgcHJvamVjdCB0byBmZXRjaFxuICAgKi9cbiAgZ2V0QnlJZChwcm9qZWN0SWQyKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oXG4gICAgICBfcmVxdWVzdCh0aGlzLiNjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0LCB7IHVyaTogYC9wcm9qZWN0cy8ke3Byb2plY3RJZDJ9YCB9KVxuICAgICk7XG4gIH1cbn1cbmNsYXNzIE9ic2VydmFibGVVc2Vyc0NsaWVudCB7XG4gICNjbGllbnQ7XG4gICNodHRwUmVxdWVzdDtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIHRoaXMuI2NsaWVudCA9IGNsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QgPSBodHRwUmVxdWVzdDtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSB1c2VyIGJ5IHVzZXIgSURcbiAgICpcbiAgICogQHBhcmFtIGlkIC0gVXNlciBJRCBvZiB0aGUgdXNlciB0byBmZXRjaC4gSWYgYG1lYCBpcyBwcm92aWRlZCwgYSBtaW5pbWFsIHJlc3BvbnNlIGluY2x1ZGluZyB0aGUgdXNlcnMgcm9sZSBpcyByZXR1cm5lZC5cbiAgICovXG4gIGdldEJ5SWQoaWQpIHtcbiAgICByZXR1cm4gX3JlcXVlc3QoXG4gICAgICB0aGlzLiNjbGllbnQsXG4gICAgICB0aGlzLiNodHRwUmVxdWVzdCxcbiAgICAgIHsgdXJpOiBgL3VzZXJzLyR7aWR9YCB9XG4gICAgKTtcbiAgfVxufVxuY2xhc3MgVXNlcnNDbGllbnQge1xuICAjY2xpZW50O1xuICAjaHR0cFJlcXVlc3Q7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICB0aGlzLiNjbGllbnQgPSBjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0ID0gaHR0cFJlcXVlc3Q7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgdXNlciBieSB1c2VyIElEXG4gICAqXG4gICAqIEBwYXJhbSBpZCAtIFVzZXIgSUQgb2YgdGhlIHVzZXIgdG8gZmV0Y2guIElmIGBtZWAgaXMgcHJvdmlkZWQsIGEgbWluaW1hbCByZXNwb25zZSBpbmNsdWRpbmcgdGhlIHVzZXJzIHJvbGUgaXMgcmV0dXJuZWQuXG4gICAqL1xuICBnZXRCeUlkKGlkKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oXG4gICAgICBfcmVxdWVzdCh0aGlzLiNjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0LCB7XG4gICAgICAgIHVyaTogYC91c2Vycy8ke2lkfWBcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxufVxuY2xhc3MgT2JzZXJ2YWJsZVNhbml0eUNsaWVudCB7XG4gIGFzc2V0cztcbiAgZGF0YXNldHM7XG4gIGxpdmU7XG4gIHByb2plY3RzO1xuICB1c2VycztcbiAgLyoqXG4gICAqIFByaXZhdGUgcHJvcGVydGllc1xuICAgKi9cbiAgI2NsaWVudENvbmZpZztcbiAgI2h0dHBSZXF1ZXN0O1xuICAvKipcbiAgICogSW5zdGFuY2UgcHJvcGVydGllc1xuICAgKi9cbiAgbGlzdGVuID0gX2xpc3RlbjtcbiAgY29uc3RydWN0b3IoaHR0cFJlcXVlc3QsIGNvbmZpZyA9IGRlZmF1bHRDb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZyhjb25maWcpLCB0aGlzLiNodHRwUmVxdWVzdCA9IGh0dHBSZXF1ZXN0LCB0aGlzLmFzc2V0cyA9IG5ldyBPYnNlcnZhYmxlQXNzZXRzQ2xpZW50KHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0KSwgdGhpcy5kYXRhc2V0cyA9IG5ldyBPYnNlcnZhYmxlRGF0YXNldHNDbGllbnQodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QpLCB0aGlzLmxpdmUgPSBuZXcgTGl2ZUNsaWVudCh0aGlzKSwgdGhpcy5wcm9qZWN0cyA9IG5ldyBPYnNlcnZhYmxlUHJvamVjdHNDbGllbnQodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QpLCB0aGlzLnVzZXJzID0gbmV3IE9ic2VydmFibGVVc2Vyc0NsaWVudCh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lIHRoZSBjbGllbnQgLSByZXR1cm5zIGEgbmV3IGluc3RhbmNlXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGVTYW5pdHlDbGllbnQodGhpcy4jaHR0cFJlcXVlc3QsIHRoaXMuY29uZmlnKCkpO1xuICB9XG4gIGNvbmZpZyhuZXdDb25maWcpIHtcbiAgICBpZiAobmV3Q29uZmlnID09PSB2b2lkIDApXG4gICAgICByZXR1cm4geyAuLi50aGlzLiNjbGllbnRDb25maWcgfTtcbiAgICBpZiAodGhpcy4jY2xpZW50Q29uZmlnICYmIHRoaXMuI2NsaWVudENvbmZpZy5hbGxvd1JlY29uZmlndXJlID09PSAhMSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJFeGlzdGluZyBjbGllbnQgaW5zdGFuY2UgY2Fubm90IGJlIHJlY29uZmlndXJlZCAtIHVzZSBgd2l0aENvbmZpZyhuZXdDb25maWcpYCB0byByZXR1cm4gYSBuZXcgY2xpZW50XCJcbiAgICAgICk7XG4gICAgcmV0dXJuIHRoaXMuI2NsaWVudENvbmZpZyA9IGluaXRDb25maWcobmV3Q29uZmlnLCB0aGlzLiNjbGllbnRDb25maWcgfHwge30pLCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY2xpZW50IHdpdGggYSBuZXcgKHBhcnRpYWwpIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBuZXdDb25maWcgLSBOZXcgY2xpZW50IGNvbmZpZ3VyYXRpb24gcHJvcGVydGllcywgc2hhbGxvd2x5IG1lcmdlZCB3aXRoIGV4aXN0aW5nIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIHdpdGhDb25maWcobmV3Q29uZmlnKSB7XG4gICAgY29uc3QgdGhpc0NvbmZpZyA9IHRoaXMuY29uZmlnKCk7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlU2FuaXR5Q2xpZW50KHRoaXMuI2h0dHBSZXF1ZXN0LCB7XG4gICAgICAuLi50aGlzQ29uZmlnLFxuICAgICAgLi4ubmV3Q29uZmlnLFxuICAgICAgc3RlZ2E6IHtcbiAgICAgICAgLi4udGhpc0NvbmZpZy5zdGVnYSB8fCB7fSxcbiAgICAgICAgLi4udHlwZW9mIG5ld0NvbmZpZz8uc3RlZ2EgPT0gXCJib29sZWFuXCIgPyB7IGVuYWJsZWQ6IG5ld0NvbmZpZy5zdGVnYSB9IDogbmV3Q29uZmlnPy5zdGVnYSB8fCB7fVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGZldGNoKHF1ZXJ5LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2ZldGNoKFxuICAgICAgdGhpcyxcbiAgICAgIHRoaXMuI2h0dHBSZXF1ZXN0LFxuICAgICAgdGhpcy4jY2xpZW50Q29uZmlnLnN0ZWdhLFxuICAgICAgcXVlcnksXG4gICAgICBwYXJhbXMsXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSBzaW5nbGUgZG9jdW1lbnQgd2l0aCB0aGUgZ2l2ZW4gSUQuXG4gICAqXG4gICAqIEBwYXJhbSBpZCAtIERvY3VtZW50IElEIHRvIGZldGNoXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqL1xuICBnZXREb2N1bWVudChpZCwgb3B0aW9ucykge1xuICAgIHJldHVybiBfZ2V0RG9jdW1lbnQodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIGlkLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggbXVsdGlwbGUgZG9jdW1lbnRzIGluIG9uZSByZXF1ZXN0LlxuICAgKiBTaG91bGQgYmUgdXNlZCBzcGFyaW5nbHkgLSBwZXJmb3JtaW5nIGEgcXVlcnkgaXMgdXN1YWxseSBhIGJldHRlciBvcHRpb24uXG4gICAqIFRoZSBvcmRlci9wb3NpdGlvbiBvZiBkb2N1bWVudHMgaXMgcHJlc2VydmVkIGJhc2VkIG9uIHRoZSBvcmlnaW5hbCBhcnJheSBvZiBJRHMuXG4gICAqIElmIGFueSBvZiB0aGUgZG9jdW1lbnRzIGFyZSBtaXNzaW5nLCB0aGV5IHdpbGwgYmUgcmVwbGFjZWQgYnkgYSBgbnVsbGAgZW50cnkgaW4gdGhlIHJldHVybmVkIGFycmF5XG4gICAqXG4gICAqIEBwYXJhbSBpZHMgLSBEb2N1bWVudCBJRHMgdG8gZmV0Y2hcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICovXG4gIGdldERvY3VtZW50cyhpZHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2dldERvY3VtZW50cyh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCwgaWRzLCBvcHRpb25zKTtcbiAgfVxuICBjcmVhdGUoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2NyZWF0ZSh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCwgZG9jdW1lbnQsIFwiY3JlYXRlXCIsIG9wdGlvbnMpO1xuICB9XG4gIGNyZWF0ZUlmTm90RXhpc3RzKGRvY3VtZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9jcmVhdGVJZk5vdEV4aXN0cyh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCwgZG9jdW1lbnQsIG9wdGlvbnMpO1xuICB9XG4gIGNyZWF0ZU9yUmVwbGFjZShkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBfY3JlYXRlT3JSZXBsYWNlKHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0LCBkb2N1bWVudCwgb3B0aW9ucyk7XG4gIH1cbiAgZGVsZXRlKHNlbGVjdGlvbiwgb3B0aW9ucykge1xuICAgIHJldHVybiBfZGVsZXRlKHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0LCBzZWxlY3Rpb24sIG9wdGlvbnMpO1xuICB9XG4gIG11dGF0ZShvcGVyYXRpb25zLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9tdXRhdGUodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIG9wZXJhdGlvbnMsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgYnVpbGRhYmxlIHBhdGNoIG9mIG9wZXJhdGlvbnMgdG8gcGVyZm9ybVxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0aW9uIC0gRG9jdW1lbnQgSUQsIGFuIGFycmF5IG9mIGRvY3VtZW50IElEcywgb3IgYW4gb2JqZWN0IHdpdGggYHF1ZXJ5YCBhbmQgb3B0aW9uYWwgYHBhcmFtc2AsIGRlZmluaW5nIHdoaWNoIGRvY3VtZW50KHMpIHRvIHBhdGNoXG4gICAqIEBwYXJhbSBvcGVyYXRpb25zIC0gT3B0aW9uYWwgb2JqZWN0IG9mIHBhdGNoIG9wZXJhdGlvbnMgdG8gaW5pdGlhbGl6ZSB0aGUgcGF0Y2ggaW5zdGFuY2Ugd2l0aFxuICAgKiBAcmV0dXJucyBQYXRjaCBpbnN0YW5jZSAtIGNhbGwgYC5jb21taXQoKWAgdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9ucyBkZWZpbmVkXG4gICAqL1xuICBwYXRjaChzZWxlY3Rpb24sIG9wZXJhdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGVQYXRjaChzZWxlY3Rpb24sIG9wZXJhdGlvbnMsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgdHJhbnNhY3Rpb24gb2YgbXV0YXRpb25zXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb25zIC0gT3B0aW9uYWwgYXJyYXkgb2YgbXV0YXRpb24gb3BlcmF0aW9ucyB0byBpbml0aWFsaXplIHRoZSB0cmFuc2FjdGlvbiBpbnN0YW5jZSB3aXRoXG4gICAqL1xuICB0cmFuc2FjdGlvbihvcGVyYXRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlVHJhbnNhY3Rpb24ob3BlcmF0aW9ucywgdGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIFBlcmZvcm0gYWN0aW9uIG9wZXJhdGlvbnMgYWdhaW5zdCB0aGUgY29uZmlndXJlZCBkYXRhc2V0XG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb25zIC0gQWN0aW9uIG9wZXJhdGlvbihzKSB0byBleGVjdXRlXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gQWN0aW9uIG9wdGlvbnNcbiAgICovXG4gIGFjdGlvbihvcGVyYXRpb25zLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9hY3Rpb24odGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIG9wZXJhdGlvbnMsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtIGFuIEhUVFAgcmVxdWVzdCBhZ2FpbnN0IHRoZSBTYW5pdHkgQVBJXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqL1xuICByZXF1ZXN0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX3JlcXVlc3QodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBTYW5pdHkgQVBJIFVSTCBmb3IgdGhlIFVSSSBwcm92aWRlZFxuICAgKlxuICAgKiBAcGFyYW0gdXJpIC0gVVJJL3BhdGggdG8gYnVpbGQgVVJMIGZvclxuICAgKiBAcGFyYW0gY2FuVXNlQ2RuIC0gV2hldGhlciBvciBub3QgdG8gYWxsb3cgdXNpbmcgdGhlIEFQSSBDRE4gZm9yIHRoaXMgcm91dGVcbiAgICovXG4gIGdldFVybCh1cmksIGNhblVzZUNkbikge1xuICAgIHJldHVybiBfZ2V0VXJsKHRoaXMsIHVyaSwgY2FuVXNlQ2RuKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgU2FuaXR5IEFQSSBVUkwgZm9yIHRoZSBkYXRhIG9wZXJhdGlvbiBhbmQgcGF0aCBwcm92aWRlZFxuICAgKlxuICAgKiBAcGFyYW0gb3BlcmF0aW9uIC0gRGF0YSBvcGVyYXRpb24gKGVnIGBxdWVyeWAsIGBtdXRhdGVgLCBgbGlzdGVuYCBvciBzaW1pbGFyKVxuICAgKiBAcGFyYW0gcGF0aCAtIFBhdGggdG8gYXBwZW5kIGFmdGVyIHRoZSBvcGVyYXRpb25cbiAgICovXG4gIGdldERhdGFVcmwob3BlcmF0aW9uLCBwYXRoKSB7XG4gICAgcmV0dXJuIF9nZXREYXRhVXJsKHRoaXMsIG9wZXJhdGlvbiwgcGF0aCk7XG4gIH1cbn1cbmNsYXNzIFNhbml0eUNsaWVudCB7XG4gIGFzc2V0cztcbiAgZGF0YXNldHM7XG4gIGxpdmU7XG4gIHByb2plY3RzO1xuICB1c2VycztcbiAgLyoqXG4gICAqIE9ic2VydmFibGUgdmVyc2lvbiBvZiB0aGUgU2FuaXR5IGNsaWVudCwgd2l0aCB0aGUgc2FtZSBjb25maWd1cmF0aW9uIGFzIHRoZSBwcm9taXNlLWJhc2VkIG9uZVxuICAgKi9cbiAgb2JzZXJ2YWJsZTtcbiAgLyoqXG4gICAqIFByaXZhdGUgcHJvcGVydGllc1xuICAgKi9cbiAgI2NsaWVudENvbmZpZztcbiAgI2h0dHBSZXF1ZXN0O1xuICAvKipcbiAgICogSW5zdGFuY2UgcHJvcGVydGllc1xuICAgKi9cbiAgbGlzdGVuID0gX2xpc3RlbjtcbiAgY29uc3RydWN0b3IoaHR0cFJlcXVlc3QsIGNvbmZpZyA9IGRlZmF1bHRDb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZyhjb25maWcpLCB0aGlzLiNodHRwUmVxdWVzdCA9IGh0dHBSZXF1ZXN0LCB0aGlzLmFzc2V0cyA9IG5ldyBBc3NldHNDbGllbnQodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QpLCB0aGlzLmRhdGFzZXRzID0gbmV3IERhdGFzZXRzQ2xpZW50KHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0KSwgdGhpcy5saXZlID0gbmV3IExpdmVDbGllbnQodGhpcyksIHRoaXMucHJvamVjdHMgPSBuZXcgUHJvamVjdHNDbGllbnQodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QpLCB0aGlzLnVzZXJzID0gbmV3IFVzZXJzQ2xpZW50KHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0KSwgdGhpcy5vYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGVTYW5pdHlDbGllbnQoaHR0cFJlcXVlc3QsIGNvbmZpZyk7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lIHRoZSBjbGllbnQgLSByZXR1cm5zIGEgbmV3IGluc3RhbmNlXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IFNhbml0eUNsaWVudCh0aGlzLiNodHRwUmVxdWVzdCwgdGhpcy5jb25maWcoKSk7XG4gIH1cbiAgY29uZmlnKG5ld0NvbmZpZykge1xuICAgIGlmIChuZXdDb25maWcgPT09IHZvaWQgMClcbiAgICAgIHJldHVybiB7IC4uLnRoaXMuI2NsaWVudENvbmZpZyB9O1xuICAgIGlmICh0aGlzLiNjbGllbnRDb25maWcgJiYgdGhpcy4jY2xpZW50Q29uZmlnLmFsbG93UmVjb25maWd1cmUgPT09ICExKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkV4aXN0aW5nIGNsaWVudCBpbnN0YW5jZSBjYW5ub3QgYmUgcmVjb25maWd1cmVkIC0gdXNlIGB3aXRoQ29uZmlnKG5ld0NvbmZpZylgIHRvIHJldHVybiBhIG5ldyBjbGllbnRcIlxuICAgICAgKTtcbiAgICByZXR1cm4gdGhpcy5vYnNlcnZhYmxlICYmIHRoaXMub2JzZXJ2YWJsZS5jb25maWcobmV3Q29uZmlnKSwgdGhpcy4jY2xpZW50Q29uZmlnID0gaW5pdENvbmZpZyhuZXdDb25maWcsIHRoaXMuI2NsaWVudENvbmZpZyB8fCB7fSksIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lIHRoZSBjbGllbnQgd2l0aCBhIG5ldyAocGFydGlhbCkgY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIG5ld0NvbmZpZyAtIE5ldyBjbGllbnQgY29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzLCBzaGFsbG93bHkgbWVyZ2VkIHdpdGggZXhpc3RpbmcgY29uZmlndXJhdGlvblxuICAgKi9cbiAgd2l0aENvbmZpZyhuZXdDb25maWcpIHtcbiAgICBjb25zdCB0aGlzQ29uZmlnID0gdGhpcy5jb25maWcoKTtcbiAgICByZXR1cm4gbmV3IFNhbml0eUNsaWVudCh0aGlzLiNodHRwUmVxdWVzdCwge1xuICAgICAgLi4udGhpc0NvbmZpZyxcbiAgICAgIC4uLm5ld0NvbmZpZyxcbiAgICAgIHN0ZWdhOiB7XG4gICAgICAgIC4uLnRoaXNDb25maWcuc3RlZ2EgfHwge30sXG4gICAgICAgIC4uLnR5cGVvZiBuZXdDb25maWc/LnN0ZWdhID09IFwiYm9vbGVhblwiID8geyBlbmFibGVkOiBuZXdDb25maWcuc3RlZ2EgfSA6IG5ld0NvbmZpZz8uc3RlZ2EgfHwge31cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmZXRjaChxdWVyeSwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oXG4gICAgICBfZmV0Y2goXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHRoaXMuI2h0dHBSZXF1ZXN0LFxuICAgICAgICB0aGlzLiNjbGllbnRDb25maWcuc3RlZ2EsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBwYXJhbXMsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgIClcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIHNpbmdsZSBkb2N1bWVudCB3aXRoIHRoZSBnaXZlbiBJRC5cbiAgICpcbiAgICogQHBhcmFtIGlkIC0gRG9jdW1lbnQgSUQgdG8gZmV0Y2hcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICovXG4gIGdldERvY3VtZW50KGlkLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX2dldERvY3VtZW50KHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0LCBpZCwgb3B0aW9ucykpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBtdWx0aXBsZSBkb2N1bWVudHMgaW4gb25lIHJlcXVlc3QuXG4gICAqIFNob3VsZCBiZSB1c2VkIHNwYXJpbmdseSAtIHBlcmZvcm1pbmcgYSBxdWVyeSBpcyB1c3VhbGx5IGEgYmV0dGVyIG9wdGlvbi5cbiAgICogVGhlIG9yZGVyL3Bvc2l0aW9uIG9mIGRvY3VtZW50cyBpcyBwcmVzZXJ2ZWQgYmFzZWQgb24gdGhlIG9yaWdpbmFsIGFycmF5IG9mIElEcy5cbiAgICogSWYgYW55IG9mIHRoZSBkb2N1bWVudHMgYXJlIG1pc3NpbmcsIHRoZXkgd2lsbCBiZSByZXBsYWNlZCBieSBhIGBudWxsYCBlbnRyeSBpbiB0aGUgcmV0dXJuZWQgYXJyYXlcbiAgICpcbiAgICogQHBhcmFtIGlkcyAtIERvY3VtZW50IElEcyB0byBmZXRjaFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKi9cbiAgZ2V0RG9jdW1lbnRzKGlkcywgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9nZXREb2N1bWVudHModGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIGlkcywgb3B0aW9ucykpO1xuICB9XG4gIGNyZWF0ZShkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKFxuICAgICAgX2NyZWF0ZSh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCwgZG9jdW1lbnQsIFwiY3JlYXRlXCIsIG9wdGlvbnMpXG4gICAgKTtcbiAgfVxuICBjcmVhdGVJZk5vdEV4aXN0cyhkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKFxuICAgICAgX2NyZWF0ZUlmTm90RXhpc3RzKHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0LCBkb2N1bWVudCwgb3B0aW9ucylcbiAgICApO1xuICB9XG4gIGNyZWF0ZU9yUmVwbGFjZShkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKFxuICAgICAgX2NyZWF0ZU9yUmVwbGFjZSh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCwgZG9jdW1lbnQsIG9wdGlvbnMpXG4gICAgKTtcbiAgfVxuICBkZWxldGUoc2VsZWN0aW9uLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX2RlbGV0ZSh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCwgc2VsZWN0aW9uLCBvcHRpb25zKSk7XG4gIH1cbiAgbXV0YXRlKG9wZXJhdGlvbnMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfbXV0YXRlKHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0LCBvcGVyYXRpb25zLCBvcHRpb25zKSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBidWlsZGFibGUgcGF0Y2ggb2Ygb3BlcmF0aW9ucyB0byBwZXJmb3JtXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3Rpb24gLSBEb2N1bWVudCBJRCwgYW4gYXJyYXkgb2YgZG9jdW1lbnQgSURzLCBvciBhbiBvYmplY3Qgd2l0aCBgcXVlcnlgIGFuZCBvcHRpb25hbCBgcGFyYW1zYCwgZGVmaW5pbmcgd2hpY2ggZG9jdW1lbnQocykgdG8gcGF0Y2hcbiAgICogQHBhcmFtIG9wZXJhdGlvbnMgLSBPcHRpb25hbCBvYmplY3Qgb2YgcGF0Y2ggb3BlcmF0aW9ucyB0byBpbml0aWFsaXplIHRoZSBwYXRjaCBpbnN0YW5jZSB3aXRoXG4gICAqIEByZXR1cm5zIFBhdGNoIGluc3RhbmNlIC0gY2FsbCBgLmNvbW1pdCgpYCB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb25zIGRlZmluZWRcbiAgICovXG4gIHBhdGNoKGRvY3VtZW50SWQsIG9wZXJhdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFBhdGNoKGRvY3VtZW50SWQsIG9wZXJhdGlvbnMsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgdHJhbnNhY3Rpb24gb2YgbXV0YXRpb25zXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb25zIC0gT3B0aW9uYWwgYXJyYXkgb2YgbXV0YXRpb24gb3BlcmF0aW9ucyB0byBpbml0aWFsaXplIHRoZSB0cmFuc2FjdGlvbiBpbnN0YW5jZSB3aXRoXG4gICAqL1xuICB0cmFuc2FjdGlvbihvcGVyYXRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbihvcGVyYXRpb25zLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBhY3Rpb24gb3BlcmF0aW9ucyBhZ2FpbnN0IHRoZSBjb25maWd1cmVkIGRhdGFzZXRcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgdHJhbnNhY3Rpb24gcmVzdWx0XG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb25zIC0gQWN0aW9uIG9wZXJhdGlvbihzKSB0byBleGVjdXRlXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gQWN0aW9uIG9wdGlvbnNcbiAgICovXG4gIGFjdGlvbihvcGVyYXRpb25zLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX2FjdGlvbih0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCwgb3BlcmF0aW9ucywgb3B0aW9ucykpO1xuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtIGEgcmVxdWVzdCBhZ2FpbnN0IHRoZSBTYW5pdHkgQVBJXG4gICAqIE5PVEU6IE9ubHkgdXNlIHRoaXMgZm9yIFNhbml0eSBBUEkgZW5kcG9pbnRzLCBub3QgZm9yIHlvdXIgb3duIEFQSXMhXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSByZXNwb25zZSBib2R5XG4gICAqL1xuICByZXF1ZXN0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfcmVxdWVzdCh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCwgb3B0aW9ucykpO1xuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtIGFuIEhUVFAgcmVxdWVzdCBhIGAvZGF0YWAgc3ViLWVuZHBvaW50XG4gICAqIE5PVEU6IENvbnNpZGVyZWQgaW50ZXJuYWwsIHRodXMgbWFya2VkIGFzIGRlcHJlY2F0ZWQuIFVzZSBgcmVxdWVzdGAgaW5zdGVhZC5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgLSBVc2UgYHJlcXVlc3QoKWAgb3IgeW91ciBvd24gSFRUUCBsaWJyYXJ5IGluc3RlYWRcbiAgICogQHBhcmFtIGVuZHBvaW50IC0gRW5kcG9pbnQgdG8gaGl0IChtdXRhdGUsIHF1ZXJ5IGV0YylcbiAgICogQHBhcmFtIGJvZHkgLSBSZXF1ZXN0IGJvZHlcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICogQGludGVybmFsXG4gICAqL1xuICBkYXRhUmVxdWVzdChlbmRwb2ludCwgYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9kYXRhUmVxdWVzdCh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCwgZW5kcG9pbnQsIGJvZHksIG9wdGlvbnMpKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgU2FuaXR5IEFQSSBVUkwgZm9yIHRoZSBVUkkgcHJvdmlkZWRcbiAgICpcbiAgICogQHBhcmFtIHVyaSAtIFVSSS9wYXRoIHRvIGJ1aWxkIFVSTCBmb3JcbiAgICogQHBhcmFtIGNhblVzZUNkbiAtIFdoZXRoZXIgb3Igbm90IHRvIGFsbG93IHVzaW5nIHRoZSBBUEkgQ0ROIGZvciB0aGlzIHJvdXRlXG4gICAqL1xuICBnZXRVcmwodXJpLCBjYW5Vc2VDZG4pIHtcbiAgICByZXR1cm4gX2dldFVybCh0aGlzLCB1cmksIGNhblVzZUNkbik7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIFNhbml0eSBBUEkgVVJMIGZvciB0aGUgZGF0YSBvcGVyYXRpb24gYW5kIHBhdGggcHJvdmlkZWRcbiAgICpcbiAgICogQHBhcmFtIG9wZXJhdGlvbiAtIERhdGEgb3BlcmF0aW9uIChlZyBgcXVlcnlgLCBgbXV0YXRlYCwgYGxpc3RlbmAgb3Igc2ltaWxhcilcbiAgICogQHBhcmFtIHBhdGggLSBQYXRoIHRvIGFwcGVuZCBhZnRlciB0aGUgb3BlcmF0aW9uXG4gICAqL1xuICBnZXREYXRhVXJsKG9wZXJhdGlvbiwgcGF0aCkge1xuICAgIHJldHVybiBfZ2V0RGF0YVVybCh0aGlzLCBvcGVyYXRpb24sIHBhdGgpO1xuICB9XG59XG5mdW5jdGlvbiBkZWZpbmVDcmVhdGVDbGllbnRFeHBvcnRzKGVudk1pZGRsZXdhcmUyLCBDbGFzc0NvbnN0cnVjdG9yKSB7XG4gIGNvbnN0IGRlZmF1bHRSZXF1ZXN0ZXIgPSBkZWZpbmVIdHRwUmVxdWVzdChlbnZNaWRkbGV3YXJlMik7XG4gIHJldHVybiB7IHJlcXVlc3RlcjogZGVmYXVsdFJlcXVlc3RlciwgY3JlYXRlQ2xpZW50OiAoY29uZmlnKSA9PiBuZXcgQ2xhc3NDb25zdHJ1Y3RvcihcbiAgICAob3B0aW9ucywgcmVxdWVzdGVyMikgPT4gKHJlcXVlc3RlcjIgfHwgZGVmYXVsdFJlcXVlc3Rlcikoe1xuICAgICAgbWF4UmVkaXJlY3RzOiAwLFxuICAgICAgbWF4UmV0cmllczogY29uZmlnLm1heFJldHJpZXMsXG4gICAgICByZXRyeURlbGF5OiBjb25maWcucmV0cnlEZWxheSxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9KSxcbiAgICBjb25maWdcbiAgKSB9O1xufVxuZnVuY3Rpb24gZGVmaW5lRGVwcmVjYXRlZENyZWF0ZUNsaWVudChjcmVhdGVDbGllbnQyKSB7XG4gIHJldHVybiBmdW5jdGlvbihjb25maWcpIHtcbiAgICByZXR1cm4gcHJpbnROb0RlZmF1bHRFeHBvcnQoKSwgY3JlYXRlQ2xpZW50Mihjb25maWcpO1xuICB9O1xufVxudmFyIGVudk1pZGRsZXdhcmUgPSBbXTtcbmNvbnN0IGV4cCA9IGRlZmluZUNyZWF0ZUNsaWVudEV4cG9ydHMoZW52TWlkZGxld2FyZSwgU2FuaXR5Q2xpZW50KSwgcmVxdWVzdGVyID0gZXhwLnJlcXVlc3RlciwgY3JlYXRlQ2xpZW50ID0gZXhwLmNyZWF0ZUNsaWVudCwgZGVwcmVjYXRlZENyZWF0ZUNsaWVudCA9IGRlZmluZURlcHJlY2F0ZWRDcmVhdGVDbGllbnQoY3JlYXRlQ2xpZW50KTtcbmV4cG9ydCB7XG4gIEJhc2VQYXRjaCxcbiAgQmFzZVRyYW5zYWN0aW9uLFxuICBDbGllbnRFcnJvcixcbiAgQ29yc09yaWdpbkVycm9yLFxuICBPYnNlcnZhYmxlUGF0Y2gsXG4gIE9ic2VydmFibGVTYW5pdHlDbGllbnQsXG4gIE9ic2VydmFibGVUcmFuc2FjdGlvbixcbiAgUGF0Y2gsXG4gIFNhbml0eUNsaWVudCxcbiAgU2VydmVyRXJyb3IsXG4gIFRyYW5zYWN0aW9uLFxuICBjcmVhdGVDbGllbnQsXG4gIGRlcHJlY2F0ZWRDcmVhdGVDbGllbnQgYXMgZGVmYXVsdCxcbiAgcmVxdWVzdGVyLFxuICBhZGFwdGVyIGFzIHVuc3RhYmxlX19hZGFwdGVyLFxuICBlbnZpcm9ubWVudCBhcyB1bnN0YWJsZV9fZW52aXJvbm1lbnQsXG4gIHZhbGlkYXRlQXBpUGVyc3BlY3RpdmVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5icm93c2VyLmpzLm1hcFxuIl0sIm5hbWVzIjpbImdldEl0IiwiYWRhcHRlciIsImVudmlyb25tZW50IiwicmV0cnkiLCJqc29uUmVxdWVzdCIsImpzb25SZXNwb25zZSIsInByb2dyZXNzIiwib2JzZXJ2YWJsZSIsIk9ic2VydmFibGUiLCJmcm9tIiwibGFzdFZhbHVlRnJvbSIsInN0ZWdhQ2xlYW4iLCJjb21iaW5lTGF0ZXN0V2l0aCIsIm1hcCIsImZpbHRlciIsIkNsaWVudEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsInJlcyIsInByb3BzIiwiZXh0cmFjdEVycm9yUHJvcHMiLCJtZXNzYWdlIiwic3RhdHVzQ29kZSIsIk9iamVjdCIsImFzc2lnbiIsIlNlcnZlckVycm9yIiwiYm9keSIsInJlc3BvbnNlIiwicmVzcG9uc2VCb2R5Iiwic3RyaW5naWZ5Qm9keSIsImRldGFpbHMiLCJlcnJvciIsImlzTXV0YXRpb25FcnJvciIsImlzQWN0aW9uRXJyb3IiLCJhbGxJdGVtcyIsIml0ZW1zIiwic2xpY2UiLCJpdGVtIiwiZGVzY3JpcHRpb24iLCJCb29sZWFuIiwiaXRlbXNTdHIiLCJsZW5ndGgiLCJqb2luIiwiaHR0cEVycm9yTWVzc2FnZSIsImlzUGxhaW5PYmplY3QiLCJ0eXBlIiwib2JqIiwiQXJyYXkiLCJpc0FycmF5Iiwic3RhdHVzTWVzc2FnZSIsIm1ldGhvZCIsInVybCIsImhlYWRlcnMiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJKU09OIiwic3RyaW5naWZ5IiwiQ29yc09yaWdpbkVycm9yIiwicHJvamVjdElkIiwicHJvamVjdElkMiIsIm5hbWUiLCJVUkwiLCJsb2NhdGlvbiIsIm9yaWdpbiIsInNlYXJjaFBhcmFtcyIsInNldCIsImFkZE9yaWdpblVybCIsImh0dHBFcnJvciIsIm9uUmVzcG9uc2UiLCJwcmludFdhcm5pbmdzIiwid2FybiIsImZvckVhY2giLCJtc2ciLCJjb25zb2xlIiwiZGVmaW5lSHR0cFJlcXVlc3QiLCJlbnZNaWRkbGV3YXJlMiIsInNob3VsZFJldHJ5IiwiaW1wbGVtZW50YXRpb24iLCJlcnIiLCJhdHRlbXB0Iiwib3B0aW9ucyIsIm1heFJldHJpZXMiLCJpc1NhZmUiLCJpc1F1ZXJ5IiwidXJpIiwic3RhcnRzV2l0aCIsImlzUmV0cmlhYmxlUmVzcG9uc2UiLCJCQVNFX1VSTCIsImdlbmVyYXRlSGVscFVybCIsInNsdWciLCJWQUxJRF9BU1NFVF9UWVBFUyIsIlZBTElEX0lOU0VSVF9MT0NBVElPTlMiLCJkYXRhc2V0IiwidGVzdCIsImlkIiwidmFsaWRhdGVBc3NldFR5cGUiLCJ2YWxpZGF0ZU9iamVjdCIsIm9wIiwidmFsIiwidmFsaWRhdGVEb2N1bWVudElkIiwiaW5jbHVkZXMiLCJyZXF1aXJlRG9jdW1lbnRJZCIsImRvYyIsIl9pZCIsInZhbGlkYXRlSW5zZXJ0IiwiYXQiLCJzZWxlY3RvciIsInNpZ25hdHVyZSIsInZhbGlkIiwibG9jIiwiaGFzRGF0YXNldCIsImNvbmZpZyIsInJlcXVlc3RUYWciLCJ0YWciLCJvbmNlIiwiZm4iLCJkaWRDYWxsIiwicmV0dXJuVmFsdWUiLCJhcmdzIiwiY3JlYXRlV2FybmluZ1ByaW50ZXIiLCJwcmludENkbkFuZFdpdGhDcmVkZW50aWFsc1dhcm5pbmciLCJwcmludENkbldhcm5pbmciLCJwcmludENkblByZXZpZXdEcmFmdHNXYXJuaW5nIiwicHJpbnRCcm93c2VyVG9rZW5XYXJuaW5nIiwicHJpbnROb0FwaVZlcnNpb25TcGVjaWZpZWRXYXJuaW5nIiwicHJpbnROb0RlZmF1bHRFeHBvcnQiLCJkZWZhdWx0Q2RuSG9zdCIsImRlZmF1bHRDb25maWciLCJhcGlIb3N0IiwiYXBpVmVyc2lvbiIsInVzZVByb2plY3RIb3N0bmFtZSIsInN0ZWdhIiwiZW5hYmxlZCIsIkxPQ0FMSE9TVFMiLCJpc0xvY2FsIiwiaG9zdCIsInZhbGlkYXRlQXBpVmVyc2lvbiIsImFwaURhdGUiLCJEYXRlIiwiZ2V0VGltZSIsInZhbGlkYXRlQXBpUGVyc3BlY3RpdmUiLCJwZXJzcGVjdGl2ZSIsInBlcnNwZWN0aXZlVmFsdWUiLCJUeXBlRXJyb3IiLCJpbml0Q29uZmlnIiwicHJldkNvbmZpZyIsInNwZWNpZmllZENvbmZpZyIsIm5ld0NvbmZpZyIsInByb2plY3RCYXNlZCIsIlByb21pc2UiLCJoZWxwVXJsIiwic3R1ZGlvVXJsIiwiaXNCcm93c2VyIiwid2luZG93IiwiaG9zdG5hbWUiLCJpc0xvY2FsaG9zdCIsInRva2VuIiwiaWdub3JlQnJvd3NlclRva2VuV2FybmluZyIsInVzZUNkbiIsInJlcXVlc3RUYWdQcmVmaXgiLCJyZXBsYWNlIiwiaXNEZWZhdWx0QXBpIiwid2l0aENyZWRlbnRpYWxzIiwiaG9zdFBhcnRzIiwic3BsaXQiLCJwcm90b2NvbCIsImNkbkhvc3QiLCJjZG5VcmwiLCJnZXRTZWxlY3Rpb24iLCJzZWwiLCJxdWVyeSIsInBhcmFtcyIsImlkcyIsInNlbGVjdGlvbk9wdHMiLCJCYXNlUGF0Y2giLCJzZWxlY3Rpb24iLCJvcGVyYXRpb25zIiwiYXR0cnMiLCJfYXNzaWduIiwic2V0SWZNaXNzaW5nIiwiZGlmZk1hdGNoUGF0Y2giLCJ1bnNldCIsImluYyIsImRlYyIsImluc2VydCIsImFwcGVuZCIsInByZXBlbmQiLCJzcGxpY2UiLCJzdGFydCIsImRlbGV0ZUNvdW50IiwiZGVsQWxsIiwic3RhcnRJbmRleCIsImRlbENvdW50IiwiTWF0aCIsIm1heCIsImRlbFJhbmdlIiwicmFuZ2VTZWxlY3RvciIsImlmUmV2aXNpb25JZCIsInJldiIsImlmUmV2aXNpb25JRCIsInNlcmlhbGl6ZSIsInRvSlNPTiIsInJlc2V0IiwibWVyZ2UiLCJfc2V0IiwiT2JzZXJ2YWJsZVBhdGNoIiwiY2xpZW50IiwiY2xvbmUiLCJjb21taXQiLCJyZXR1cm5GaXJzdCIsIm9wdHMiLCJyZXR1cm5Eb2N1bWVudHMiLCJtdXRhdGUiLCJwYXRjaCIsIlBhdGNoIiwiZGVmYXVsdE11dGF0ZU9wdGlvbnMiLCJCYXNlVHJhbnNhY3Rpb24iLCJ0cmFuc2FjdGlvbklkIiwidHJ4SWQiLCJjcmVhdGUiLCJfYWRkIiwiY3JlYXRlSWZOb3RFeGlzdHMiLCJjcmVhdGVPclJlcGxhY2UiLCJkZWxldGUiLCJkb2N1bWVudElkIiwibXV0IiwicHVzaCIsIlRyYW5zYWN0aW9uIiwicGF0Y2hPckRvY3VtZW50SWQiLCJwYXRjaE9wcyIsImlzQnVpbGRlciIsIk9ic2VydmFibGVUcmFuc2FjdGlvbiIsInByb2plY3RIZWFkZXIiLCJyZXF1ZXN0T3B0aW9ucyIsIm92ZXJyaWRlcyIsIkF1dGhvcml6YXRpb24iLCJ1c2VHbG9iYWxBcGkiLCJ0aW1lb3V0IiwicHJveHkiLCJqc29uIiwiZmV0Y2giLCJlbmNvZGVRdWVyeVN0cmluZyIsIlVSTFNlYXJjaFBhcmFtcyIsImluY2x1ZGVNdXRhdGlvbnMiLCJyZXR1cm5RdWVyeSIsImtleSIsInZhbHVlIiwiZW50cmllcyIsImV4Y2x1ZGVGYWxzZXkiLCJwYXJhbSIsImRlZlZhbHVlIiwiZ2V0TXV0YXRpb25RdWVyeSIsImRyeVJ1biIsInJldHVybklkcyIsInZpc2liaWxpdHkiLCJhdXRvR2VuZXJhdGVBcnJheUtleXMiLCJza2lwQ3Jvc3NEYXRhc2V0UmVmZXJlbmNlVmFsaWRhdGlvbiIsImlzUmVzcG9uc2UiLCJldmVudCIsImdldEJvZHkiLCJpbmRleEJ5IiwiZG9jcyIsImF0dHIiLCJyZWR1Y2UiLCJpbmRleGVkIiwiZ2V0UXVlcnlTaXplTGltaXQiLCJfZmV0Y2giLCJodHRwUmVxdWVzdCIsIl9zdGVnYSIsIl9wYXJhbXMiLCJtYXBSZXNwb25zZSIsImZpbHRlclJlc3BvbnNlIiwicmVzdWx0IiwiY2FjaGUiLCJuZXh0IiwidXNlQWJvcnRTaWduYWwiLCJzaWduYWwiLCJyZXN1bHRTb3VyY2VNYXAiLCJyZXFPcHRzIiwiJHJlcXVlc3QiLCJfZGF0YVJlcXVlc3QiLCJwaXBlIiwidGhlbiIsIm4iLCJzdGVnYUVuY29kZVNvdXJjZU1hcCQxIiwic3RlZ2FFbmNvZGVTb3VyY2VNYXAiLCJfZ2V0RG9jdW1lbnQiLCJfZ2V0RGF0YVVybCIsIl9yZXF1ZXN0T2JzZXJ2YWJsZSIsImRvY3VtZW50cyIsIl9nZXREb2N1bWVudHMiLCJfY3JlYXRlSWZOb3RFeGlzdHMiLCJfY3JlYXRlIiwiX2NyZWF0ZU9yUmVwbGFjZSIsIl9kZWxldGUiLCJtdXRhdGlvbnMiLCJfbXV0YXRlIiwibXV0cyIsIl9hY3Rpb24iLCJhY3Rpb25zIiwiYWN0cyIsImVuZHBvaW50IiwiaXNNdXRhdGlvbiIsImlzQWN0aW9uIiwic3RyUXVlcnkiLCJ1c2VHZXQiLCJzdHJpbmdRdWVyeSIsImxhc3RMaXZlRXZlbnRJZCIsImNhY2hlTW9kZSIsInJlcU9wdGlvbnMiLCJjYW5Vc2VDZG4iLCJyZXN1bHRzIiwiZG9jdW1lbnQiLCJtdXRhdGlvbiIsInBlcnNwZWN0aXZlT3B0aW9uIiwiX2dldFVybCIsInJlcXVlc3QiLCJzdWJzY3JpYmVyIiwicmVxdWVzdGVyIiwic3Vic2NyaWJlIiwiX3dpdGhBYm9ydFNpZ25hbCIsIl9yZXF1ZXN0Iiwib3BlcmF0aW9uIiwicGF0aCIsImNhdGFsb2ciLCJiYXNlVXJpIiwiaW5wdXQiLCJvYnNlcnZlciIsImFib3J0IiwiX2NyZWF0ZUFib3J0RXJyb3IiLCJhYm9ydGVkIiwic3Vic2NyaXB0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1bnN1YnNjcmliZSIsImlzRG9tRXhjZXB0aW9uU3VwcG9ydGVkIiwiZ2xvYmFsVGhpcyIsIkRPTUV4Y2VwdGlvbiIsInJlYXNvbiIsIk9ic2VydmFibGVBc3NldHNDbGllbnQiLCJ1cGxvYWQiLCJhc3NldFR5cGUiLCJfdXBsb2FkIiwiQXNzZXRzQ2xpZW50Iiwib2JzZXJ2YWJsZTIiLCJtZXRhIiwiZXh0cmFjdCIsImRhdGFzZXQyIiwiYXNzZXRFbmRwb2ludCIsIm9wdGlvbnNGcm9tRmlsZSIsImxhYmVsIiwidGl0bGUiLCJjcmVkaXRMaW5lIiwiZmlsZW5hbWUiLCJzb3VyY2UiLCJzb3VyY2VJZCIsInNvdXJjZU5hbWUiLCJzb3VyY2VVcmwiLCJjb250ZW50VHlwZSIsImZpbGUiLCJGaWxlIiwicHJlc2VydmVGaWxlbmFtZSIsImRlZmF1bHRzIiwiZGVmYXVsdHMyIiwia2V5cyIsImNvbmNhdCIsInRhcmdldCIsInByb3AiLCJwaWNrIiwiTUFYX1VSTF9MRU5HVEgiLCJwb3NzaWJsZU9wdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsImluY2x1ZGVSZXN1bHQiLCJfbGlzdGVuIiwibGlzdGVuT3B0cyIsInFzIiwibGlzdGVuRm9yIiwiZXZlbnRzIiwic2hvdWxkRW1pdFJlY29ubmVjdCIsImVzT3B0aW9ucyIsImVzIiwicmVjb25uZWN0VGltZXIiLCJzdG9wcGVkIiwidW5zdWJzY3JpYmVkIiwib3BlbiIsIm9uRXJyb3IiLCJlbWl0UmVjb25uZWN0IiwicmVhZHlTdGF0ZSIsIkNMT1NFRCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJvbkNoYW5uZWxFcnJvciIsImNvb2VyY2VFcnJvciIsIm9uTWVzc2FnZSIsImV2dCIsInBhcnNlRXZlbnQkMSIsIm9uRGlzY29ubmVjdCIsImNvbXBsZXRlIiwiY2xvc2UiLCJnZXRFdmVudFNvdXJjZSIsImRlZmF1bHQiLCJFdmVudFNvdXJjZTIiLCJldnMiLCJldmVudFNvdXJjZSIsImNhdGNoIiwic3RvcCIsImRhdGEiLCJwYXJzZSIsImV4dHJhY3RFcnJvck1lc3NhZ2UiLCJyZXF1aXJlZEFwaVZlcnNpb24iLCJMaXZlQ2xpZW50IiwiaW5jbHVkZURyYWZ0cyIsIl90YWciLCJfYXBpVmVyc2lvbiIsImdldFVybCIsInBhcnNlRXZlbnQiLCJjYXVzZSIsIkV2ZW50U291cmNlSW1wbGVtZW50YXRpb24iLCJFdmVudFNvdXJjZSIsIm1vZGUiLCJjcmVkZW50aWFscyIsInRvU3RyaW5nIiwibGFzdEV2ZW50SWQiLCJPYnNlcnZhYmxlRGF0YXNldHNDbGllbnQiLCJfbW9kaWZ5IiwiZWRpdCIsImxpc3QiLCJEYXRhc2V0c0NsaWVudCIsIk9ic2VydmFibGVQcm9qZWN0c0NsaWVudCIsImluY2x1ZGVNZW1iZXJzIiwiZ2V0QnlJZCIsIlByb2plY3RzQ2xpZW50IiwiT2JzZXJ2YWJsZVVzZXJzQ2xpZW50IiwiVXNlcnNDbGllbnQiLCJPYnNlcnZhYmxlU2FuaXR5Q2xpZW50IiwiY2xpZW50Q29uZmlnIiwibGlzdGVuIiwiYXNzZXRzIiwiZGF0YXNldHMiLCJsaXZlIiwicHJvamVjdHMiLCJ1c2VycyIsImFsbG93UmVjb25maWd1cmUiLCJ3aXRoQ29uZmlnIiwidGhpc0NvbmZpZyIsImdldERvY3VtZW50IiwiZ2V0RG9jdW1lbnRzIiwidHJhbnNhY3Rpb24iLCJhY3Rpb24iLCJnZXREYXRhVXJsIiwiU2FuaXR5Q2xpZW50IiwiZGF0YVJlcXVlc3QiLCJkZWZpbmVDcmVhdGVDbGllbnRFeHBvcnRzIiwiQ2xhc3NDb25zdHJ1Y3RvciIsImRlZmF1bHRSZXF1ZXN0ZXIiLCJjcmVhdGVDbGllbnQiLCJyZXF1ZXN0ZXIyIiwibWF4UmVkaXJlY3RzIiwicmV0cnlEZWxheSIsImRlZmluZURlcHJlY2F0ZWRDcmVhdGVDbGllbnQiLCJjcmVhdGVDbGllbnQyIiwiZW52TWlkZGxld2FyZSIsImV4cCIsImRlcHJlY2F0ZWRDcmVhdGVDbGllbnQiLCJ1bnN0YWJsZV9fYWRhcHRlciIsInVuc3RhYmxlX19lbnZpcm9ubWVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/client/dist/index.browser.js\n");

/***/ })

};
;